var Qe=Object.defineProperty;var Ye=(Qt,Yt,ye)=>Yt in Qt?Qe(Qt,Yt,{enumerable:!0,configurable:!0,writable:!0,value:ye}):Qt[Yt]=ye;var gt=(Qt,Yt,ye)=>(Ye(Qt,typeof Yt!="symbol"?Yt+"":Yt,ye),ye);import{g as Je,c as Pe}from"./_commonjsHelpers-de833af9.js";var ze={exports:{}};/*! For license information please see quill.js.LICENSE.txt */ze.exports;(function(Qt,Yt){(function(ye,Ce){Qt.exports=Ce()})(self,function(){return function(){var ye={9698:function(X,R,t){t.d(R,{Ay:function(){return q},Ji:function(){return T},mG:function(){return A},zo:function(){return l}});var h=t(6003),w=t(5232),O=t.n(w),v=t(3036),M=t(4850),f=t(5508);class q extends h.BlockBlot{constructor(){super(...arguments);gt(this,"cache",{})}delta(){return this.cache.delta==null&&(this.cache.delta=A(this)),this.cache.delta}deleteAt(L,_){super.deleteAt(L,_),this.cache={}}formatAt(L,_,H,Y){_<=0||(this.scroll.query(H,h.Scope.BLOCK)?L+_===this.length()&&this.format(H,Y):super.formatAt(L,Math.min(_,this.length()-L-1),H,Y),this.cache={})}insertAt(L,_,H){if(H!=null)return super.insertAt(L,_,H),void(this.cache={});if(_.length===0)return;const Y=_.split(`
`),st=Y.shift();st.length>0&&(L<this.length()-1||this.children.tail==null?super.insertAt(Math.min(L,this.length()-1),st):this.children.tail.insertAt(this.children.tail.length(),st),this.cache={});let K=this;Y.reduce((p,j)=>(K=K.split(p,!0),K.insertAt(0,j),j.length),L+st.length)}insertBefore(L,_){const{head:H}=this.children;super.insertBefore(L,_),H instanceof v.A&&H.remove(),this.cache={}}length(){return this.cache.length==null&&(this.cache.length=super.length()+1),this.cache.length}moveChildren(L,_){super.moveChildren(L,_),this.cache={}}optimize(L){super.optimize(L),this.cache={}}path(L){return super.path(L,!0)}removeChild(L){super.removeChild(L),this.cache={}}split(L){let _=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(_&&(L===0||L>=this.length()-1)){const Y=this.clone();return L===0?(this.parent.insertBefore(Y,this),this):(this.parent.insertBefore(Y,this.next),Y)}const H=super.split(L,_);return this.cache={},H}}q.blotName="block",q.tagName="P",q.defaultChild=v.A,q.allowedChildren=[v.A,M.A,h.EmbedBlot,f.A];class l extends h.EmbedBlot{attach(){super.attach(),this.attributes=new h.AttributorStore(this.domNode)}delta(){return new(O())().insert(this.value(),{...this.formats(),...this.attributes.values()})}format(E,L){const _=this.scroll.query(E,h.Scope.BLOCK_ATTRIBUTE);_!=null&&this.attributes.attribute(_,L)}formatAt(E,L,_,H){this.format(_,H)}insertAt(E,L,_){if(_!=null)return void super.insertAt(E,L,_);const H=L.split(`
`),Y=H.pop(),st=H.map(p=>{const j=this.scroll.create(q.blotName);return j.insertAt(0,p),j}),K=this.split(E);st.forEach(p=>{this.parent.insertBefore(p,K)}),Y&&this.parent.insertBefore(this.scroll.create("text",Y),K)}}function A(c){let E=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return c.descendants(h.LeafBlot).reduce((L,_)=>_.length()===0?L:L.insert(_.value(),T(_,{},E)),new(O())).insert(`
`,T(c))}function T(c){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},L=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2];return c==null?E:("formats"in c&&typeof c.formats=="function"&&(E={...E,...c.formats()},L&&delete E["code-token"]),c.parent==null||c.parent.statics.blotName==="scroll"||c.parent.statics.scope!==c.statics.scope?E:T(c.parent,E,L))}l.scope=h.Scope.BLOCK_BLOT},3036:function(X,R,t){var h=t(6003);class w extends h.EmbedBlot{static value(){}optimize(){(this.prev||this.next)&&this.remove()}length(){return 0}value(){return""}}w.blotName="break",w.tagName="BR",R.A=w},580:function(X,R,t){var h=t(6003);class w extends h.ContainerBlot{}R.A=w},4541:function(X,R,t){var h=t(6003),w=t(5508);const v=class v extends h.EmbedBlot{static value(){}constructor(f,q,l){super(f,q),this.selection=l,this.textNode=document.createTextNode(v.CONTENTS),this.domNode.appendChild(this.textNode),this.savedLength=0}detach(){this.parent!=null&&this.parent.removeChild(this)}format(f,q){if(this.savedLength!==0)return void super.format(f,q);let l=this,A=0;for(;l!=null&&l.statics.scope!==h.Scope.BLOCK_BLOT;)A+=l.offset(l.parent),l=l.parent;l!=null&&(this.savedLength=v.CONTENTS.length,l.optimize(),l.formatAt(A,v.CONTENTS.length,f,q),this.savedLength=0)}index(f,q){return f===this.textNode?0:super.index(f,q)}length(){return this.savedLength}position(){return[this.textNode,this.textNode.data.length]}remove(){super.remove(),this.parent=null}restore(){if(this.selection.composing||this.parent==null)return null;const f=this.selection.getNativeRange();for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);const q=this.prev instanceof w.A?this.prev:null,l=q?q.length():0,A=this.next instanceof w.A?this.next:null,T=A?A.text:"",{textNode:c}=this,E=c.data.split(v.CONTENTS).join("");let L;if(c.data=v.CONTENTS,q)L=q,(E||A)&&(q.insertAt(q.length(),E+T),A&&A.remove());else if(A)L=A,A.insertAt(0,E);else{const _=document.createTextNode(E);L=this.scroll.create(_),this.parent.insertBefore(L,this)}if(this.remove(),f){const _=(st,K)=>q&&st===q.domNode?K:st===c?l+K-1:A&&st===A.domNode?l+E.length+K:null,H=_(f.start.node,f.start.offset),Y=_(f.end.node,f.end.offset);if(H!==null&&Y!==null)return{startNode:L.domNode,startOffset:H,endNode:L.domNode,endOffset:Y}}return null}update(f,q){if(f.some(l=>l.type==="characterData"&&l.target===this.textNode)){const l=this.restore();l&&(q.range=l)}}optimize(f){super.optimize(f);let{parent:q}=this;for(;q;){if(q.domNode.tagName==="A"){this.savedLength=v.CONTENTS.length,q.isolate(this.offset(q),this.length()).unwrap(),this.savedLength=0;break}q=q.parent}}value(){return""}};gt(v,"blotName","cursor"),gt(v,"className","ql-cursor"),gt(v,"tagName","span"),gt(v,"CONTENTS","\uFEFF");let O=v;R.A=O},746:function(X,R,t){var h=t(6003),w=t(5508);const O="\uFEFF";class v extends h.EmbedBlot{constructor(f,q){super(f,q),this.contentNode=document.createElement("span"),this.contentNode.setAttribute("contenteditable","false"),Array.from(this.domNode.childNodes).forEach(l=>{this.contentNode.appendChild(l)}),this.leftGuard=document.createTextNode(O),this.rightGuard=document.createTextNode(O),this.domNode.appendChild(this.leftGuard),this.domNode.appendChild(this.contentNode),this.domNode.appendChild(this.rightGuard)}index(f,q){return f===this.leftGuard?0:f===this.rightGuard?1:super.index(f,q)}restore(f){let q,l=null;const A=f.data.split(O).join("");if(f===this.leftGuard)if(this.prev instanceof w.A){const T=this.prev.length();this.prev.insertAt(T,A),l={startNode:this.prev.domNode,startOffset:T+A.length}}else q=document.createTextNode(A),this.parent.insertBefore(this.scroll.create(q),this),l={startNode:q,startOffset:A.length};else f===this.rightGuard&&(this.next instanceof w.A?(this.next.insertAt(0,A),l={startNode:this.next.domNode,startOffset:A.length}):(q=document.createTextNode(A),this.parent.insertBefore(this.scroll.create(q),this.next),l={startNode:q,startOffset:A.length}));return f.data=O,l}update(f,q){f.forEach(l=>{if(l.type==="characterData"&&(l.target===this.leftGuard||l.target===this.rightGuard)){const A=this.restore(l.target);A&&(q.range=A)}})}}R.A=v},4850:function(X,R,t){var h=t(6003),w=t(3036),O=t(5508);const M=class M extends h.InlineBlot{static compare(q,l){const A=M.order.indexOf(q),T=M.order.indexOf(l);return A>=0||T>=0?A-T:q===l?0:q<l?-1:1}formatAt(q,l,A,T){if(M.compare(this.statics.blotName,A)<0&&this.scroll.query(A,h.Scope.BLOT)){const c=this.isolate(q,l);T&&c.wrap(A,T)}else super.formatAt(q,l,A,T)}optimize(q){if(super.optimize(q),this.parent instanceof M&&M.compare(this.statics.blotName,this.parent.statics.blotName)>0){const l=this.parent.isolate(this.offset(),this.length());this.moveChildren(l),l.wrap(this)}}};gt(M,"allowedChildren",[M,w.A,h.EmbedBlot,O.A]),gt(M,"order",["cursor","inline","link","underline","strike","italic","bold","script","code"]);let v=M;R.A=v},5508:function(X,R,t){t.d(R,{A:function(){return w},X:function(){return O}});var h=t(6003);class w extends h.TextBlot{}function O(v){return v.replace(/[&<>"']/g,M=>({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"})[M])}},3729:function(X,R,t){t.d(R,{default:function(){return e}});var h=t(6142),w=t(9698),O=t(3036),v=t(580),M=t(4541),f=t(746),q=t(4850),l=t(6003),A=t(5232),T=t.n(A),c=t(5374);function E(r){return r instanceof w.Ay||r instanceof w.zo}function L(r){return typeof r.updateContent=="function"}class _ extends l.ScrollBlot{constructor(s,S,d){let{emitter:u}=d;super(s,S),this.emitter=u,this.batch=!1,this.optimize(),this.enable(),this.domNode.addEventListener("dragstart",N=>this.handleDragStart(N))}batchStart(){Array.isArray(this.batch)||(this.batch=[])}batchEnd(){if(!this.batch)return;const s=this.batch;this.batch=!1,this.update(s)}emitMount(s){this.emitter.emit(c.A.events.SCROLL_BLOT_MOUNT,s)}emitUnmount(s){this.emitter.emit(c.A.events.SCROLL_BLOT_UNMOUNT,s)}emitEmbedUpdate(s,S){this.emitter.emit(c.A.events.SCROLL_EMBED_UPDATE,s,S)}deleteAt(s,S){const[d,u]=this.line(s),[N]=this.line(s+S);if(super.deleteAt(s,S),N!=null&&d!==N&&u>0){if(d instanceof w.zo||N instanceof w.zo)return void this.optimize();const k=N.children.head instanceof O.A?null:N.children.head;d.moveChildren(N,k),d.remove()}this.optimize()}enable(){let s=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",s?"true":"false")}formatAt(s,S,d,u){super.formatAt(s,S,d,u),this.optimize()}insertAt(s,S,d){if(s>=this.length())if(d==null||this.scroll.query(S,l.Scope.BLOCK)==null){const u=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(u),d==null&&S.endsWith(`
`)?u.insertAt(0,S.slice(0,-1),d):u.insertAt(0,S,d)}else{const u=this.scroll.create(S,d);this.appendChild(u)}else super.insertAt(s,S,d);this.optimize()}insertBefore(s,S){if(s.statics.scope===l.Scope.INLINE_BLOT){const d=this.scroll.create(this.statics.defaultChild.blotName);d.appendChild(s),super.insertBefore(d,S)}else super.insertBefore(s,S)}insertContents(s,S){const d=this.deltaToRenderBlocks(S.concat(new(T())().insert(`
`))),u=d.pop();if(u==null)return;this.batchStart();const N=d.shift();if(N){const y=N.type==="block"&&(N.delta.length()===0||!this.descendant(w.zo,s)[0]&&s<this.length()),n=N.type==="block"?N.delta:new(T())().insert({[N.key]:N.value});H(this,s,n);const i=N.type==="block"?1:0,x=s+n.length()+i;y&&this.insertAt(x-1,`
`);const m=(0,w.Ji)(this.line(s)[0]),C=A.AttributeMap.diff(m,N.attributes)||{};Object.keys(C).forEach(F=>{this.formatAt(x-1,1,F,C[F])}),s=x}let[k,U]=this.children.find(s);d.length&&(k&&(k=k.split(U),U=0),d.forEach(y=>{if(y.type==="block")H(this.createBlock(y.attributes,k||void 0),0,y.delta);else{const n=this.create(y.key,y.value);this.insertBefore(n,k||void 0),Object.keys(y.attributes).forEach(i=>{n.format(i,y.attributes[i])})}})),u.type==="block"&&u.delta.length()&&H(this,k?k.offset(k.scroll)+U:this.length(),u.delta),this.batchEnd(),this.optimize()}isEnabled(){return this.domNode.getAttribute("contenteditable")==="true"}leaf(s){const S=this.path(s).pop();if(!S)return[null,-1];const[d,u]=S;return d instanceof l.LeafBlot?[d,u]:[null,-1]}line(s){return s===this.length()?this.line(s-1):this.descendant(E,s)}lines(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;const d=(u,N,k)=>{let U=[],y=k;return u.children.forEachAt(N,k,(n,i,x)=>{E(n)?U.push(n):n instanceof l.ContainerBlot&&(U=U.concat(d(n,i,y))),y-=x}),U};return d(this,s,S)}optimize(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch||(super.optimize(s,S),s.length>0&&this.emitter.emit(c.A.events.SCROLL_OPTIMIZE,s,S))}path(s){return super.path(s).slice(1)}remove(){}update(s){if(this.batch)return void(Array.isArray(s)&&(this.batch=this.batch.concat(s)));let S=c.A.sources.USER;typeof s=="string"&&(S=s),Array.isArray(s)||(s=this.observer.takeRecords()),(s=s.filter(d=>{let{target:u}=d;const N=this.find(u,!0);return N&&!L(N)})).length>0&&this.emitter.emit(c.A.events.SCROLL_BEFORE_UPDATE,S,s),super.update(s.concat([])),s.length>0&&this.emitter.emit(c.A.events.SCROLL_UPDATE,S,s)}updateEmbedAt(s,S,d){const[u]=this.descendant(N=>N instanceof w.zo,s);u&&u.statics.blotName===S&&L(u)&&u.updateContent(d)}handleDragStart(s){s.preventDefault()}deltaToRenderBlocks(s){const S=[];let d=new(T());return s.forEach(u=>{const N=u==null?void 0:u.insert;if(N)if(typeof N=="string"){const k=N.split(`
`);k.slice(0,-1).forEach(y=>{d.insert(y,u.attributes),S.push({type:"block",delta:d,attributes:u.attributes??{}}),d=new(T())});const U=k[k.length-1];U&&d.insert(U,u.attributes)}else{const k=Object.keys(N)[0];if(!k)return;this.query(k,l.Scope.INLINE)?d.push(u):(d.length()&&S.push({type:"block",delta:d,attributes:{}}),d=new(T()),S.push({type:"blockEmbed",key:k,value:N[k],attributes:u.attributes??{}}))}}),d.length()&&S.push({type:"block",delta:d,attributes:{}}),S}createBlock(s,S){let d;const u={};Object.entries(s).forEach(U=>{let[y,n]=U;this.query(y,l.Scope.BLOCK&l.Scope.BLOT)!=null?d=y:u[y]=n});const N=this.create(d||this.statics.defaultChild.blotName,d?s[d]:void 0);this.insertBefore(N,S||void 0);const k=N.length();return Object.entries(u).forEach(U=>{let[y,n]=U;N.formatAt(0,k,y,n)}),N}}gt(_,"blotName","scroll"),gt(_,"className","ql-editor"),gt(_,"tagName","DIV"),gt(_,"defaultChild",w.Ay),gt(_,"allowedChildren",[w.Ay,w.zo,v.A]);function H(r,s,S){S.reduce((d,u)=>{const N=A.Op.length(u);let k=u.attributes||{};if(u.insert!=null){if(typeof u.insert=="string"){const U=u.insert;r.insertAt(d,U);const[y]=r.descendant(l.LeafBlot,d),n=(0,w.Ji)(y);k=A.AttributeMap.diff(n,k)||{}}else if(typeof u.insert=="object"){const U=Object.keys(u.insert)[0];if(U==null)return d;if(r.insertAt(d,U,u.insert[U]),r.scroll.query(U,l.Scope.INLINE)!=null){const[y]=r.descendant(l.LeafBlot,d),n=(0,w.Ji)(y);k=A.AttributeMap.diff(n,k)||{}}}}return Object.keys(k).forEach(U=>{r.formatAt(d,N,U,k[U])}),d+N},s)}var Y=_,st=t(5508),K=t(584),p=t(4266);class j extends p.A{constructor(S,d){super(S,d);gt(this,"lastRecorded",0);gt(this,"ignoreChange",!1);gt(this,"stack",{undo:[],redo:[]});gt(this,"currentRange",null);this.quill.on(h.Ay.events.EDITOR_CHANGE,(u,N,k,U)=>{u===h.Ay.events.SELECTION_CHANGE?N&&U!==h.Ay.sources.SILENT&&(this.currentRange=N):u===h.Ay.events.TEXT_CHANGE&&(this.ignoreChange||(this.options.userOnly&&U!==h.Ay.sources.USER?this.transform(N):this.record(N,k)),this.currentRange=I(this.currentRange,N))}),this.quill.keyboard.addBinding({key:"z",shortKey:!0},this.undo.bind(this)),this.quill.keyboard.addBinding({key:["z","Z"],shortKey:!0,shiftKey:!0},this.redo.bind(this)),/Win/i.test(navigator.platform)&&this.quill.keyboard.addBinding({key:"y",shortKey:!0},this.redo.bind(this)),this.quill.root.addEventListener("beforeinput",u=>{u.inputType==="historyUndo"?(this.undo(),u.preventDefault()):u.inputType==="historyRedo"&&(this.redo(),u.preventDefault())})}change(S,d){if(this.stack[S].length===0)return;const u=this.stack[S].pop();if(!u)return;const N=this.quill.getContents(),k=u.delta.invert(N);this.stack[d].push({delta:k,range:I(u.range,k)}),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(u.delta,h.Ay.sources.USER),this.ignoreChange=!1,this.restoreSelection(u)}clear(){this.stack={undo:[],redo:[]}}cutoff(){this.lastRecorded=0}record(S,d){if(S.ops.length===0)return;this.stack.redo=[];let u=S.invert(d),N=this.currentRange;const k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){const U=this.stack.undo.pop();U&&(u=u.compose(U.delta),N=U.range)}else this.lastRecorded=k;u.length()!==0&&(this.stack.undo.push({delta:u,range:N}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}redo(){this.change("redo","undo")}transform(S){W(this.stack.undo,S),W(this.stack.redo,S)}undo(){this.change("undo","redo")}restoreSelection(S){if(S.range)this.quill.setSelection(S.range,h.Ay.sources.USER);else{const d=function(u,N){const k=N.reduce((y,n)=>y+(n.delete||0),0);let U=N.length()-k;return function(y,n){const i=n.ops[n.ops.length-1];return i!=null&&(i.insert!=null?typeof i.insert=="string"&&i.insert.endsWith(`
`):i.attributes!=null&&Object.keys(i.attributes).some(x=>y.query(x,l.Scope.BLOCK)!=null))}(u,N)&&(U-=1),U}(this.quill.scroll,S.delta);this.quill.setSelection(d,h.Ay.sources.USER)}}}gt(j,"DEFAULTS",{delay:1e3,maxStack:100,userOnly:!1});function W(r,s){let S=s;for(let d=r.length-1;d>=0;d-=1){const u=r[d];r[d]={delta:S.transform(u.delta,!0),range:u.range&&I(u.range,S)},S=u.delta.transform(S),r[d].delta.length()===0&&r.splice(d,1)}}function I(r,s){if(!r)return r;const S=s.transformPosition(r.index);return{index:S,length:s.transformPosition(r.index+r.length)-S}}var G=t(8123);class it extends p.A{constructor(s,S){super(s,S),s.root.addEventListener("drop",d=>{var k;d.preventDefault();let u=null;if(document.caretRangeFromPoint)u=document.caretRangeFromPoint(d.clientX,d.clientY);else if(document.caretPositionFromPoint){const U=document.caretPositionFromPoint(d.clientX,d.clientY);u=document.createRange(),u.setStart(U.offsetNode,U.offset),u.setEnd(U.offsetNode,U.offset)}const N=u&&s.selection.normalizeNative(u);if(N){const U=s.selection.normalizedToRange(N);(k=d.dataTransfer)!=null&&k.files&&this.upload(U,d.dataTransfer.files)}})}upload(s,S){const d=[];Array.from(S).forEach(u=>{var N;u&&((N=this.options.mimetypes)!=null&&N.includes(u.type))&&d.push(u)}),d.length>0&&this.options.handler.call(this,s,d)}}it.DEFAULTS={mimetypes:["image/png","image/jpeg"],handler(r,s){if(!this.quill.scroll.query("image"))return;const S=s.map(d=>new Promise(u=>{const N=new FileReader;N.onload=()=>{u(N.result)},N.readAsDataURL(d)}));Promise.all(S).then(d=>{const u=d.reduce((N,k)=>N.insert({image:k}),new(T())().retain(r.index).delete(r.length));this.quill.updateContents(u,c.A.sources.USER),this.quill.setSelection(r.index+d.length,c.A.sources.SILENT)})}};var ot=it;const ft=["insertText","insertReplacementText"];class mt extends p.A{constructor(s,S){super(s,S),s.root.addEventListener("beforeinput",d=>{this.handleBeforeInput(d)}),/Android/i.test(navigator.userAgent)||s.on(h.Ay.events.COMPOSITION_BEFORE_START,()=>{this.handleCompositionStart()})}deleteRange(s){(0,G.Xo)({range:s,quill:this.quill})}replaceText(s){let S=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";if(s.length===0)return!1;if(S){const d=this.quill.getFormat(s.index,1);this.deleteRange(s),this.quill.updateContents(new(T())().retain(s.index).insert(S,d),h.Ay.sources.USER)}else this.deleteRange(s);return this.quill.setSelection(s.index+S.length,0,h.Ay.sources.SILENT),!0}handleBeforeInput(s){if(this.quill.composition.isComposing||s.defaultPrevented||!ft.includes(s.inputType))return;const S=s.getTargetRanges?s.getTargetRanges()[0]:null;if(!S||S.collapsed===!0)return;const d=function(k){var U;return typeof k.data=="string"?k.data:(U=k.dataTransfer)!=null&&U.types.includes("text/plain")?k.dataTransfer.getData("text/plain"):null}(s);if(d==null)return;const u=this.quill.selection.normalizeNative(S),N=u?this.quill.selection.normalizedToRange(u):null;N&&this.replaceText(N,d)&&s.preventDefault()}handleCompositionStart(){const s=this.quill.getSelection();s&&this.replaceText(s)}}var tt=mt;const Q=/Mac/i.test(navigator.platform);class lt extends p.A{constructor(S,d){super(S,d);gt(this,"isListening",!1);gt(this,"selectionChangeDeadline",0);this.handleArrowKeys(),this.handleNavigationShortcuts()}handleArrowKeys(){this.quill.keyboard.addBinding({key:["ArrowLeft","ArrowRight"],offset:0,shiftKey:null,handler(S,d){let{line:u,event:N}=d;if(!(u instanceof l.ParentBlot&&u.uiNode))return!0;const k=getComputedStyle(u.domNode).direction==="rtl";return!!(k&&N.key!=="ArrowRight"||!k&&N.key!=="ArrowLeft")||(this.quill.setSelection(S.index-1,S.length+(N.shiftKey?1:0),h.Ay.sources.USER),!1)}})}handleNavigationShortcuts(){this.quill.root.addEventListener("keydown",S=>{!S.defaultPrevented&&(d=>d.key==="ArrowLeft"||d.key==="ArrowRight"||d.key==="ArrowUp"||d.key==="ArrowDown"||d.key==="Home"||!(!Q||d.key!=="a"||d.ctrlKey!==!0))(S)&&this.ensureListeningToSelectionChange()})}ensureListeningToSelectionChange(){this.selectionChangeDeadline=Date.now()+100,this.isListening||(this.isListening=!0,document.addEventListener("selectionchange",()=>{this.isListening=!1,Date.now()<=this.selectionChangeDeadline&&this.handleSelectionChange()},{once:!0}))}handleSelectionChange(){const S=document.getSelection();if(!S)return;const d=S.getRangeAt(0);if(d.collapsed!==!0||d.startOffset!==0)return;const u=this.quill.scroll.find(d.startContainer);if(!(u instanceof l.ParentBlot&&u.uiNode))return;const N=document.createRange();N.setStartAfter(u.uiNode),N.setEndAfter(u.uiNode),S.removeAllRanges(),S.addRange(N)}}var b=lt;h.Ay.register({"blots/block":w.Ay,"blots/block/embed":w.zo,"blots/break":O.A,"blots/container":v.A,"blots/cursor":M.A,"blots/embed":f.A,"blots/inline":q.A,"blots/scroll":Y,"blots/text":st.A,"modules/clipboard":K.Ay,"modules/history":j,"modules/keyboard":G.Ay,"modules/uploader":ot,"modules/input":tt,"modules/uiNode":b});var e=h.Ay},5374:function(X,R,t){var M;t.d(R,{A:function(){return v}});var h=t(8920),w=t(7356);const O=(0,t(6078).A)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(f=>{document.addEventListener(f,function(){for(var q=arguments.length,l=new Array(q),A=0;A<q;A++)l[A]=arguments[A];Array.from(document.querySelectorAll(".ql-container")).forEach(T=>{const c=w.A.get(T);c&&c.emitter&&c.emitter.handleDOM(...l)})})});var v=(M=class extends h{constructor(){super(),this.domListeners={},this.on("error",O.error)}emit(){for(var f=arguments.length,q=new Array(f),l=0;l<f;l++)q[l]=arguments[l];return O.log.call(O,...q),super.emit(...q)}handleDOM(f){for(var q=arguments.length,l=new Array(q>1?q-1:0),A=1;A<q;A++)l[A-1]=arguments[A];(this.domListeners[f.type]||[]).forEach(T=>{let{node:c,handler:E}=T;(f.target===c||c.contains(f.target))&&E(f,...l)})}listenDOM(f,q,l){this.domListeners[f]||(this.domListeners[f]=[]),this.domListeners[f].push({node:q,handler:l})}},gt(M,"events",{EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SCROLL_EMBED_UPDATE:"scroll-embed-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",COMPOSITION_BEFORE_START:"composition-before-start",COMPOSITION_START:"composition-start",COMPOSITION_BEFORE_END:"composition-before-end",COMPOSITION_END:"composition-end"}),gt(M,"sources",{API:"api",SILENT:"silent",USER:"user"}),M)},7356:function(X,R){R.A=new WeakMap},6078:function(X,R){const t=["error","warn","log","info"];let h="warn";function w(v){if(h&&t.indexOf(v)<=t.indexOf(h)){for(var M=arguments.length,f=new Array(M>1?M-1:0),q=1;q<M;q++)f[q-1]=arguments[q];console[v](...f)}}function O(v){return t.reduce((M,f)=>(M[f]=w.bind(console,f,v),M),{})}O.level=v=>{h=v},w.level=O.level,R.A=O},4266:function(X,R){var t;R.A=(t=class{constructor(h){let w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.quill=h,this.options=w}},gt(t,"DEFAULTS",{}),t)},6142:function(X,R,t){t.d(R,{Ay:function(){return r}});var h=t(8347),w=t(6003),O=t(5232),v=t.n(O),M=t(3707),f=t(5123),q=t(9698),l=t(3036),A=t(4541),T=t(5508),c=t(8298);const E=/^[ -~]*$/;function L(y,n,i){if(y.length===0){const[ht]=Y(i.pop());return n<=0?`</li></${ht}>`:`</li></${ht}>${L([],n-1,i)}`}const[{child:x,offset:m,length:C,indent:F,type:z},...Z]=y,[et,nt]=Y(z);if(F>n)return i.push(z),F===n+1?`<${et}><li${nt}>${_(x,m,C)}${L(Z,F,i)}`:`<${et}><li>${L(y,n+1,i)}`;const ct=i[i.length-1];if(F===n&&z===ct)return`</li><li${nt}>${_(x,m,C)}${L(Z,F,i)}`;const[dt]=Y(i.pop());return`</li></${dt}>${L(y,n-1,i)}`}function _(y,n,i){let x=arguments.length>3&&arguments[3]!==void 0&&arguments[3];if("html"in y&&typeof y.html=="function")return y.html(n,i);if(y instanceof T.A)return(0,T.X)(y.value().slice(n,n+i));if(y instanceof w.ParentBlot){if(y.statics.blotName==="list-container"){const et=[];return y.children.forEachAt(n,i,(nt,ct,dt)=>{const ht="formats"in nt&&typeof nt.formats=="function"?nt.formats():{};et.push({child:nt,offset:ct,length:dt,indent:ht.indent||0,type:ht.list})}),L(et,-1,[])}const m=[];if(y.children.forEachAt(n,i,(et,nt,ct)=>{m.push(_(et,nt,ct))}),x||y.statics.blotName==="list")return m.join("");const{outerHTML:C,innerHTML:F}=y.domNode,[z,Z]=C.split(`>${F}<`);return z==="<table"?`<table style="border: 1px solid #000;">${m.join("")}<${Z}`:`${z}>${m.join("")}<${Z}`}return y.domNode instanceof Element?y.domNode.outerHTML:""}function H(y,n){return Object.keys(n).reduce((i,x)=>{if(y[x]==null)return i;const m=n[x];return m===y[x]?i[x]=m:Array.isArray(m)?m.indexOf(y[x])<0?i[x]=m.concat([y[x]]):i[x]=m:i[x]=[m,y[x]],i},{})}function Y(y){const n=y==="ordered"?"ol":"ul";switch(y){case"checked":return[n,' data-list="checked"'];case"unchecked":return[n,' data-list="unchecked"'];default:return[n,""]}}function st(y){return y.reduce((n,i)=>{if(typeof i.insert=="string"){const x=i.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return n.insert(x,i.attributes)}return n.push(i)},new(v()))}function K(y,n){let{index:i,length:x}=y;return new c.Q(i+n,x)}var p=class{constructor(y){this.scroll=y,this.delta=this.getDelta()}applyDelta(y){this.scroll.update();let n=this.scroll.length();this.scroll.batchStart();const i=st(y),x=new(v());return function(m){const C=[];return m.forEach(F=>{typeof F.insert=="string"?F.insert.split(`
`).forEach((z,Z)=>{Z&&C.push({insert:`
`,attributes:F.attributes}),z&&C.push({insert:z,attributes:F.attributes})}):C.push(F)}),C}(i.ops.slice()).reduce((m,C)=>{const F=O.Op.length(C);let z=C.attributes||{},Z=!1,et=!1;if(C.insert!=null){if(x.retain(F),typeof C.insert=="string"){const dt=C.insert;et=!dt.endsWith(`
`)&&(n<=m||!!this.scroll.descendant(q.zo,m)[0]),this.scroll.insertAt(m,dt);const[ht,pt]=this.scroll.line(m);let xt=(0,h.A)({},(0,q.Ji)(ht));if(ht instanceof q.Ay){const[Ot]=ht.descendant(w.LeafBlot,pt);Ot&&(xt=(0,h.A)(xt,(0,q.Ji)(Ot)))}z=O.AttributeMap.diff(xt,z)||{}}else if(typeof C.insert=="object"){const dt=Object.keys(C.insert)[0];if(dt==null)return m;const ht=this.scroll.query(dt,w.Scope.INLINE)!=null;if(ht)(n<=m||this.scroll.descendant(q.zo,m)[0])&&(et=!0);else if(m>0){const[pt,xt]=this.scroll.descendant(w.LeafBlot,m-1);pt instanceof T.A?pt.value()[xt]!==`
`&&(Z=!0):pt instanceof w.EmbedBlot&&pt.statics.scope===w.Scope.INLINE_BLOT&&(Z=!0)}if(this.scroll.insertAt(m,dt,C.insert[dt]),ht){const[pt]=this.scroll.descendant(w.LeafBlot,m);if(pt){const xt=(0,h.A)({},(0,q.Ji)(pt));z=O.AttributeMap.diff(xt,z)||{}}}}n+=F}else if(x.push(C),C.retain!==null&&typeof C.retain=="object"){const dt=Object.keys(C.retain)[0];if(dt==null)return m;this.scroll.updateEmbedAt(m,dt,C.retain[dt])}Object.keys(z).forEach(dt=>{this.scroll.formatAt(m,F,dt,z[dt])});const nt=Z?1:0,ct=et?1:0;return n+=nt+ct,x.retain(nt),x.delete(ct),m+F+nt+ct},0),x.reduce((m,C)=>typeof C.delete=="number"?(this.scroll.deleteAt(m,C.delete),m):m+O.Op.length(C),0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(i)}deleteText(y,n){return this.scroll.deleteAt(y,n),this.update(new(v())().retain(y).delete(n))}formatLine(y,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.scroll.update(),Object.keys(i).forEach(m=>{this.scroll.lines(y,Math.max(n,1)).forEach(C=>{C.format(m,i[m])})}),this.scroll.optimize();const x=new(v())().retain(y).retain(n,(0,M.A)(i));return this.update(x)}formatText(y,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};Object.keys(i).forEach(m=>{this.scroll.formatAt(y,n,m,i[m])});const x=new(v())().retain(y).retain(n,(0,M.A)(i));return this.update(x)}getContents(y,n){return this.delta.slice(y,y+n)}getDelta(){return this.scroll.lines().reduce((y,n)=>y.concat(n.delta()),new(v()))}getFormat(y){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=[],x=[];n===0?this.scroll.path(y).forEach(F=>{const[z]=F;z instanceof q.Ay?i.push(z):z instanceof w.LeafBlot&&x.push(z)}):(i=this.scroll.lines(y,n),x=this.scroll.descendants(w.LeafBlot,y,n));const[m,C]=[i,x].map(F=>{const z=F.shift();if(z==null)return{};let Z=(0,q.Ji)(z);for(;Object.keys(Z).length>0;){const et=F.shift();if(et==null)return Z;Z=H((0,q.Ji)(et),Z)}return Z});return{...m,...C}}getHTML(y,n){const[i,x]=this.scroll.line(y);if(i){const m=i.length();return i.length()>=x+n&&(x!==0||n!==m)?_(i,x,n,!0):_(this.scroll,y,n,!0)}return""}getText(y,n){return this.getContents(y,n).filter(i=>typeof i.insert=="string").map(i=>i.insert).join("")}insertContents(y,n){const i=st(n),x=new(v())().retain(y).concat(i);return this.scroll.insertContents(y,i),this.update(x)}insertEmbed(y,n,i){return this.scroll.insertAt(y,n,i),this.update(new(v())().retain(y).insert({[n]:i}))}insertText(y,n){let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return n=n.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(y,n),Object.keys(i).forEach(x=>{this.scroll.formatAt(y,n.length,x,i[x])}),this.update(new(v())().retain(y).insert(n,(0,M.A)(i)))}isBlank(){if(this.scroll.children.length===0)return!0;if(this.scroll.children.length>1)return!1;const y=this.scroll.children.head;if((y==null?void 0:y.statics.blotName)!==q.Ay.blotName)return!1;const n=y;return!(n.children.length>1)&&n.children.head instanceof l.A}removeFormat(y,n){const i=this.getText(y,n),[x,m]=this.scroll.line(y+n);let C=0,F=new(v());x!=null&&(C=x.length()-m,F=x.delta().slice(m,m+C-1).insert(`
`));const z=this.getContents(y,n+C).diff(new(v())().insert(i).concat(F)),Z=new(v())().retain(y).concat(z);return this.applyDelta(Z)}update(y){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;const x=this.delta;if(n.length===1&&n[0].type==="characterData"&&n[0].target.data.match(E)&&this.scroll.find(n[0].target)){const m=this.scroll.find(n[0].target),C=(0,q.Ji)(m),F=m.offset(this.scroll),z=n[0].oldValue.replace(A.A.CONTENTS,""),Z=new(v())().insert(z),et=new(v())().insert(m.value()),nt=i&&{oldRange:K(i.oldRange,-F),newRange:K(i.newRange,-F)};y=new(v())().retain(F).concat(Z.diff(et,nt)).reduce((ct,dt)=>dt.insert?ct.insert(dt.insert,C):ct.push(dt),new(v())),this.delta=x.compose(y)}else this.delta=this.getDelta(),y&&(0,f.A)(x.compose(y),this.delta)||(y=x.diff(this.delta,i));return y}},j=t(5374),W=t(7356),I=t(6078),G=t(4266),it=t(746),ot=class{constructor(y,n){gt(this,"isComposing",!1);this.scroll=y,this.emitter=n,this.setupListeners()}setupListeners(){this.scroll.domNode.addEventListener("compositionstart",y=>{this.isComposing||this.handleCompositionStart(y)}),this.scroll.domNode.addEventListener("compositionend",y=>{this.isComposing&&queueMicrotask(()=>{this.handleCompositionEnd(y)})})}handleCompositionStart(y){const n=y.target instanceof Node?this.scroll.find(y.target,!0):null;!n||n instanceof it.A||(this.emitter.emit(j.A.events.COMPOSITION_BEFORE_START,y),this.scroll.batchStart(),this.emitter.emit(j.A.events.COMPOSITION_START,y),this.isComposing=!0)}handleCompositionEnd(y){this.emitter.emit(j.A.events.COMPOSITION_BEFORE_END,y),this.scroll.batchEnd(),this.emitter.emit(j.A.events.COMPOSITION_END,y),this.isComposing=!1}},ft=t(9609);const mt=y=>{const n=y.getBoundingClientRect(),i="offsetWidth"in y&&Math.abs(n.width)/y.offsetWidth||1,x="offsetHeight"in y&&Math.abs(n.height)/y.offsetHeight||1;return{top:n.top,right:n.left+y.clientWidth*i,bottom:n.top+y.clientHeight*x,left:n.left}},tt=y=>{const n=parseInt(y,10);return Number.isNaN(n)?0:n},Q=(y,n,i,x,m,C)=>y<i&&n>x?0:y<i?-(i-y+m):n>x?n-y>x-i?y+m-i:n-x+C:0,lt=["block","break","cursor","inline","scroll","text"],b=(0,I.A)("quill"),e=new w.Registry;w.ParentBlot.uiClass="ql-ui";const U=class U{static debug(n){n===!0&&(n="log"),I.A.level(n)}static find(n){let i=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return W.A.get(n)||e.find(n,i)}static import(n){return this.imports[n]==null&&b.error(`Cannot import ${n}. Are you sure it was registered?`),this.imports[n]}static register(){if(typeof(arguments.length<=0?void 0:arguments[0])!="string"){const n=arguments.length<=0?void 0:arguments[0],i=!!(!(arguments.length<=1)&&arguments[1]),x="attrName"in n?n.attrName:n.blotName;typeof x=="string"?this.register(`formats/${x}`,n,i):Object.keys(n).forEach(m=>{this.register(m,n[m],i)})}else{const n=arguments.length<=0?void 0:arguments[0],i=arguments.length<=1?void 0:arguments[1],x=!!(!(arguments.length<=2)&&arguments[2]);this.imports[n]==null||x||b.warn(`Overwriting ${n} with`,i),this.imports[n]=i,(n.startsWith("blots/")||n.startsWith("formats/"))&&i&&typeof i!="boolean"&&i.blotName!=="abstract"&&e.register(i),typeof i.register=="function"&&i.register(e)}}constructor(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.options=function(F,z){const Z=s(F);if(!Z)throw new Error("Invalid Quill container");const et=!z.theme||z.theme===U.DEFAULTS.theme?ft.A:U.import(`themes/${z.theme}`);if(!et)throw new Error(`Invalid theme ${z.theme}. Did you register it?`);const{modules:nt,...ct}=U.DEFAULTS,{modules:dt,...ht}=et.DEFAULTS;let pt=S(z.modules);pt!=null&&pt.toolbar&&pt.toolbar.constructor!==Object&&(pt={...pt,toolbar:{container:pt.toolbar}});const xt=(0,h.A)({},S(nt),S(dt),pt),Ot={...ct,...d(ht),...d(z)};let Tt=z.registry;return Tt?z.formats&&b.warn('Ignoring "formats" option because "registry" is specified'):Tt=z.formats?((ut,yt,Et)=>{const jt=new w.Registry;return lt.forEach(wt=>{const St=yt.query(wt);St&&jt.register(St)}),ut.forEach(wt=>{let St=yt.query(wt);St||Et.error(`Cannot register "${wt}" specified in "formats" config. Are you sure it was registered?`);let It=0;for(;St;)if(jt.register(St),St="blotName"in St?St.requiredContainer??null:null,It+=1,It>100){Et.error(`Cycle detected in registering blot requiredContainer: "${wt}"`);break}}),jt})(z.formats,Ot.registry,b):Ot.registry,{...Ot,registry:Tt,container:Z,theme:et,modules:Object.entries(xt).reduce((ut,yt)=>{let[Et,jt]=yt;if(!jt)return ut;const wt=U.import(`modules/${Et}`);return wt==null?(b.error(`Cannot load ${Et} module. Are you sure you registered it?`),ut):{...ut,[Et]:(0,h.A)({},wt.DEFAULTS||{},jt)}},{}),bounds:s(Ot.bounds)}}(n,i),this.container=this.options.container,this.container==null)return void b.error("Invalid Quill container",n);this.options.debug&&U.debug(this.options.debug);const x=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",W.A.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.emitter=new j.A;const m=w.ScrollBlot.blotName,C=this.options.registry.query(m);if(!C||!("blotName"in C))throw new Error(`Cannot initialize Quill without "${m}" blot`);if(this.scroll=new C(this.options.registry,this.root,{emitter:this.emitter}),this.editor=new p(this.scroll),this.selection=new c.A(this.scroll,this.emitter),this.composition=new ot(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.addModule("input"),this.theme.addModule("uiNode"),this.theme.init(),this.emitter.on(j.A.events.EDITOR_CHANGE,F=>{F===j.A.events.TEXT_CHANGE&&this.root.classList.toggle("ql-blank",this.editor.isBlank())}),this.emitter.on(j.A.events.SCROLL_UPDATE,(F,z)=>{const Z=this.selection.lastRange,[et]=this.selection.getRange(),nt=Z&&et?{oldRange:Z,newRange:et}:void 0;u.call(this,()=>this.editor.update(null,z,nt),F)}),this.emitter.on(j.A.events.SCROLL_EMBED_UPDATE,(F,z)=>{const Z=this.selection.lastRange,[et]=this.selection.getRange(),nt=Z&&et?{oldRange:Z,newRange:et}:void 0;u.call(this,()=>{const ct=new(v())().retain(F.offset(this)).retain({[F.statics.blotName]:z});return this.editor.update(ct,[],nt)},U.sources.USER)}),x){const F=this.clipboard.convert({html:`${x}<p><br></p>`,text:`
`});this.setContents(F)}this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}addContainer(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof n=="string"){const x=n;(n=document.createElement("div")).classList.add(x)}return this.container.insertBefore(n,i),n}blur(){this.selection.setRange(null)}deleteText(n,i,x){return[n,i,,x]=N(n,i,x),u.call(this,()=>this.editor.deleteText(n,i),x,n,-1*i)}disable(){this.enable(!1)}editReadOnly(n){this.allowReadOnlyEdits=!0;const i=n();return this.allowReadOnlyEdits=!1,i}enable(){let n=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(n),this.container.classList.toggle("ql-disabled",!n)}focus(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.selection.focus(),n.preventScroll||this.scrollSelectionIntoView()}format(n,i){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:j.A.sources.API;return u.call(this,()=>{const m=this.getSelection(!0);let C=new(v());if(m==null)return C;if(this.scroll.query(n,w.Scope.BLOCK))C=this.editor.formatLine(m.index,m.length,{[n]:i});else{if(m.length===0)return this.selection.format(n,i),C;C=this.editor.formatText(m.index,m.length,{[n]:i})}return this.setSelection(m,j.A.sources.SILENT),C},x)}formatLine(n,i,x,m,C){let F;return[n,i,F,C]=N(n,i,x,m,C),u.call(this,()=>this.editor.formatLine(n,i,F),C,n,0)}formatText(n,i,x,m,C){let F;return[n,i,F,C]=N(n,i,x,m,C),u.call(this,()=>this.editor.formatText(n,i,F),C,n,0)}getBounds(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,x=null;if(x=typeof n=="number"?this.selection.getBounds(n,i):this.selection.getBounds(n.index,n.length),!x)return null;const m=this.container.getBoundingClientRect();return{bottom:x.bottom-m.top,height:x.height,left:x.left-m.left,right:x.right-m.left,top:x.top-m.top,width:x.width}}getContents(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-n;return[n,i]=N(n,i),this.editor.getContents(n,i)}getFormat(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof n=="number"?this.editor.getFormat(n,i):this.editor.getFormat(n.index,n.length)}getIndex(n){return n.offset(this.scroll)}getLength(){return this.scroll.length()}getLeaf(n){return this.scroll.leaf(n)}getLine(n){return this.scroll.line(n)}getLines(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof n!="number"?this.scroll.lines(n.index,n.length):this.scroll.lines(n,i)}getModule(n){return this.theme.modules[n]}getSelection(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}getSemanticHTML(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(i=i??this.getLength()-n),[n,i]=N(n,i),this.editor.getHTML(n,i)}getText(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,i=arguments.length>1?arguments[1]:void 0;return typeof n=="number"&&(i=i??this.getLength()-n),[n,i]=N(n,i),this.editor.getText(n,i)}hasFocus(){return this.selection.hasFocus()}insertEmbed(n,i,x){let m=arguments.length>3&&arguments[3]!==void 0?arguments[3]:U.sources.API;return u.call(this,()=>this.editor.insertEmbed(n,i,x),m,n)}insertText(n,i,x,m,C){let F;return[n,,F,C]=N(n,0,x,m,C),u.call(this,()=>this.editor.insertText(n,i,F),C,n,i.length)}isEnabled(){return this.scroll.isEnabled()}off(){return this.emitter.off(...arguments)}on(){return this.emitter.on(...arguments)}once(){return this.emitter.once(...arguments)}removeFormat(n,i,x){return[n,i,,x]=N(n,i,x),u.call(this,()=>this.editor.removeFormat(n,i),x,n)}scrollRectIntoView(n){((i,x)=>{var Z,et,nt;const m=i.ownerDocument;let C=x,F=i;for(;F;){const ct=F===m.body,dt=ct?{top:0,right:((Z=window.visualViewport)==null?void 0:Z.width)??m.documentElement.clientWidth,bottom:((et=window.visualViewport)==null?void 0:et.height)??m.documentElement.clientHeight,left:0}:mt(F),ht=getComputedStyle(F),pt=Q(C.left,C.right,dt.left,dt.right,tt(ht.scrollPaddingLeft),tt(ht.scrollPaddingRight)),xt=Q(C.top,C.bottom,dt.top,dt.bottom,tt(ht.scrollPaddingTop),tt(ht.scrollPaddingBottom));if(pt||xt)if(ct)(nt=m.defaultView)==null||nt.scrollBy(pt,xt);else{const{scrollLeft:Ot,scrollTop:Tt}=F;xt&&(F.scrollTop+=xt),pt&&(F.scrollLeft+=pt);const ut=F.scrollLeft-Ot,yt=F.scrollTop-Tt;C={left:C.left-ut,top:C.top-yt,right:C.right-ut,bottom:C.bottom-yt}}F=ct||ht.position==="fixed"?null:(z=F).parentElement||z.getRootNode().host||null}var z})(this.root,n)}scrollIntoView(){console.warn("Quill#scrollIntoView() has been deprecated and will be removed in the near future. Please use Quill#scrollSelectionIntoView() instead."),this.scrollSelectionIntoView()}scrollSelectionIntoView(){const n=this.selection.lastRange,i=n&&this.selection.getBounds(n.index,n.length);i&&this.scrollRectIntoView(i)}setContents(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return u.call(this,()=>{n=new(v())(n);const x=this.getLength(),m=this.editor.deleteText(0,x),C=this.editor.insertContents(0,n),F=this.editor.deleteText(this.getLength()-1,1);return m.compose(C).compose(F)},i)}setSelection(n,i,x){n==null?this.selection.setRange(null,i||U.sources.API):([n,i,,x]=N(n,i,x),this.selection.setRange(new c.Q(Math.max(0,n),i),x),x!==j.A.sources.SILENT&&this.scrollSelectionIntoView())}setText(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;const x=new(v())().insert(n);return this.setContents(x,i)}update(){let n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j.A.sources.USER;const i=this.scroll.update(n);return this.selection.update(n),i}updateContents(n){let i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:j.A.sources.API;return u.call(this,()=>(n=new(v())(n),this.editor.applyDelta(n)),i,!0)}};gt(U,"DEFAULTS",{bounds:null,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0},placeholder:"",readOnly:!1,registry:e,theme:"default"}),gt(U,"events",j.A.events),gt(U,"sources",j.A.sources),gt(U,"version","2.0.2"),gt(U,"imports",{delta:v(),parchment:w,"core/module":G.A,"core/theme":ft.A});let r=U;function s(y){return typeof y=="string"?document.querySelector(y):y}function S(y){return Object.entries(y??{}).reduce((n,i)=>{let[x,m]=i;return{...n,[x]:m===!0?{}:m}},{})}function d(y){return Object.fromEntries(Object.entries(y).filter(n=>n[1]!==void 0))}function u(y,n,i,x){if(!this.isEnabled()&&n===j.A.sources.USER&&!this.allowReadOnlyEdits)return new(v());let m=i==null?null:this.getSelection();const C=this.editor.delta,F=y();if(m!=null&&(i===!0&&(i=m.index),x==null?m=k(m,F,n):x!==0&&(m=k(m,i,x,n)),this.setSelection(m,j.A.sources.SILENT)),F.length()>0){const z=[j.A.events.TEXT_CHANGE,F,C,n];this.emitter.emit(j.A.events.EDITOR_CHANGE,...z),n!==j.A.sources.SILENT&&this.emitter.emit(...z)}return F}function N(y,n,i,x,m){let C={};return typeof y.index=="number"&&typeof y.length=="number"?typeof n!="number"?(m=x,x=i,i=n,n=y.length,y=y.index):(n=y.length,y=y.index):typeof n!="number"&&(m=x,x=i,i=n,n=0),typeof i=="object"?(C=i,m=x):typeof i=="string"&&(x!=null?C[i]=x:m=i),[y,n,C,m=m||j.A.sources.API]}function k(y,n,i,x){const m=typeof i=="number"?i:0;if(y==null)return null;let C,F;return n&&typeof n.transformPosition=="function"?[C,F]=[y.index,y.index+y.length].map(z=>n.transformPosition(z,x!==j.A.sources.USER)):[C,F]=[y.index,y.index+y.length].map(z=>z<n||z===n&&x===j.A.sources.USER?z:m>=0?z+m:Math.max(n,z+m)),new c.Q(C,F-C)}},8298:function(X,R,t){t.d(R,{Q:function(){return f}});var h=t(6003),w=t(5123),O=t(3707),v=t(5374);const M=(0,t(6078).A)("quill:selection");class f{constructor(A){let T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;this.index=A,this.length=T}}function q(l,A){try{A.parentNode}catch{return!1}return l.contains(A)}R.A=class{constructor(l,A){this.emitter=A,this.scroll=l,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new f(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,()=>{this.mouseDown||this.composing||setTimeout(this.update.bind(this,v.A.sources.USER),1)}),this.emitter.on(v.A.events.SCROLL_BEFORE_UPDATE,()=>{if(!this.hasFocus())return;const T=this.getNativeRange();T!=null&&T.start.node!==this.cursor.textNode&&this.emitter.once(v.A.events.SCROLL_UPDATE,(c,E)=>{try{this.root.contains(T.start.node)&&this.root.contains(T.end.node)&&this.setNativeRange(T.start.node,T.start.offset,T.end.node,T.end.offset);const L=E.some(_=>_.type==="characterData"||_.type==="childList"||_.type==="attributes"&&_.target===this.root);this.update(L?v.A.sources.SILENT:c)}catch{}})}),this.emitter.on(v.A.events.SCROLL_OPTIMIZE,(T,c)=>{if(c.range){const{startNode:E,startOffset:L,endNode:_,endOffset:H}=c.range;this.setNativeRange(E,L,_,H),this.update(v.A.sources.SILENT)}}),this.update(v.A.sources.SILENT)}handleComposition(){this.emitter.on(v.A.events.COMPOSITION_BEFORE_START,()=>{this.composing=!0}),this.emitter.on(v.A.events.COMPOSITION_END,()=>{if(this.composing=!1,this.cursor.parent){const l=this.cursor.restore();if(!l)return;setTimeout(()=>{this.setNativeRange(l.startNode,l.startOffset,l.endNode,l.endOffset)},1)}})}handleDragging(){this.emitter.listenDOM("mousedown",document.body,()=>{this.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,()=>{this.mouseDown=!1,this.update(v.A.sources.USER)})}focus(){this.hasFocus()||(this.root.focus({preventScroll:!0}),this.setRange(this.savedRange))}format(l,A){this.scroll.update();const T=this.getNativeRange();if(T!=null&&T.native.collapsed&&!this.scroll.query(l,h.Scope.BLOCK)){if(T.start.node!==this.cursor.textNode){const c=this.scroll.find(T.start.node,!1);if(c==null)return;if(c instanceof h.LeafBlot){const E=c.split(T.start.offset);c.parent.insertBefore(this.cursor,E)}else c.insertBefore(this.cursor,T.start.node);this.cursor.attach()}this.cursor.format(l,A),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}getBounds(l){let A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;const T=this.scroll.length();let c;l=Math.min(l,T-1),A=Math.min(l+A,T-1)-l;let[E,L]=this.scroll.leaf(l);if(E==null)return null;if(A>0&&L===E.length()){const[st]=this.scroll.leaf(l+1);if(st){const[K]=this.scroll.line(l),[p]=this.scroll.line(l+1);K===p&&(E=st,L=0)}}[c,L]=E.position(L,!0);const _=document.createRange();if(A>0)return _.setStart(c,L),[E,L]=this.scroll.leaf(l+A),E==null?null:([c,L]=E.position(L,!0),_.setEnd(c,L),_.getBoundingClientRect());let H,Y="left";if(c instanceof Text){if(!c.data.length)return null;L<c.data.length?(_.setStart(c,L),_.setEnd(c,L+1)):(_.setStart(c,L-1),_.setEnd(c,L),Y="right"),H=_.getBoundingClientRect()}else{if(!(E.domNode instanceof Element))return null;H=E.domNode.getBoundingClientRect(),L>0&&(Y="right")}return{bottom:H.top+H.height,height:H.height,left:H[Y],right:H[Y],top:H.top,width:0}}getNativeRange(){const l=document.getSelection();if(l==null||l.rangeCount<=0)return null;const A=l.getRangeAt(0);if(A==null)return null;const T=this.normalizeNative(A);return M.info("getNativeRange",T),T}getRange(){const l=this.scroll.domNode;if("isConnected"in l&&!l.isConnected)return[null,null];const A=this.getNativeRange();return A==null?[null,null]:[this.normalizedToRange(A),A]}hasFocus(){return document.activeElement===this.root||document.activeElement!=null&&q(this.root,document.activeElement)}normalizedToRange(l){const A=[[l.start.node,l.start.offset]];l.native.collapsed||A.push([l.end.node,l.end.offset]);const T=A.map(L=>{const[_,H]=L,Y=this.scroll.find(_,!0),st=Y.offset(this.scroll);return H===0?st:Y instanceof h.LeafBlot?st+Y.index(_,H):st+Y.length()}),c=Math.min(Math.max(...T),this.scroll.length()-1),E=Math.min(c,...T);return new f(E,c-E)}normalizeNative(l){if(!q(this.root,l.startContainer)||!l.collapsed&&!q(this.root,l.endContainer))return null;const A={start:{node:l.startContainer,offset:l.startOffset},end:{node:l.endContainer,offset:l.endOffset},native:l};return[A.start,A.end].forEach(T=>{let{node:c,offset:E}=T;for(;!(c instanceof Text)&&c.childNodes.length>0;)if(c.childNodes.length>E)c=c.childNodes[E],E=0;else{if(c.childNodes.length!==E)break;c=c.lastChild,E=c instanceof Text?c.data.length:c.childNodes.length>0?c.childNodes.length:c.childNodes.length+1}T.node=c,T.offset=E}),A}rangeToNative(l){const A=this.scroll.length(),T=(c,E)=>{c=Math.min(A-1,c);const[L,_]=this.scroll.leaf(c);return L?L.position(_,E):[null,-1]};return[...T(l.index,!1),...T(l.index+l.length,!0)]}setNativeRange(l,A){let T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:l,c=arguments.length>3&&arguments[3]!==void 0?arguments[3]:A,E=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(M.info("setNativeRange",l,A,T,c),l!=null&&(this.root.parentNode==null||l.parentNode==null||T.parentNode==null))return;const L=document.getSelection();if(L!=null)if(l!=null){this.hasFocus()||this.root.focus({preventScroll:!0});const{native:_}=this.getNativeRange()||{};if(_==null||E||l!==_.startContainer||A!==_.startOffset||T!==_.endContainer||c!==_.endOffset){l instanceof Element&&l.tagName==="BR"&&(A=Array.from(l.parentNode.childNodes).indexOf(l),l=l.parentNode),T instanceof Element&&T.tagName==="BR"&&(c=Array.from(T.parentNode.childNodes).indexOf(T),T=T.parentNode);const H=document.createRange();H.setStart(l,A),H.setEnd(T,c),L.removeAllRanges(),L.addRange(H)}}else L.removeAllRanges(),this.root.blur()}setRange(l){let A=arguments.length>1&&arguments[1]!==void 0&&arguments[1],T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:v.A.sources.API;if(typeof A=="string"&&(T=A,A=!1),M.info("setRange",l),l!=null){const c=this.rangeToNative(l);this.setNativeRange(...c,A)}else this.setNativeRange(null);this.update(T)}update(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:v.A.sources.USER;const A=this.lastRange,[T,c]=this.getRange();if(this.lastRange=T,this.lastNative=c,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,w.A)(A,this.lastRange)){if(!this.composing&&c!=null&&c.native.collapsed&&c.start.node!==this.cursor.textNode){const L=this.cursor.restore();L&&this.setNativeRange(L.startNode,L.startOffset,L.endNode,L.endOffset)}const E=[v.A.events.SELECTION_CHANGE,(0,O.A)(this.lastRange),(0,O.A)(A),l];this.emitter.emit(v.A.events.EDITOR_CHANGE,...E),l!==v.A.sources.SILENT&&this.emitter.emit(...E)}}}},9609:function(X,R){const h=class h{constructor(O,v){gt(this,"modules",{});this.quill=O,this.options=v}init(){Object.keys(this.options.modules).forEach(O=>{this.modules[O]==null&&this.addModule(O)})}addModule(O){const v=this.quill.constructor.import(`modules/${O}`);return this.modules[O]=new v(this.quill,this.options.modules[O]||{}),this.modules[O]}};gt(h,"DEFAULTS",{modules:{}}),gt(h,"themes",{default:h});let t=h;R.A=t},8276:function(X,R,t){t.d(R,{Hu:function(){return M},gS:function(){return O},qh:function(){return v}});var h=t(6003);const w={scope:h.Scope.BLOCK,whitelist:["right","center","justify"]},O=new h.Attributor("align","align",w),v=new h.ClassAttributor("align","ql-align",w),M=new h.StyleAttributor("align","text-align",w)},9541:function(X,R,t){t.d(R,{l:function(){return O},s:function(){return v}});var h=t(6003),w=t(8638);const O=new h.ClassAttributor("background","ql-bg",{scope:h.Scope.INLINE}),v=new w.a2("background","background-color",{scope:h.Scope.INLINE})},9404:function(X,R,t){t.d(R,{Ay:function(){return A},Cy:function(){return T},EJ:function(){return l}});var h=t(9698),w=t(3036),O=t(4541),v=t(4850),M=t(5508),f=t(580),q=t(6142);class l extends f.A{static create(E){const L=super.create(E);return L.setAttribute("spellcheck","false"),L}code(E,L){return this.children.map(_=>_.length()<=1?"":_.domNode.innerText).join(`
`).slice(E,E+L)}html(E,L){return`<pre>
${(0,M.X)(this.code(E,L))}
</pre>`}}class A extends h.Ay{static register(){q.Ay.register(l)}}gt(A,"TAB","  ");class T extends v.A{}T.blotName="code",T.tagName="CODE",A.blotName="code-block",A.className="ql-code-block",A.tagName="DIV",l.blotName="code-block-container",l.className="ql-code-block-container",l.tagName="DIV",l.allowedChildren=[A],A.allowedChildren=[M.A,w.A,O.A],A.requiredContainer=l},8638:function(X,R,t){t.d(R,{JM:function(){return v},a2:function(){return w},g3:function(){return O}});var h=t(6003);class w extends h.StyleAttributor{value(f){let q=super.value(f);return q.startsWith("rgb(")?(q=q.replace(/^[^\d]+/,"").replace(/[^\d]+$/,""),`#${q.split(",").map(l=>`00${parseInt(l,10).toString(16)}`.slice(-2)).join("")}`):q}}const O=new h.ClassAttributor("color","ql-color",{scope:h.Scope.INLINE}),v=new w("color","color",{scope:h.Scope.INLINE})},7912:function(X,R,t){t.d(R,{Mc:function(){return O},VL:function(){return M},sY:function(){return v}});var h=t(6003);const w={scope:h.Scope.BLOCK,whitelist:["rtl"]},O=new h.Attributor("direction","dir",w),v=new h.ClassAttributor("direction","ql-direction",w),M=new h.StyleAttributor("direction","direction",w)},6772:function(X,R,t){t.d(R,{q:function(){return O},z:function(){return M}});var h=t(6003);const w={scope:h.Scope.INLINE,whitelist:["serif","monospace"]},O=new h.ClassAttributor("font","ql-font",w);class v extends h.StyleAttributor{value(q){return super.value(q).replace(/["']/g,"")}}const M=new v("font","font-family",w)},664:function(X,R,t){t.d(R,{U:function(){return w},r:function(){return O}});var h=t(6003);const w=new h.ClassAttributor("size","ql-size",{scope:h.Scope.INLINE,whitelist:["small","large","huge"]}),O=new h.StyleAttributor("size","font-size",{scope:h.Scope.INLINE,whitelist:["10px","18px","32px"]})},584:function(X,R,t){t.d(R,{Ay:function(){return mt},hV:function(){return r}});var h=t(6003),w=t(5232),O=t.n(w),v=t(9698),M=t(6078),f=t(4266),q=t(6142),l=t(8276),A=t(9541),T=t(9404),c=t(8638),E=t(7912),L=t(6772),_=t(664),H=t(8123);const Y=/font-weight:\s*normal/,st=["P","OL","UL"],K=d=>d&&st.includes(d.tagName),p=/\bmso-list:[^;]*ignore/i,j=/\bmso-list:[^;]*\bl(\d+)/i,W=/\bmso-list:[^;]*\blevel(\d+)/i,I=[function(d){d.documentElement.getAttribute("xmlns:w")==="urn:schemas-microsoft-com:office:word"&&(u=>{var i,x;const N=Array.from(u.querySelectorAll("[style*=mso-list]")),k=[],U=[];N.forEach(m=>{(m.getAttribute("style")||"").match(p)?k.push(m):U.push(m)}),k.forEach(m=>{var C;return(C=m.parentNode)==null?void 0:C.removeChild(m)});const y=u.documentElement.innerHTML,n=U.map(m=>((C,F)=>{const z=C.getAttribute("style"),Z=z==null?void 0:z.match(j);if(!Z)return null;const et=Number(Z[1]),nt=z==null?void 0:z.match(W),ct=nt?Number(nt[1]):1,dt=new RegExp(`@list l${et}:level${ct}\\s*\\{[^\\}]*mso-level-number-format:\\s*([\\w-]+)`,"i"),ht=F.match(dt);return{id:et,indent:ct,type:ht&&ht[1]==="bullet"?"bullet":"ordered",element:C}})(m,y)).filter(m=>m);for(;n.length;){const m=[];let C=n.shift();for(;C;)m.push(C),C=n.length&&((i=n[0])==null?void 0:i.element)===C.element.nextElementSibling&&n[0].id===C.id?n.shift():null;const F=document.createElement("ul");m.forEach(et=>{const nt=document.createElement("li");nt.setAttribute("data-list",et.type),et.indent>1&&nt.setAttribute("class","ql-indent-"+(et.indent-1)),nt.innerHTML=et.element.innerHTML,F.appendChild(nt)});const z=(x=m[0])==null?void 0:x.element,{parentNode:Z}=z??{};z&&(Z==null||Z.replaceChild(F,z)),m.slice(1).forEach(et=>{let{element:nt}=et;Z==null||Z.removeChild(nt)})}})(d)},function(d){d.querySelector('[id^="docs-internal-guid-"]')&&((u=>{Array.from(u.querySelectorAll('b[style*="font-weight"]')).filter(N=>{var k;return(k=N.getAttribute("style"))==null?void 0:k.match(Y)}).forEach(N=>{var U;const k=u.createDocumentFragment();k.append(...N.childNodes),(U=N.parentNode)==null||U.replaceChild(k,N)})})(d),(u=>{Array.from(u.querySelectorAll("br")).filter(N=>K(N.previousElementSibling)&&K(N.nextElementSibling)).forEach(N=>{var k;(k=N.parentNode)==null||k.removeChild(N)})})(d))}],G=(0,M.A)("quill:clipboard"),it=[[Node.TEXT_NODE,function(d,u,N){var U;let k=d.data;if(((U=d.parentElement)==null?void 0:U.tagName)==="O:P")return u.insert(k.trim());if(!e(d)){if(k.trim().length===0&&k.includes(`
`)&&!function(n,i){return n.previousElementSibling&&n.nextElementSibling&&!lt(n.previousElementSibling,i)&&!lt(n.nextElementSibling,i)}(d,N))return u;const y=(n,i)=>{const x=i.replace(/[^\u00a0]/g,"");return x.length<1&&n?" ":x};k=k.replace(/\r\n/g," ").replace(/\n/g," "),k=k.replace(/\s\s+/g,y.bind(y,!0)),(d.previousSibling==null&&d.parentElement!=null&&lt(d.parentElement,N)||d.previousSibling instanceof Element&&lt(d.previousSibling,N))&&(k=k.replace(/^\s+/,y.bind(y,!1))),(d.nextSibling==null&&d.parentElement!=null&&lt(d.parentElement,N)||d.nextSibling instanceof Element&&lt(d.nextSibling,N))&&(k=k.replace(/\s+$/,y.bind(y,!1)))}return u.insert(k)}],[Node.TEXT_NODE,S],["br",function(d,u){return Q(u,`
`)||u.insert(`
`),u}],[Node.ELEMENT_NODE,S],[Node.ELEMENT_NODE,function(d,u,N){const k=N.query(d);if(k==null)return u;if(k.prototype instanceof h.EmbedBlot){const U={},y=k.value(d);if(y!=null)return U[k.blotName]=y,new(O())().insert(U,k.formats(d,N))}else if(k.prototype instanceof h.BlockBlot&&!Q(u,`
`)&&u.insert(`
`),"blotName"in k&&"formats"in k&&typeof k.formats=="function")return tt(u,k.blotName,k.formats(d,N),N);return u}],[Node.ELEMENT_NODE,function(d,u,N){const k=h.Attributor.keys(d),U=h.ClassAttributor.keys(d),y=h.StyleAttributor.keys(d),n={};return k.concat(U).concat(y).forEach(i=>{let x=N.query(i,h.Scope.ATTRIBUTE);x!=null&&(n[x.attrName]=x.value(d),n[x.attrName])||(x=ot[i],x==null||x.attrName!==i&&x.keyName!==i||(n[x.attrName]=x.value(d)||void 0),x=ft[i],x==null||x.attrName!==i&&x.keyName!==i||(x=ft[i],n[x.attrName]=x.value(d)||void 0))}),Object.entries(n).reduce((i,x)=>{let[m,C]=x;return tt(i,m,C,N)},u)}],[Node.ELEMENT_NODE,function(d,u,N){var y;const k={},U=d.style||{};return U.fontStyle==="italic"&&(k.italic=!0),U.textDecoration==="underline"&&(k.underline=!0),U.textDecoration==="line-through"&&(k.strike=!0),((y=U.fontWeight)!=null&&y.startsWith("bold")||parseInt(U.fontWeight,10)>=700)&&(k.bold=!0),u=Object.entries(k).reduce((n,i)=>{let[x,m]=i;return tt(n,x,m,N)},u),parseFloat(U.textIndent||0)>0?new(O())().insert("	").concat(u):u}],["li",function(d,u,N){const k=N.query(d);if(k==null||k.blotName!=="list"||!Q(u,`
`))return u;let U=-1,y=d.parentNode;for(;y!=null;)["OL","UL"].includes(y.tagName)&&(U+=1),y=y.parentNode;return U<=0?u:u.reduce((n,i)=>i.insert?i.attributes&&typeof i.attributes.indent=="number"?n.push(i):n.insert(i.insert,{indent:U,...i.attributes||{}}):n,new(O()))}],["ol, ul",function(d,u,N){const k=d;let U=k.tagName==="OL"?"ordered":"bullet";const y=k.getAttribute("data-checked");return y&&(U=y==="true"?"checked":"unchecked"),tt(u,"list",U,N)}],["pre",function(d,u,N){const k=N.query("code-block");return tt(u,"code-block",!k||!("formats"in k)||typeof k.formats!="function"||k.formats(d,N),N)}],["tr",function(d,u,N){var U,y;const k=((U=d.parentElement)==null?void 0:U.tagName)==="TABLE"?d.parentElement:(y=d.parentElement)==null?void 0:y.parentElement;return k!=null?tt(u,"table",Array.from(k.querySelectorAll("tr")).indexOf(d)+1,N):u}],["b",s("bold")],["i",s("italic")],["strike",s("strike")],["style",function(){return new(O())}]],ot=[l.gS,E.Mc].reduce((d,u)=>(d[u.keyName]=u,d),{}),ft=[l.Hu,A.s,c.JM,E.VL,L.z,_.r].reduce((d,u)=>(d[u.keyName]=u,d),{});class mt extends f.A{constructor(u,N){super(u,N),this.quill.root.addEventListener("copy",k=>this.onCaptureCopy(k,!1)),this.quill.root.addEventListener("cut",k=>this.onCaptureCopy(k,!0)),this.quill.root.addEventListener("paste",this.onCapturePaste.bind(this)),this.matchers=[],it.concat(this.options.matchers??[]).forEach(k=>{let[U,y]=k;this.addMatcher(U,y)})}addMatcher(u,N){this.matchers.push([u,N])}convert(u){let{html:N,text:k}=u,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(U[T.Ay.blotName])return new(O())().insert(k||"",{[T.Ay.blotName]:U[T.Ay.blotName]});if(!N)return new(O())().insert(k||"",U);const y=this.convertHTML(N);return Q(y,`
`)&&(y.ops[y.ops.length-1].attributes==null||U.table)?y.compose(new(O())().retain(y.length()-1).delete(1)):y}normalizeHTML(u){(N=>{N.documentElement&&I.forEach(k=>{k(N)})})(u)}convertHTML(u){const N=new DOMParser().parseFromString(u,"text/html");this.normalizeHTML(N);const k=N.body,U=new WeakMap,[y,n]=this.prepareMatching(k,U);return r(this.quill.scroll,k,y,n,U)}dangerouslyPasteHTML(u,N){let k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:q.Ay.sources.API;if(typeof u=="string"){const U=this.convert({html:u,text:""});this.quill.setContents(U,N),this.quill.setSelection(0,q.Ay.sources.SILENT)}else{const U=this.convert({html:N,text:""});this.quill.updateContents(new(O())().retain(u).concat(U),k),this.quill.setSelection(u+U.length(),q.Ay.sources.SILENT)}}onCaptureCopy(u){var n,i;let N=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(u.defaultPrevented)return;u.preventDefault();const[k]=this.quill.selection.getRange();if(k==null)return;const{html:U,text:y}=this.onCopy(k,N);(n=u.clipboardData)==null||n.setData("text/plain",y),(i=u.clipboardData)==null||i.setData("text/html",U),N&&(0,H.Xo)({range:k,quill:this.quill})}normalizeURIList(u){return u.split(/\r?\n/).filter(N=>N[0]!=="#").join(`
`)}onCapturePaste(u){var n,i,x,m,C;if(u.defaultPrevented||!this.quill.isEnabled())return;u.preventDefault();const N=this.quill.getSelection(!0);if(N==null)return;const k=(n=u.clipboardData)==null?void 0:n.getData("text/html");let U=(i=u.clipboardData)==null?void 0:i.getData("text/plain");if(!k&&!U){const F=(x=u.clipboardData)==null?void 0:x.getData("text/uri-list");F&&(U=this.normalizeURIList(F))}const y=Array.from(((m=u.clipboardData)==null?void 0:m.files)||[]);if(!k&&y.length>0)this.quill.uploader.upload(N,y);else{if(k&&y.length>0){const F=new DOMParser().parseFromString(k,"text/html");if(F.body.childElementCount===1&&((C=F.body.firstElementChild)==null?void 0:C.tagName)==="IMG")return void this.quill.uploader.upload(N,y)}this.onPaste(N,{html:k,text:U})}}onCopy(u){const N=this.quill.getText(u);return{html:this.quill.getSemanticHTML(u),text:N}}onPaste(u,N){let{text:k,html:U}=N;const y=this.quill.getFormat(u.index),n=this.convert({text:k,html:U},y);G.log("onPaste",n,{text:k,html:U});const i=new(O())().retain(u.index).delete(u.length).concat(n);this.quill.updateContents(i,q.Ay.sources.USER),this.quill.setSelection(i.length()-u.length,q.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}prepareMatching(u,N){const k=[],U=[];return this.matchers.forEach(y=>{const[n,i]=y;switch(n){case Node.TEXT_NODE:U.push(i);break;case Node.ELEMENT_NODE:k.push(i);break;default:Array.from(u.querySelectorAll(n)).forEach(x=>{if(N.has(x)){const m=N.get(x);m==null||m.push(i)}else N.set(x,[i])})}}),[k,U]}}gt(mt,"DEFAULTS",{matchers:[]});function tt(d,u,N,k){return k.query(u)?d.reduce((U,y)=>{if(!y.insert)return U;if(y.attributes&&y.attributes[u])return U.push(y);const n=N?{[u]:N}:{};return U.insert(y.insert,{...n,...y.attributes})},new(O())):d}function Q(d,u){let N="";for(let k=d.ops.length-1;k>=0&&N.length<u.length;--k){const U=d.ops[k];if(typeof U.insert!="string")break;N=U.insert+N}return N.slice(-1*u.length)===u}function lt(d,u){if(!(d instanceof Element))return!1;const N=u.query(d);return!(N&&N.prototype instanceof h.EmbedBlot)&&["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].includes(d.tagName.toLowerCase())}const b=new WeakMap;function e(d){return d!=null&&(b.has(d)||(d.tagName==="PRE"?b.set(d,!0):b.set(d,e(d.parentNode))),b.get(d))}function r(d,u,N,k,U){return u.nodeType===u.TEXT_NODE?k.reduce((y,n)=>n(u,y,d),new(O())):u.nodeType===u.ELEMENT_NODE?Array.from(u.childNodes||[]).reduce((y,n)=>{let i=r(d,n,N,k,U);return n.nodeType===u.ELEMENT_NODE&&(i=N.reduce((x,m)=>m(n,x,d),i),i=(U.get(n)||[]).reduce((x,m)=>m(n,x,d),i)),y.concat(i)},new(O())):new(O())}function s(d){return(u,N,k)=>tt(N,d,!0,k)}function S(d,u,N){if(!Q(u,`
`)){if(lt(d,N)&&(d.childNodes.length>0||d instanceof HTMLParagraphElement))return u.insert(`
`);if(u.length()>0&&d.nextSibling){let k=d.nextSibling;for(;k!=null;){if(lt(k,N))return u.insert(`
`);const U=N.query(k);if(U&&U.prototype instanceof v.zo)return u.insert(`
`);k=k.firstChild}}}return u}},8123:function(X,R,t){t.d(R,{Ay:function(){return c},Xo:function(){return st}});var h=t(5123),w=t(3707),O=t(5232),v=t.n(O),M=t(6003),f=t(6142),q=t(6078),l=t(4266);const A=(0,q.A)("quill:keyboard"),T=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey";class c extends l.A{static match(p,j){return!["altKey","ctrlKey","metaKey","shiftKey"].some(W=>!!j[W]!==p[W]&&j[W]!==null)&&(j.key===p.key||j.key===p.which)}constructor(p,j){super(p,j),this.bindings={},Object.keys(this.options.bindings).forEach(W=>{this.options.bindings[W]&&this.addBinding(this.options.bindings[W])}),this.addBinding({key:"Enter",shiftKey:null},this.handleEnter),this.addBinding({key:"Enter",metaKey:null,ctrlKey:null,altKey:null},()=>{}),/Firefox/i.test(navigator.userAgent)?(this.addBinding({key:"Backspace"},{collapsed:!0},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0},this.handleDelete)):(this.addBinding({key:"Backspace"},{collapsed:!0,prefix:/^.?$/},this.handleBackspace),this.addBinding({key:"Delete"},{collapsed:!0,suffix:/^.?$/},this.handleDelete)),this.addBinding({key:"Backspace"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Delete"},{collapsed:!1},this.handleDeleteRange),this.addBinding({key:"Backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},this.handleBackspace),this.listen()}addBinding(p){let j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};const I=function(G){if(typeof G=="string"||typeof G=="number")G={key:G};else{if(typeof G!="object")return null;G=(0,w.A)(G)}return G.shortKey&&(G[T]=G.shortKey,delete G.shortKey),G}(p);I!=null?(typeof j=="function"&&(j={handler:j}),typeof W=="function"&&(W={handler:W}),(Array.isArray(I.key)?I.key:[I.key]).forEach(G=>{const it={...I,key:G,...j,...W};this.bindings[it.key]=this.bindings[it.key]||[],this.bindings[it.key].push(it)})):A.warn("Attempted to add invalid keyboard binding",I)}listen(){this.quill.root.addEventListener("keydown",p=>{if(p.defaultPrevented||p.isComposing||p.keyCode===229&&(p.key==="Enter"||p.key==="Backspace"))return;const j=(this.bindings[p.key]||[]).concat(this.bindings[p.which]||[]).filter(e=>c.match(p,e));if(j.length===0)return;const W=f.Ay.find(p.target,!0);if(W&&W.scroll!==this.quill.scroll)return;const I=this.quill.getSelection();if(I==null||!this.quill.hasFocus())return;const[G,it]=this.quill.getLine(I.index),[ot,ft]=this.quill.getLeaf(I.index),[mt,tt]=I.length===0?[ot,ft]:this.quill.getLeaf(I.index+I.length),Q=ot instanceof M.TextBlot?ot.value().slice(0,ft):"",lt=mt instanceof M.TextBlot?mt.value().slice(tt):"",b={collapsed:I.length===0,empty:I.length===0&&G.length()<=1,format:this.quill.getFormat(I),line:G,offset:it,prefix:Q,suffix:lt,event:p};j.some(e=>{if(e.collapsed!=null&&e.collapsed!==b.collapsed||e.empty!=null&&e.empty!==b.empty||e.offset!=null&&e.offset!==b.offset)return!1;if(Array.isArray(e.format)){if(e.format.every(r=>b.format[r]==null))return!1}else if(typeof e.format=="object"&&!Object.keys(e.format).every(r=>e.format[r]===!0?b.format[r]!=null:e.format[r]===!1?b.format[r]==null:(0,h.A)(e.format[r],b.format[r])))return!1;return!(e.prefix!=null&&!e.prefix.test(b.prefix)||e.suffix!=null&&!e.suffix.test(b.suffix)||e.handler.call(this,I,b,e)===!0)})&&p.preventDefault()})}handleBackspace(p,j){const W=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(j.prefix)?2:1;if(p.index===0||this.quill.getLength()<=1)return;let I={};const[G]=this.quill.getLine(p.index);let it=new(v())().retain(p.index-W).delete(W);if(j.offset===0){const[ot]=this.quill.getLine(p.index-1);if(ot&&!(ot.statics.blotName==="block"&&ot.length()<=1)){const ft=G.formats(),mt=this.quill.getFormat(p.index-1,1);if(I=O.AttributeMap.diff(ft,mt)||{},Object.keys(I).length>0){const tt=new(v())().retain(p.index+G.length()-2).retain(1,I);it=it.compose(tt)}}}this.quill.updateContents(it,f.Ay.sources.USER),this.quill.focus()}handleDelete(p,j){const W=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(j.suffix)?2:1;if(p.index>=this.quill.getLength()-W)return;let I={};const[G]=this.quill.getLine(p.index);let it=new(v())().retain(p.index).delete(W);if(j.offset>=G.length()-1){const[ot]=this.quill.getLine(p.index+1);if(ot){const ft=G.formats(),mt=this.quill.getFormat(p.index,1);I=O.AttributeMap.diff(ft,mt)||{},Object.keys(I).length>0&&(it=it.retain(ot.length()-1).retain(1,I))}}this.quill.updateContents(it,f.Ay.sources.USER),this.quill.focus()}handleDeleteRange(p){st({range:p,quill:this.quill}),this.quill.focus()}handleEnter(p,j){const W=Object.keys(j.format).reduce((G,it)=>(this.quill.scroll.query(it,M.Scope.BLOCK)&&!Array.isArray(j.format[it])&&(G[it]=j.format[it]),G),{}),I=new(v())().retain(p.index).delete(p.length).insert(`
`,W);this.quill.updateContents(I,f.Ay.sources.USER),this.quill.setSelection(p.index+1,f.Ay.sources.SILENT),this.quill.focus()}}const E={bindings:{bold:H("bold"),italic:H("italic"),underline:H("underline"),indent:{key:"Tab",format:["blockquote","indent","list"],handler(K,p){return!(!p.collapsed||p.offset===0)||(this.quill.format("indent","+1",f.Ay.sources.USER),!1)}},outdent:{key:"Tab",shiftKey:!0,format:["blockquote","indent","list"],handler(K,p){return!(!p.collapsed||p.offset===0)||(this.quill.format("indent","-1",f.Ay.sources.USER),!1)}},"outdent backspace":{key:"Backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler(K,p){p.format.indent!=null?this.quill.format("indent","-1",f.Ay.sources.USER):p.format.list!=null&&this.quill.format("list",!1,f.Ay.sources.USER)}},"indent code-block":L(!0),"outdent code-block":L(!1),"remove tab":{key:"Tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler(K){this.quill.deleteText(K.index-1,1,f.Ay.sources.USER)}},tab:{key:"Tab",handler(K,p){if(p.format.table)return!0;this.quill.history.cutoff();const j=new(v())().retain(K.index).delete(K.length).insert("	");return this.quill.updateContents(j,f.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index+1,f.Ay.sources.SILENT),!1}},"blockquote empty enter":{key:"Enter",collapsed:!0,format:["blockquote"],empty:!0,handler(){this.quill.format("blockquote",!1,f.Ay.sources.USER)}},"list empty enter":{key:"Enter",collapsed:!0,format:["list"],empty:!0,handler(K,p){const j={list:!1};p.format.indent&&(j.indent=!1),this.quill.formatLine(K.index,K.length,j,f.Ay.sources.USER)}},"checklist enter":{key:"Enter",collapsed:!0,format:{list:"checked"},handler(K){const[p,j]=this.quill.getLine(K.index),W={...p.formats(),list:"checked"},I=new(v())().retain(K.index).insert(`
`,W).retain(p.length()-j-1).retain(1,{list:"unchecked"});this.quill.updateContents(I,f.Ay.sources.USER),this.quill.setSelection(K.index+1,f.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"header enter":{key:"Enter",collapsed:!0,format:["header"],suffix:/^$/,handler(K,p){const[j,W]=this.quill.getLine(K.index),I=new(v())().retain(K.index).insert(`
`,p.format).retain(j.length()-W-1).retain(1,{header:null});this.quill.updateContents(I,f.Ay.sources.USER),this.quill.setSelection(K.index+1,f.Ay.sources.SILENT),this.quill.scrollSelectionIntoView()}},"table backspace":{key:"Backspace",format:["table"],collapsed:!0,offset:0,handler(){}},"table delete":{key:"Delete",format:["table"],collapsed:!0,suffix:/^$/,handler(){}},"table enter":{key:"Enter",shiftKey:null,format:["table"],handler(K){const p=this.quill.getModule("table");if(p){const[j,W,I,G]=p.getTable(K),it=function(ft,mt,tt,Q){return mt.prev==null&&mt.next==null?tt.prev==null&&tt.next==null?Q===0?-1:1:tt.prev==null?-1:1:mt.prev==null?-1:mt.next==null?1:null}(0,W,I,G);if(it==null)return;let ot=j.offset();if(it<0){const ft=new(v())().retain(ot).insert(`
`);this.quill.updateContents(ft,f.Ay.sources.USER),this.quill.setSelection(K.index+1,K.length,f.Ay.sources.SILENT)}else if(it>0){ot+=j.length();const ft=new(v())().retain(ot).insert(`
`);this.quill.updateContents(ft,f.Ay.sources.USER),this.quill.setSelection(ot,f.Ay.sources.USER)}}}},"table tab":{key:"Tab",shiftKey:null,format:["table"],handler(K,p){const{event:j,line:W}=p,I=W.offset(this.quill.scroll);j.shiftKey?this.quill.setSelection(I-1,f.Ay.sources.USER):this.quill.setSelection(I+W.length(),f.Ay.sources.USER)}},"list autofill":{key:" ",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler(K,p){if(this.quill.scroll.query("list")==null)return!0;const{length:j}=p.prefix,[W,I]=this.quill.getLine(K.index);if(I>j)return!0;let G;switch(p.prefix.trim()){case"[]":case"[ ]":G="unchecked";break;case"[x]":G="checked";break;case"-":case"*":G="bullet";break;default:G="ordered"}this.quill.insertText(K.index," ",f.Ay.sources.USER),this.quill.history.cutoff();const it=new(v())().retain(K.index-I).delete(j+1).retain(W.length()-2-I).retain(1,{list:G});return this.quill.updateContents(it,f.Ay.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(K.index-j,f.Ay.sources.SILENT),!1}},"code exit":{key:"Enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler(K){const[p,j]=this.quill.getLine(K.index);let W=2,I=p;for(;I!=null&&I.length()<=1&&I.formats()["code-block"];)if(I=I.prev,W-=1,W<=0){const G=new(v())().retain(K.index+p.length()-j-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(G,f.Ay.sources.USER),this.quill.setSelection(K.index-1,f.Ay.sources.SILENT),!1}return!0}},"embed left":_("ArrowLeft",!1),"embed left shift":_("ArrowLeft",!0),"embed right":_("ArrowRight",!1),"embed right shift":_("ArrowRight",!0),"table down":Y(!1),"table up":Y(!0)}};function L(K){return{key:"Tab",shiftKey:!K,format:{"code-block":!0},handler(p,j){let{event:W}=j;const I=this.quill.scroll.query("code-block"),{TAB:G}=I;if(p.length===0&&!W.shiftKey)return this.quill.insertText(p.index,G,f.Ay.sources.USER),void this.quill.setSelection(p.index+G.length,f.Ay.sources.SILENT);const it=p.length===0?this.quill.getLines(p.index,1):this.quill.getLines(p);let{index:ot,length:ft}=p;it.forEach((mt,tt)=>{K?(mt.insertAt(0,G),tt===0?ot+=G.length:ft+=G.length):mt.domNode.textContent.startsWith(G)&&(mt.deleteAt(0,G.length),tt===0?ot-=G.length:ft-=G.length)}),this.quill.update(f.Ay.sources.USER),this.quill.setSelection(ot,ft,f.Ay.sources.SILENT)}}}function _(K,p){return{key:K,shiftKey:p,altKey:null,[K==="ArrowLeft"?"prefix":"suffix"]:/^$/,handler(j){let{index:W}=j;K==="ArrowRight"&&(W+=j.length+1);const[I]=this.quill.getLeaf(W);return!(I instanceof M.EmbedBlot&&(K==="ArrowLeft"?p?this.quill.setSelection(j.index-1,j.length+1,f.Ay.sources.USER):this.quill.setSelection(j.index-1,f.Ay.sources.USER):p?this.quill.setSelection(j.index,j.length+1,f.Ay.sources.USER):this.quill.setSelection(j.index+j.length+1,f.Ay.sources.USER),1))}}}function H(K){return{key:K[0],shortKey:!0,handler(p,j){this.quill.format(K,!j.format[K],f.Ay.sources.USER)}}}function Y(K){return{key:K?"ArrowUp":"ArrowDown",collapsed:!0,format:["table"],handler(p,j){const W=K?"prev":"next",I=j.line,G=I.parent[W];if(G!=null){if(G.statics.blotName==="table-row"){let it=G.children.head,ot=I;for(;ot.prev!=null;)ot=ot.prev,it=it.next;const ft=it.offset(this.quill.scroll)+Math.min(j.offset,it.length()-1);this.quill.setSelection(ft,0,f.Ay.sources.USER)}}else{const it=I.table()[W];it!=null&&(K?this.quill.setSelection(it.offset(this.quill.scroll)+it.length()-1,0,f.Ay.sources.USER):this.quill.setSelection(it.offset(this.quill.scroll),0,f.Ay.sources.USER))}return!1}}}function st(K){let{quill:p,range:j}=K;const W=p.getLines(j);let I={};if(W.length>1){const G=W[0].formats(),it=W[W.length-1].formats();I=O.AttributeMap.diff(it,G)||{}}p.deleteText(j,f.Ay.sources.USER),Object.keys(I).length>0&&p.formatLine(j.index,1,I,f.Ay.sources.USER),p.setSelection(j.index,f.Ay.sources.SILENT)}c.DEFAULTS=E},8920:function(X){var R=Object.prototype.hasOwnProperty,t="~";function h(){}function w(f,q,l){this.fn=f,this.context=q,this.once=l||!1}function O(f,q,l,A,T){if(typeof l!="function")throw new TypeError("The listener must be a function");var c=new w(l,A||f,T),E=t?t+q:q;return f._events[E]?f._events[E].fn?f._events[E]=[f._events[E],c]:f._events[E].push(c):(f._events[E]=c,f._eventsCount++),f}function v(f,q){--f._eventsCount==0?f._events=new h:delete f._events[q]}function M(){this._events=new h,this._eventsCount=0}Object.create&&(h.prototype=Object.create(null),new h().__proto__||(t=!1)),M.prototype.eventNames=function(){var f,q,l=[];if(this._eventsCount===0)return l;for(q in f=this._events)R.call(f,q)&&l.push(t?q.slice(1):q);return Object.getOwnPropertySymbols?l.concat(Object.getOwnPropertySymbols(f)):l},M.prototype.listeners=function(f){var q=t?t+f:f,l=this._events[q];if(!l)return[];if(l.fn)return[l.fn];for(var A=0,T=l.length,c=new Array(T);A<T;A++)c[A]=l[A].fn;return c},M.prototype.listenerCount=function(f){var q=t?t+f:f,l=this._events[q];return l?l.fn?1:l.length:0},M.prototype.emit=function(f,q,l,A,T,c){var E=t?t+f:f;if(!this._events[E])return!1;var L,_,H=this._events[E],Y=arguments.length;if(H.fn){switch(H.once&&this.removeListener(f,H.fn,void 0,!0),Y){case 1:return H.fn.call(H.context),!0;case 2:return H.fn.call(H.context,q),!0;case 3:return H.fn.call(H.context,q,l),!0;case 4:return H.fn.call(H.context,q,l,A),!0;case 5:return H.fn.call(H.context,q,l,A,T),!0;case 6:return H.fn.call(H.context,q,l,A,T,c),!0}for(_=1,L=new Array(Y-1);_<Y;_++)L[_-1]=arguments[_];H.fn.apply(H.context,L)}else{var st,K=H.length;for(_=0;_<K;_++)switch(H[_].once&&this.removeListener(f,H[_].fn,void 0,!0),Y){case 1:H[_].fn.call(H[_].context);break;case 2:H[_].fn.call(H[_].context,q);break;case 3:H[_].fn.call(H[_].context,q,l);break;case 4:H[_].fn.call(H[_].context,q,l,A);break;default:if(!L)for(st=1,L=new Array(Y-1);st<Y;st++)L[st-1]=arguments[st];H[_].fn.apply(H[_].context,L)}}return!0},M.prototype.on=function(f,q,l){return O(this,f,q,l,!1)},M.prototype.once=function(f,q,l){return O(this,f,q,l,!0)},M.prototype.removeListener=function(f,q,l,A){var T=t?t+f:f;if(!this._events[T])return this;if(!q)return v(this,T),this;var c=this._events[T];if(c.fn)c.fn!==q||A&&!c.once||l&&c.context!==l||v(this,T);else{for(var E=0,L=[],_=c.length;E<_;E++)(c[E].fn!==q||A&&!c[E].once||l&&c[E].context!==l)&&L.push(c[E]);L.length?this._events[T]=L.length===1?L[0]:L:v(this,T)}return this},M.prototype.removeAllListeners=function(f){var q;return f?(q=t?t+f:f,this._events[q]&&v(this,q)):(this._events=new h,this._eventsCount=0),this},M.prototype.off=M.prototype.removeListener,M.prototype.addListener=M.prototype.on,M.prefixed=t,M.EventEmitter=M,X.exports=M},5090:function(X){var R=-1,t=1,h=0;function w(p,j,W,I,G){if(p===j)return p?[[h,p]]:[];if(W!=null){var it=function(Q,lt,b){var e=typeof b=="number"?{index:b,length:0}:b.oldRange,r=typeof b=="number"?null:b.newRange,s=Q.length,S=lt.length;if(e.length===0&&(r===null||r.length===0)){var d=e.index,u=Q.slice(0,d),N=Q.slice(d),k=r?r.index:null,U=d+S-s;if((k===null||k===U)&&!(U<0||U>S)){var y=lt.slice(0,U);if((x=lt.slice(U))===N){var n=Math.min(d,U);if((C=u.slice(0,n))===(z=y.slice(0,n)))return st(C,u.slice(n),y.slice(n),N)}}if(k===null||k===d){var i=d,x=(y=lt.slice(0,i),lt.slice(i));if(y===u){var m=Math.min(s-i,S-i);if((F=N.slice(N.length-m))===(Z=x.slice(x.length-m)))return st(u,N.slice(0,N.length-m),x.slice(0,x.length-m),F)}}}if(e.length>0&&r&&r.length===0){var C=Q.slice(0,e.index),F=Q.slice(e.index+e.length);if(!(S<(n=C.length)+(m=F.length))){var z=lt.slice(0,n),Z=lt.slice(S-m);if(C===z&&F===Z)return st(C,Q.slice(n,s-m),lt.slice(n,S-m),F)}}return null}(p,j,W);if(it)return it}var ot=v(p,j),ft=p.substring(0,ot);ot=f(p=p.substring(ot),j=j.substring(ot));var mt=p.substring(p.length-ot),tt=function(Q,lt){var b;if(!Q)return[[t,lt]];if(!lt)return[[R,Q]];var e=Q.length>lt.length?Q:lt,r=Q.length>lt.length?lt:Q,s=e.indexOf(r);if(s!==-1)return b=[[t,e.substring(0,s)],[h,r],[t,e.substring(s+r.length)]],Q.length>lt.length&&(b[0][0]=b[2][0]=R),b;if(r.length===1)return[[R,Q],[t,lt]];var S=function(i,x){var m=i.length>x.length?i:x,C=i.length>x.length?x:i;if(m.length<4||2*C.length<m.length)return null;function F(pt,xt,Ot){for(var Tt,ut,yt,Et,jt=pt.substring(Ot,Ot+Math.floor(pt.length/4)),wt=-1,St="";(wt=xt.indexOf(jt,wt+1))!==-1;){var It=v(pt.substring(Ot),xt.substring(wt)),zt=f(pt.substring(0,Ot),xt.substring(0,wt));St.length<zt+It&&(St=xt.substring(wt-zt,wt)+xt.substring(wt,wt+It),Tt=pt.substring(0,Ot-zt),ut=pt.substring(Ot+It),yt=xt.substring(0,wt-zt),Et=xt.substring(wt+It))}return 2*St.length>=pt.length?[Tt,ut,yt,Et,St]:null}var z,Z,et,nt,ct,dt=F(m,C,Math.ceil(m.length/4)),ht=F(m,C,Math.ceil(m.length/2));return dt||ht?(z=ht?dt&&dt[4].length>ht[4].length?dt:ht:dt,i.length>x.length?(Z=z[0],et=z[1],nt=z[2],ct=z[3]):(nt=z[0],ct=z[1],Z=z[2],et=z[3]),[Z,et,nt,ct,z[4]]):null}(Q,lt);if(S){var d=S[0],u=S[1],N=S[2],k=S[3],U=S[4],y=w(d,N),n=w(u,k);return y.concat([[h,U]],n)}return function(i,x){for(var m=i.length,C=x.length,F=Math.ceil((m+C)/2),z=F,Z=2*F,et=new Array(Z),nt=new Array(Z),ct=0;ct<Z;ct++)et[ct]=-1,nt[ct]=-1;et[z+1]=0,nt[z+1]=0;for(var dt=m-C,ht=dt%2!=0,pt=0,xt=0,Ot=0,Tt=0,ut=0;ut<F;ut++){for(var yt=-ut+pt;yt<=ut-xt;yt+=2){for(var Et=z+yt,jt=(Ct=yt===-ut||yt!==ut&&et[Et-1]<et[Et+1]?et[Et+1]:et[Et-1]+1)-yt;Ct<m&&jt<C&&i.charAt(Ct)===x.charAt(jt);)Ct++,jt++;if(et[Et]=Ct,Ct>m)xt+=2;else if(jt>C)pt+=2;else if(ht&&(It=z+dt-yt)>=0&&It<Z&&nt[It]!==-1&&Ct>=(St=m-nt[It]))return O(i,x,Ct,jt)}for(var wt=-ut+Ot;wt<=ut-Tt;wt+=2){for(var St,It=z+wt,zt=(St=wt===-ut||wt!==ut&&nt[It-1]<nt[It+1]?nt[It+1]:nt[It-1]+1)-wt;St<m&&zt<C&&i.charAt(m-St-1)===x.charAt(C-zt-1);)St++,zt++;if(nt[It]=St,St>m)Tt+=2;else if(zt>C)Ot+=2;else if(!ht){var Ct;if((Et=z+dt-wt)>=0&&Et<Z&&et[Et]!==-1&&(jt=z+(Ct=et[Et])-Et,Ct>=(St=m-St)))return O(i,x,Ct,jt)}}}return[[R,i],[t,x]]}(Q,lt)}(p=p.substring(0,p.length-ot),j=j.substring(0,j.length-ot));return ft&&tt.unshift([h,ft]),mt&&tt.push([h,mt]),E(tt,G),I&&function(Q){for(var lt=!1,b=[],e=0,r=null,s=0,S=0,d=0,u=0,N=0;s<Q.length;)Q[s][0]==h?(b[e++]=s,S=u,d=N,u=0,N=0,r=Q[s][1]):(Q[s][0]==t?u+=Q[s][1].length:N+=Q[s][1].length,r&&r.length<=Math.max(S,d)&&r.length<=Math.max(u,N)&&(Q.splice(b[e-1],0,[R,r]),Q[b[e-1]+1][0]=t,e--,s=--e>0?b[e-1]:-1,S=0,d=0,u=0,N=0,r=null,lt=!0)),s++;for(lt&&E(Q),function(i){function x(xt,Ot){if(!xt||!Ot)return 6;var Tt=xt.charAt(xt.length-1),ut=Ot.charAt(0),yt=Tt.match(q),Et=ut.match(q),jt=yt&&Tt.match(l),wt=Et&&ut.match(l),St=jt&&Tt.match(A),It=wt&&ut.match(A),zt=St&&xt.match(T),Ct=It&&Ot.match(c);return zt||Ct?5:St||It?4:yt&&!jt&&wt?3:jt||wt?2:yt||Et?1:0}for(var m=1;m<i.length-1;){if(i[m-1][0]==h&&i[m+1][0]==h){var C=i[m-1][1],F=i[m][1],z=i[m+1][1],Z=f(C,F);if(Z){var et=F.substring(F.length-Z);C=C.substring(0,C.length-Z),F=et+F.substring(0,F.length-Z),z=et+z}for(var nt=C,ct=F,dt=z,ht=x(C,F)+x(F,z);F.charAt(0)===z.charAt(0);){C+=F.charAt(0),F=F.substring(1)+z.charAt(0),z=z.substring(1);var pt=x(C,F)+x(F,z);pt>=ht&&(ht=pt,nt=C,ct=F,dt=z)}i[m-1][1]!=nt&&(nt?i[m-1][1]=nt:(i.splice(m-1,1),m--),i[m][1]=ct,dt?i[m+1][1]=dt:(i.splice(m+1,1),m--))}m++}}(Q),s=1;s<Q.length;){if(Q[s-1][0]==R&&Q[s][0]==t){var k=Q[s-1][1],U=Q[s][1],y=M(k,U),n=M(U,k);y>=n?(y>=k.length/2||y>=U.length/2)&&(Q.splice(s,0,[h,U.substring(0,y)]),Q[s-1][1]=k.substring(0,k.length-y),Q[s+1][1]=U.substring(y),s++):(n>=k.length/2||n>=U.length/2)&&(Q.splice(s,0,[h,k.substring(0,n)]),Q[s-1][0]=t,Q[s-1][1]=U.substring(0,U.length-n),Q[s+1][0]=R,Q[s+1][1]=k.substring(n),s++),s++}s++}}(tt),tt}function O(p,j,W,I){var G=p.substring(0,W),it=j.substring(0,I),ot=p.substring(W),ft=j.substring(I),mt=w(G,it),tt=w(ot,ft);return mt.concat(tt)}function v(p,j){if(!p||!j||p.charAt(0)!==j.charAt(0))return 0;for(var W=0,I=Math.min(p.length,j.length),G=I,it=0;W<G;)p.substring(it,G)==j.substring(it,G)?it=W=G:I=G,G=Math.floor((I-W)/2+W);return L(p.charCodeAt(G-1))&&G--,G}function M(p,j){var W=p.length,I=j.length;if(W==0||I==0)return 0;W>I?p=p.substring(W-I):W<I&&(j=j.substring(0,W));var G=Math.min(W,I);if(p==j)return G;for(var it=0,ot=1;;){var ft=p.substring(G-ot),mt=j.indexOf(ft);if(mt==-1)return it;ot+=mt,mt!=0&&p.substring(G-ot)!=j.substring(0,ot)||(it=ot,ot++)}}function f(p,j){if(!p||!j||p.slice(-1)!==j.slice(-1))return 0;for(var W=0,I=Math.min(p.length,j.length),G=I,it=0;W<G;)p.substring(p.length-G,p.length-it)==j.substring(j.length-G,j.length-it)?it=W=G:I=G,G=Math.floor((I-W)/2+W);return _(p.charCodeAt(p.length-G))&&G--,G}var q=/[^a-zA-Z0-9]/,l=/\s/,A=/[\r\n]/,T=/\n\r?\n$/,c=/^\r?\n\r?\n/;function E(p,j){p.push([h,""]);for(var W,I=0,G=0,it=0,ot="",ft="";I<p.length;)if(I<p.length-1&&!p[I][1])p.splice(I,1);else switch(p[I][0]){case t:it++,ft+=p[I][1],I++;break;case R:G++,ot+=p[I][1],I++;break;case h:var mt=I-it-G-1;if(j){if(mt>=0&&Y(p[mt][1])){var tt=p[mt][1].slice(-1);if(p[mt][1]=p[mt][1].slice(0,-1),ot=tt+ot,ft=tt+ft,!p[mt][1]){p.splice(mt,1),I--;var Q=mt-1;p[Q]&&p[Q][0]===t&&(it++,ft=p[Q][1]+ft,Q--),p[Q]&&p[Q][0]===R&&(G++,ot=p[Q][1]+ot,Q--),mt=Q}}H(p[I][1])&&(tt=p[I][1].charAt(0),p[I][1]=p[I][1].slice(1),ot+=tt,ft+=tt)}if(I<p.length-1&&!p[I][1]){p.splice(I,1);break}if(ot.length>0||ft.length>0){ot.length>0&&ft.length>0&&((W=v(ft,ot))!==0&&(mt>=0?p[mt][1]+=ft.substring(0,W):(p.splice(0,0,[h,ft.substring(0,W)]),I++),ft=ft.substring(W),ot=ot.substring(W)),(W=f(ft,ot))!==0&&(p[I][1]=ft.substring(ft.length-W)+p[I][1],ft=ft.substring(0,ft.length-W),ot=ot.substring(0,ot.length-W)));var lt=it+G;ot.length===0&&ft.length===0?(p.splice(I-lt,lt),I-=lt):ot.length===0?(p.splice(I-lt,lt,[t,ft]),I=I-lt+1):ft.length===0?(p.splice(I-lt,lt,[R,ot]),I=I-lt+1):(p.splice(I-lt,lt,[R,ot],[t,ft]),I=I-lt+2)}I!==0&&p[I-1][0]===h?(p[I-1][1]+=p[I][1],p.splice(I,1)):I++,it=0,G=0,ot="",ft=""}p[p.length-1][1]===""&&p.pop();var b=!1;for(I=1;I<p.length-1;)p[I-1][0]===h&&p[I+1][0]===h&&(p[I][1].substring(p[I][1].length-p[I-1][1].length)===p[I-1][1]?(p[I][1]=p[I-1][1]+p[I][1].substring(0,p[I][1].length-p[I-1][1].length),p[I+1][1]=p[I-1][1]+p[I+1][1],p.splice(I-1,1),b=!0):p[I][1].substring(0,p[I+1][1].length)==p[I+1][1]&&(p[I-1][1]+=p[I+1][1],p[I][1]=p[I][1].substring(p[I+1][1].length)+p[I+1][1],p.splice(I+1,1),b=!0)),I++;b&&E(p,j)}function L(p){return p>=55296&&p<=56319}function _(p){return p>=56320&&p<=57343}function H(p){return _(p.charCodeAt(0))}function Y(p){return L(p.charCodeAt(p.length-1))}function st(p,j,W,I){return Y(p)||H(I)?null:function(G){for(var it=[],ot=0;ot<G.length;ot++)G[ot][1].length>0&&it.push(G[ot]);return it}([[h,p],[R,j],[t,W],[h,I]])}function K(p,j,W,I){return w(p,j,W,I,!0)}K.INSERT=t,K.DELETE=R,K.EQUAL=h,X.exports=K},9629:function(X,R,t){X=t.nmd(X);var h="__lodash_hash_undefined__",w=9007199254740991,O="[object Arguments]",v="[object Boolean]",M="[object Date]",f="[object Function]",q="[object GeneratorFunction]",l="[object Map]",A="[object Number]",T="[object Object]",c="[object Promise]",E="[object RegExp]",L="[object Set]",_="[object String]",H="[object Symbol]",Y="[object WeakMap]",st="[object ArrayBuffer]",K="[object DataView]",p="[object Float32Array]",j="[object Float64Array]",W="[object Int8Array]",I="[object Int16Array]",G="[object Int32Array]",it="[object Uint8Array]",ot="[object Uint8ClampedArray]",ft="[object Uint16Array]",mt="[object Uint32Array]",tt=/\w*$/,Q=/^\[object .+?Constructor\]$/,lt=/^(?:0|[1-9]\d*)$/,b={};b[O]=b["[object Array]"]=b[st]=b[K]=b[v]=b[M]=b[p]=b[j]=b[W]=b[I]=b[G]=b[l]=b[A]=b[T]=b[E]=b[L]=b[_]=b[H]=b[it]=b[ot]=b[ft]=b[mt]=!0,b["[object Error]"]=b[f]=b[Y]=!1;var e=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,r=typeof self=="object"&&self&&self.Object===Object&&self,s=e||r||Function("return this")(),S=R&&!R.nodeType&&R,d=S&&X&&!X.nodeType&&X,u=d&&d.exports===S;function N(P,g){return P.set(g[0],g[1]),P}function k(P,g){return P.add(g),P}function U(P,g,B,V){var at=-1,kt=P?P.length:0;for(V&&kt&&(B=P[++at]);++at<kt;)B=g(B,P[at],at,P);return B}function y(P){var g=!1;if(P!=null&&typeof P.toString!="function")try{g=!!(P+"")}catch{}return g}function n(P){var g=-1,B=Array(P.size);return P.forEach(function(V,at){B[++g]=[at,V]}),B}function i(P,g){return function(B){return P(g(B))}}function x(P){var g=-1,B=Array(P.size);return P.forEach(function(V){B[++g]=V}),B}var m,C=Array.prototype,F=Function.prototype,z=Object.prototype,Z=s["__core-js_shared__"],et=(m=/[^.]+$/.exec(Z&&Z.keys&&Z.keys.IE_PROTO||""))?"Symbol(src)_1."+m:"",nt=F.toString,ct=z.hasOwnProperty,dt=z.toString,ht=RegExp("^"+nt.call(ct).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),pt=u?s.Buffer:void 0,xt=s.Symbol,Ot=s.Uint8Array,Tt=i(Object.getPrototypeOf,Object),ut=Object.create,yt=z.propertyIsEnumerable,Et=C.splice,jt=Object.getOwnPropertySymbols,wt=pt?pt.isBuffer:void 0,St=i(Object.keys,Object),It=le(s,"DataView"),zt=le(s,"Map"),Ct=le(s,"Promise"),ve=le(s,"Set"),ke=le(s,"WeakMap"),ge=le(Object,"create"),Te=J(It),_e=J(zt),Se=J(Ct),he=J(ve),ce=J(ke),Gt=xt?xt.prototype:void 0,ie=Gt?Gt.valueOf:void 0;function ne(P){var g=-1,B=P?P.length:0;for(this.clear();++g<B;){var V=P[g];this.set(V[0],V[1])}}function Ft(P){var g=-1,B=P?P.length:0;for(this.clear();++g<B;){var V=P[g];this.set(V[0],V[1])}}function re(P){var g=-1,B=P?P.length:0;for(this.clear();++g<B;){var V=P[g];this.set(V[0],V[1])}}function se(P){this.__data__=new Ft(P)}function Ae(P,g,B){var V=P[g];ct.call(P,g)&&rt(V,B)&&(B!==void 0||g in P)||(P[g]=B)}function fe(P,g){for(var B=P.length;B--;)if(rt(P[B][0],g))return B;return-1}function xe(P,g,B,V,at,kt,vt){var Nt;if(V&&(Nt=kt?V(P,at,kt,vt):V(P)),Nt!==void 0)return Nt;if(!$t(P))return P;var Dt=bt(P);if(Dt){if(Nt=function(At){var Lt=At.length,Rt=At.constructor(Lt);return Lt&&typeof At[0]=="string"&&ct.call(At,"index")&&(Rt.index=At.index,Rt.input=At.input),Rt}(P),!g)return function(At,Lt){var Rt=-1,Wt=At.length;for(Lt||(Lt=Array(Wt));++Rt<Wt;)Lt[Rt]=At[Rt];return Lt}(P,Nt)}else{var Mt=o(P),Zt=Mt==f||Mt==q;if(Ht(P))return function(At,Lt){if(Lt)return At.slice();var Rt=new At.constructor(At.length);return At.copy(Rt),Rt}(P,g);if(Mt==T||Mt==O||Zt&&!kt){if(y(P))return kt?P:{};if(Nt=function(At){return typeof At.constructor!="function"||D(At)?{}:$t(Lt=Tt(At))?ut(Lt):{};var Lt}(Zt?{}:P),!g)return function(At,Lt){return oe(At,$(At),Lt)}(P,function(At,Lt){return At&&oe(Lt,Jt(Lt),At)}(Nt,P))}else{if(!b[Mt])return kt?P:{};Nt=function(At,Lt,Rt,Wt){var pe,ae=At.constructor;switch(Lt){case st:return Ne(At);case v:case M:return new ae(+At);case K:return function(Bt,te){var de=te?Ne(Bt.buffer):Bt.buffer;return new Bt.constructor(de,Bt.byteOffset,Bt.byteLength)}(At,Wt);case p:case j:case W:case I:case G:case it:case ot:case ft:case mt:return function(Bt,te){var de=te?Ne(Bt.buffer):Bt.buffer;return new Bt.constructor(de,Bt.byteOffset,Bt.length)}(At,Wt);case l:return function(Bt,te,de){return U(te?de(n(Bt),!0):n(Bt),N,new Bt.constructor)}(At,Wt,Rt);case A:case _:return new ae(At);case E:return function(Bt){var te=new Bt.constructor(Bt.source,tt.exec(Bt));return te.lastIndex=Bt.lastIndex,te}(At);case L:return function(Bt,te,de){return U(te?de(x(Bt),!0):x(Bt),k,new Bt.constructor)}(At,Wt,Rt);case H:return pe=At,ie?Object(ie.call(pe)):{}}}(P,Mt,xe,g)}}vt||(vt=new se);var Vt=vt.get(P);if(Vt)return Vt;if(vt.set(P,Nt),!Dt)var Kt=B?function(At){return function(Lt,Rt,Wt){var pe=Rt(Lt);return bt(Lt)?pe:function(ae,Bt){for(var te=-1,de=Bt.length,Fe=ae.length;++te<de;)ae[Fe+te]=Bt[te];return ae}(pe,Wt(Lt))}(At,Jt,$)}(P):Jt(P);return function(At,Lt){for(var Rt=-1,Wt=At?At.length:0;++Rt<Wt&&Lt(At[Rt],Rt)!==!1;);}(Kt||P,function(At,Lt){Kt&&(At=P[Lt=At]),Ae(Nt,Lt,xe(At,g,B,V,Lt,P,vt))}),Nt}function Ne(P){var g=new P.constructor(P.byteLength);return new Ot(g).set(new Ot(P)),g}function oe(P,g,B,V){B||(B={});for(var at=-1,kt=g.length;++at<kt;){var vt=g[at],Nt=V?V(B[vt],P[vt],vt,B,P):void 0;Ae(B,vt,Nt===void 0?P[vt]:Nt)}return B}function ee(P,g){var B,V,at=P.__data__;return((V=typeof(B=g))=="string"||V=="number"||V=="symbol"||V=="boolean"?B!=="__proto__":B===null)?at[typeof g=="string"?"string":"hash"]:at.map}function le(P,g){var B=function(V,at){return V==null?void 0:V[at]}(P,g);return function(V){return!(!$t(V)||(at=V,et&&et in at))&&(Xt(V)||y(V)?ht:Q).test(J(V));var at}(B)?B:void 0}ne.prototype.clear=function(){this.__data__=ge?ge(null):{}},ne.prototype.delete=function(P){return this.has(P)&&delete this.__data__[P]},ne.prototype.get=function(P){var g=this.__data__;if(ge){var B=g[P];return B===h?void 0:B}return ct.call(g,P)?g[P]:void 0},ne.prototype.has=function(P){var g=this.__data__;return ge?g[P]!==void 0:ct.call(g,P)},ne.prototype.set=function(P,g){return this.__data__[P]=ge&&g===void 0?h:g,this},Ft.prototype.clear=function(){this.__data__=[]},Ft.prototype.delete=function(P){var g=this.__data__,B=fe(g,P);return!(B<0||(B==g.length-1?g.pop():Et.call(g,B,1),0))},Ft.prototype.get=function(P){var g=this.__data__,B=fe(g,P);return B<0?void 0:g[B][1]},Ft.prototype.has=function(P){return fe(this.__data__,P)>-1},Ft.prototype.set=function(P,g){var B=this.__data__,V=fe(B,P);return V<0?B.push([P,g]):B[V][1]=g,this},re.prototype.clear=function(){this.__data__={hash:new ne,map:new(zt||Ft),string:new ne}},re.prototype.delete=function(P){return ee(this,P).delete(P)},re.prototype.get=function(P){return ee(this,P).get(P)},re.prototype.has=function(P){return ee(this,P).has(P)},re.prototype.set=function(P,g){return ee(this,P).set(P,g),this},se.prototype.clear=function(){this.__data__=new Ft},se.prototype.delete=function(P){return this.__data__.delete(P)},se.prototype.get=function(P){return this.__data__.get(P)},se.prototype.has=function(P){return this.__data__.has(P)},se.prototype.set=function(P,g){var B=this.__data__;if(B instanceof Ft){var V=B.__data__;if(!zt||V.length<199)return V.push([P,g]),this;B=this.__data__=new re(V)}return B.set(P,g),this};var $=jt?i(jt,Object):function(){return[]},o=function(P){return dt.call(P)};function a(P,g){return!!(g=g??w)&&(typeof P=="number"||lt.test(P))&&P>-1&&P%1==0&&P<g}function D(P){var g=P&&P.constructor;return P===(typeof g=="function"&&g.prototype||z)}function J(P){if(P!=null){try{return nt.call(P)}catch{}try{return P+""}catch{}}return""}function rt(P,g){return P===g||P!=P&&g!=g}(It&&o(new It(new ArrayBuffer(1)))!=K||zt&&o(new zt)!=l||Ct&&o(Ct.resolve())!=c||ve&&o(new ve)!=L||ke&&o(new ke)!=Y)&&(o=function(P){var g=dt.call(P),B=g==T?P.constructor:void 0,V=B?J(B):void 0;if(V)switch(V){case Te:return K;case _e:return l;case Se:return c;case he:return L;case ce:return Y}return g});var bt=Array.isArray;function qt(P){return P!=null&&function(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=w}(P.length)&&!Xt(P)}var Ht=wt||function(){return!1};function Xt(P){var g=$t(P)?dt.call(P):"";return g==f||g==q}function $t(P){var g=typeof P;return!!P&&(g=="object"||g=="function")}function Jt(P){return qt(P)?function(g,B){var V=bt(g)||function(Nt){return function(Dt){return function(Mt){return!!Mt&&typeof Mt=="object"}(Dt)&&qt(Dt)}(Nt)&&ct.call(Nt,"callee")&&(!yt.call(Nt,"callee")||dt.call(Nt)==O)}(g)?function(Nt,Dt){for(var Mt=-1,Zt=Array(Nt);++Mt<Nt;)Zt[Mt]=Dt(Mt);return Zt}(g.length,String):[],at=V.length,kt=!!at;for(var vt in g)!B&&!ct.call(g,vt)||kt&&(vt=="length"||a(vt,at))||V.push(vt);return V}(P):function(g){if(!D(g))return St(g);var B=[];for(var V in Object(g))ct.call(g,V)&&V!="constructor"&&B.push(V);return B}(P)}X.exports=function(P){return xe(P,!0,!0)}},4162:function(X,R,t){X=t.nmd(X);var h="__lodash_hash_undefined__",w=1,O=2,v=9007199254740991,M="[object Arguments]",f="[object Array]",q="[object AsyncFunction]",l="[object Boolean]",A="[object Date]",T="[object Error]",c="[object Function]",E="[object GeneratorFunction]",L="[object Map]",_="[object Number]",H="[object Null]",Y="[object Object]",st="[object Promise]",K="[object Proxy]",p="[object RegExp]",j="[object Set]",W="[object String]",I="[object Undefined]",G="[object WeakMap]",it="[object ArrayBuffer]",ot="[object DataView]",ft=/^\[object .+?Constructor\]$/,mt=/^(?:0|[1-9]\d*)$/,tt={};tt["[object Float32Array]"]=tt["[object Float64Array]"]=tt["[object Int8Array]"]=tt["[object Int16Array]"]=tt["[object Int32Array]"]=tt["[object Uint8Array]"]=tt["[object Uint8ClampedArray]"]=tt["[object Uint16Array]"]=tt["[object Uint32Array]"]=!0,tt[M]=tt[f]=tt[it]=tt[l]=tt[ot]=tt[A]=tt[T]=tt[c]=tt[L]=tt[_]=tt[Y]=tt[p]=tt[j]=tt[W]=tt[G]=!1;var Q=typeof t.g=="object"&&t.g&&t.g.Object===Object&&t.g,lt=typeof self=="object"&&self&&self.Object===Object&&self,b=Q||lt||Function("return this")(),e=R&&!R.nodeType&&R,r=e&&X&&!X.nodeType&&X,s=r&&r.exports===e,S=s&&Q.process,d=function(){try{return S&&S.binding&&S.binding("util")}catch{}}(),u=d&&d.isTypedArray;function N(g,B){for(var V=-1,at=g==null?0:g.length;++V<at;)if(B(g[V],V,g))return!0;return!1}function k(g){var B=-1,V=Array(g.size);return g.forEach(function(at,kt){V[++B]=[kt,at]}),V}function U(g){var B=-1,V=Array(g.size);return g.forEach(function(at){V[++B]=at}),V}var y,n,i,x=Array.prototype,m=Function.prototype,C=Object.prototype,F=b["__core-js_shared__"],z=m.toString,Z=C.hasOwnProperty,et=(y=/[^.]+$/.exec(F&&F.keys&&F.keys.IE_PROTO||""))?"Symbol(src)_1."+y:"",nt=C.toString,ct=RegExp("^"+z.call(Z).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),dt=s?b.Buffer:void 0,ht=b.Symbol,pt=b.Uint8Array,xt=C.propertyIsEnumerable,Ot=x.splice,Tt=ht?ht.toStringTag:void 0,ut=Object.getOwnPropertySymbols,yt=dt?dt.isBuffer:void 0,Et=(n=Object.keys,i=Object,function(g){return n(i(g))}),jt=ee(b,"DataView"),wt=ee(b,"Map"),St=ee(b,"Promise"),It=ee(b,"Set"),zt=ee(b,"WeakMap"),Ct=ee(Object,"create"),ve=a(jt),ke=a(wt),ge=a(St),Te=a(It),_e=a(zt),Se=ht?ht.prototype:void 0,he=Se?Se.valueOf:void 0;function ce(g){var B=-1,V=g==null?0:g.length;for(this.clear();++B<V;){var at=g[B];this.set(at[0],at[1])}}function Gt(g){var B=-1,V=g==null?0:g.length;for(this.clear();++B<V;){var at=g[B];this.set(at[0],at[1])}}function ie(g){var B=-1,V=g==null?0:g.length;for(this.clear();++B<V;){var at=g[B];this.set(at[0],at[1])}}function ne(g){var B=-1,V=g==null?0:g.length;for(this.__data__=new ie;++B<V;)this.add(g[B])}function Ft(g){var B=this.__data__=new Gt(g);this.size=B.size}function re(g,B){for(var V=g.length;V--;)if(D(g[V][0],B))return V;return-1}function se(g){return g==null?g===void 0?I:H:Tt&&Tt in Object(g)?function(B){var V=Z.call(B,Tt),at=B[Tt];try{B[Tt]=void 0;var kt=!0}catch{}var vt=nt.call(B);return kt&&(V?B[Tt]=at:delete B[Tt]),vt}(g):function(B){return nt.call(B)}(g)}function Ae(g){return $t(g)&&se(g)==M}function fe(g,B,V,at,kt){return g===B||(g==null||B==null||!$t(g)&&!$t(B)?g!=g&&B!=B:function(vt,Nt,Dt,Mt,Zt,Vt){var Kt=rt(vt),At=rt(Nt),Lt=Kt?f:$(vt),Rt=At?f:$(Nt),Wt=(Lt=Lt==M?Y:Lt)==Y,pe=(Rt=Rt==M?Y:Rt)==Y,ae=Lt==Rt;if(ae&&bt(vt)){if(!bt(Nt))return!1;Kt=!0,Wt=!1}if(ae&&!Wt)return Vt||(Vt=new Ft),Kt||Jt(vt)?xe(vt,Nt,Dt,Mt,Zt,Vt):function(Pt,Ut,Re,Ee,He,ue,me){switch(Re){case ot:if(Pt.byteLength!=Ut.byteLength||Pt.byteOffset!=Ut.byteOffset)return!1;Pt=Pt.buffer,Ut=Ut.buffer;case it:return!(Pt.byteLength!=Ut.byteLength||!ue(new pt(Pt),new pt(Ut)));case l:case A:case _:return D(+Pt,+Ut);case T:return Pt.name==Ut.name&&Pt.message==Ut.message;case p:case W:return Pt==Ut+"";case L:var we=k;case j:var je=Ee&w;if(we||(we=U),Pt.size!=Ut.size&&!je)return!1;var Le=me.get(Pt);if(Le)return Le==Ut;Ee|=O,me.set(Pt,Ut);var be=xe(we(Pt),we(Ut),Ee,He,ue,me);return me.delete(Pt),be;case"[object Symbol]":if(he)return he.call(Pt)==he.call(Ut)}return!1}(vt,Nt,Lt,Dt,Mt,Zt,Vt);if(!(Dt&w)){var Bt=Wt&&Z.call(vt,"__wrapped__"),te=pe&&Z.call(Nt,"__wrapped__");if(Bt||te){var de=Bt?vt.value():vt,Fe=te?Nt.value():Nt;return Vt||(Vt=new Ft),Zt(de,Fe,Dt,Mt,Vt)}}return!!ae&&(Vt||(Vt=new Ft),function(Pt,Ut,Re,Ee,He,ue){var me=Re&w,we=Ne(Pt),je=we.length;if(je!=Ne(Ut).length&&!me)return!1;for(var Le=je;Le--;){var be=we[Le];if(!(me?be in Ut:Z.call(Ut,be)))return!1}var Ze=ue.get(Pt);if(Ze&&ue.get(Ut))return Ze==Ut;var Be=!0;ue.set(Pt,Ut),ue.set(Ut,Pt);for(var $e=me;++Le<je;){var Ie=Pt[be=we[Le]],Me=Ut[be];if(Ee)var Ge=me?Ee(Me,Ie,be,Ut,Pt,ue):Ee(Ie,Me,be,Pt,Ut,ue);if(!(Ge===void 0?Ie===Me||He(Ie,Me,Re,Ee,ue):Ge)){Be=!1;break}$e||($e=be=="constructor")}if(Be&&!$e){var Ue=Pt.constructor,De=Ut.constructor;Ue==De||!("constructor"in Pt)||!("constructor"in Ut)||typeof Ue=="function"&&Ue instanceof Ue&&typeof De=="function"&&De instanceof De||(Be=!1)}return ue.delete(Pt),ue.delete(Ut),Be}(vt,Nt,Dt,Mt,Zt,Vt))}(g,B,V,at,fe,kt))}function xe(g,B,V,at,kt,vt){var Nt=V&w,Dt=g.length,Mt=B.length;if(Dt!=Mt&&!(Nt&&Mt>Dt))return!1;var Zt=vt.get(g);if(Zt&&vt.get(B))return Zt==B;var Vt=-1,Kt=!0,At=V&O?new ne:void 0;for(vt.set(g,B),vt.set(B,g);++Vt<Dt;){var Lt=g[Vt],Rt=B[Vt];if(at)var Wt=Nt?at(Rt,Lt,Vt,B,g,vt):at(Lt,Rt,Vt,g,B,vt);if(Wt!==void 0){if(Wt)continue;Kt=!1;break}if(At){if(!N(B,function(pe,ae){if(Bt=ae,!At.has(Bt)&&(Lt===pe||kt(Lt,pe,V,at,vt)))return At.push(ae);var Bt})){Kt=!1;break}}else if(Lt!==Rt&&!kt(Lt,Rt,V,at,vt)){Kt=!1;break}}return vt.delete(g),vt.delete(B),Kt}function Ne(g){return function(B,V,at){var kt=V(B);return rt(B)?kt:function(vt,Nt){for(var Dt=-1,Mt=Nt.length,Zt=vt.length;++Dt<Mt;)vt[Zt+Dt]=Nt[Dt];return vt}(kt,at(B))}(g,P,le)}function oe(g,B){var V,at,kt=g.__data__;return((at=typeof(V=B))=="string"||at=="number"||at=="symbol"||at=="boolean"?V!=="__proto__":V===null)?kt[typeof B=="string"?"string":"hash"]:kt.map}function ee(g,B){var V=function(at,kt){return at==null?void 0:at[kt]}(g,B);return function(at){return!(!Xt(at)||function(kt){return!!et&&et in kt}(at))&&(qt(at)?ct:ft).test(a(at))}(V)?V:void 0}ce.prototype.clear=function(){this.__data__=Ct?Ct(null):{},this.size=0},ce.prototype.delete=function(g){var B=this.has(g)&&delete this.__data__[g];return this.size-=B?1:0,B},ce.prototype.get=function(g){var B=this.__data__;if(Ct){var V=B[g];return V===h?void 0:V}return Z.call(B,g)?B[g]:void 0},ce.prototype.has=function(g){var B=this.__data__;return Ct?B[g]!==void 0:Z.call(B,g)},ce.prototype.set=function(g,B){var V=this.__data__;return this.size+=this.has(g)?0:1,V[g]=Ct&&B===void 0?h:B,this},Gt.prototype.clear=function(){this.__data__=[],this.size=0},Gt.prototype.delete=function(g){var B=this.__data__,V=re(B,g);return!(V<0||(V==B.length-1?B.pop():Ot.call(B,V,1),--this.size,0))},Gt.prototype.get=function(g){var B=this.__data__,V=re(B,g);return V<0?void 0:B[V][1]},Gt.prototype.has=function(g){return re(this.__data__,g)>-1},Gt.prototype.set=function(g,B){var V=this.__data__,at=re(V,g);return at<0?(++this.size,V.push([g,B])):V[at][1]=B,this},ie.prototype.clear=function(){this.size=0,this.__data__={hash:new ce,map:new(wt||Gt),string:new ce}},ie.prototype.delete=function(g){var B=oe(this,g).delete(g);return this.size-=B?1:0,B},ie.prototype.get=function(g){return oe(this,g).get(g)},ie.prototype.has=function(g){return oe(this,g).has(g)},ie.prototype.set=function(g,B){var V=oe(this,g),at=V.size;return V.set(g,B),this.size+=V.size==at?0:1,this},ne.prototype.add=ne.prototype.push=function(g){return this.__data__.set(g,h),this},ne.prototype.has=function(g){return this.__data__.has(g)},Ft.prototype.clear=function(){this.__data__=new Gt,this.size=0},Ft.prototype.delete=function(g){var B=this.__data__,V=B.delete(g);return this.size=B.size,V},Ft.prototype.get=function(g){return this.__data__.get(g)},Ft.prototype.has=function(g){return this.__data__.has(g)},Ft.prototype.set=function(g,B){var V=this.__data__;if(V instanceof Gt){var at=V.__data__;if(!wt||at.length<199)return at.push([g,B]),this.size=++V.size,this;V=this.__data__=new ie(at)}return V.set(g,B),this.size=V.size,this};var le=ut?function(g){return g==null?[]:(g=Object(g),function(B,V){for(var at=-1,kt=B==null?0:B.length,vt=0,Nt=[];++at<kt;){var Dt=B[at];Mt=Dt,xt.call(g,Mt)&&(Nt[vt++]=Dt)}var Mt;return Nt}(ut(g)))}:function(){return[]},$=se;function o(g,B){return!!(B=B??v)&&(typeof g=="number"||mt.test(g))&&g>-1&&g%1==0&&g<B}function a(g){if(g!=null){try{return z.call(g)}catch{}try{return g+""}catch{}}return""}function D(g,B){return g===B||g!=g&&B!=B}(jt&&$(new jt(new ArrayBuffer(1)))!=ot||wt&&$(new wt)!=L||St&&$(St.resolve())!=st||It&&$(new It)!=j||zt&&$(new zt)!=G)&&($=function(g){var B=se(g),V=B==Y?g.constructor:void 0,at=V?a(V):"";if(at)switch(at){case ve:return ot;case ke:return L;case ge:return st;case Te:return j;case _e:return G}return B});var J=Ae(function(){return arguments}())?Ae:function(g){return $t(g)&&Z.call(g,"callee")&&!xt.call(g,"callee")},rt=Array.isArray,bt=yt||function(){return!1};function qt(g){if(!Xt(g))return!1;var B=se(g);return B==c||B==E||B==q||B==K}function Ht(g){return typeof g=="number"&&g>-1&&g%1==0&&g<=v}function Xt(g){var B=typeof g;return g!=null&&(B=="object"||B=="function")}function $t(g){return g!=null&&typeof g=="object"}var Jt=u?function(g){return function(B){return g(B)}}(u):function(g){return $t(g)&&Ht(g.length)&&!!tt[se(g)]};function P(g){return(B=g)!=null&&Ht(B.length)&&!qt(B)?function(V,at){var kt=rt(V),vt=!kt&&J(V),Nt=!kt&&!vt&&bt(V),Dt=!kt&&!vt&&!Nt&&Jt(V),Mt=kt||vt||Nt||Dt,Zt=Mt?function(At,Lt){for(var Rt=-1,Wt=Array(At);++Rt<At;)Wt[Rt]=Lt(Rt);return Wt}(V.length,String):[],Vt=Zt.length;for(var Kt in V)!at&&!Z.call(V,Kt)||Mt&&(Kt=="length"||Nt&&(Kt=="offset"||Kt=="parent")||Dt&&(Kt=="buffer"||Kt=="byteLength"||Kt=="byteOffset")||o(Kt,Vt))||Zt.push(Kt);return Zt}(g):function(V){if(kt=(at=V)&&at.constructor,at!==(typeof kt=="function"&&kt.prototype||C))return Et(V);var at,kt,vt=[];for(var Nt in Object(V))Z.call(V,Nt)&&Nt!="constructor"&&vt.push(Nt);return vt}(g);var B}X.exports=function(g,B){return fe(g,B)}},1270:function(X,R,t){Object.defineProperty(R,"__esModule",{value:!0});const h=t(9629),w=t(4162);var O;(function(v){v.compose=function(M={},f={},q=!1){typeof M!="object"&&(M={}),typeof f!="object"&&(f={});let l=h(f);q||(l=Object.keys(l).reduce((A,T)=>(l[T]!=null&&(A[T]=l[T]),A),{}));for(const A in M)M[A]!==void 0&&f[A]===void 0&&(l[A]=M[A]);return Object.keys(l).length>0?l:void 0},v.diff=function(M={},f={}){typeof M!="object"&&(M={}),typeof f!="object"&&(f={});const q=Object.keys(M).concat(Object.keys(f)).reduce((l,A)=>(w(M[A],f[A])||(l[A]=f[A]===void 0?null:f[A]),l),{});return Object.keys(q).length>0?q:void 0},v.invert=function(M={},f={}){M=M||{};const q=Object.keys(f).reduce((l,A)=>(f[A]!==M[A]&&M[A]!==void 0&&(l[A]=f[A]),l),{});return Object.keys(M).reduce((l,A)=>(M[A]!==f[A]&&f[A]===void 0&&(l[A]=null),l),q)},v.transform=function(M,f,q=!1){if(typeof M!="object")return f;if(typeof f!="object")return;if(!q)return f;const l=Object.keys(f).reduce((A,T)=>(M[T]===void 0&&(A[T]=f[T]),A),{});return Object.keys(l).length>0?l:void 0}})(O||(O={})),R.default=O},5232:function(X,R,t){Object.defineProperty(R,"__esModule",{value:!0}),R.AttributeMap=R.OpIterator=R.Op=void 0;const h=t(5090),w=t(9629),O=t(4162),v=t(1270);R.AttributeMap=v.default;const M=t(4123);R.Op=M.default;const f=t(7033);R.OpIterator=f.default;const q=String.fromCharCode(0),l=(T,c)=>{if(typeof T!="object"||T===null)throw new Error("cannot retain a "+typeof T);if(typeof c!="object"||c===null)throw new Error("cannot retain a "+typeof c);const E=Object.keys(T)[0];if(!E||E!==Object.keys(c)[0])throw new Error(`embed types not matched: ${E} != ${Object.keys(c)[0]}`);return[E,T[E],c[E]]};class A{constructor(c){Array.isArray(c)?this.ops=c:c!=null&&Array.isArray(c.ops)?this.ops=c.ops:this.ops=[]}static registerEmbed(c,E){this.handlers[c]=E}static unregisterEmbed(c){delete this.handlers[c]}static getHandler(c){const E=this.handlers[c];if(!E)throw new Error(`no handlers for embed type "${c}"`);return E}insert(c,E){const L={};return typeof c=="string"&&c.length===0?this:(L.insert=c,E!=null&&typeof E=="object"&&Object.keys(E).length>0&&(L.attributes=E),this.push(L))}delete(c){return c<=0?this:this.push({delete:c})}retain(c,E){if(typeof c=="number"&&c<=0)return this;const L={retain:c};return E!=null&&typeof E=="object"&&Object.keys(E).length>0&&(L.attributes=E),this.push(L)}push(c){let E=this.ops.length,L=this.ops[E-1];if(c=w(c),typeof L=="object"){if(typeof c.delete=="number"&&typeof L.delete=="number")return this.ops[E-1]={delete:L.delete+c.delete},this;if(typeof L.delete=="number"&&c.insert!=null&&(E-=1,L=this.ops[E-1],typeof L!="object"))return this.ops.unshift(c),this;if(O(c.attributes,L.attributes)){if(typeof c.insert=="string"&&typeof L.insert=="string")return this.ops[E-1]={insert:L.insert+c.insert},typeof c.attributes=="object"&&(this.ops[E-1].attributes=c.attributes),this;if(typeof c.retain=="number"&&typeof L.retain=="number")return this.ops[E-1]={retain:L.retain+c.retain},typeof c.attributes=="object"&&(this.ops[E-1].attributes=c.attributes),this}}return E===this.ops.length?this.ops.push(c):this.ops.splice(E,0,c),this}chop(){const c=this.ops[this.ops.length-1];return c&&typeof c.retain=="number"&&!c.attributes&&this.ops.pop(),this}filter(c){return this.ops.filter(c)}forEach(c){this.ops.forEach(c)}map(c){return this.ops.map(c)}partition(c){const E=[],L=[];return this.forEach(_=>{(c(_)?E:L).push(_)}),[E,L]}reduce(c,E){return this.ops.reduce(c,E)}changeLength(){return this.reduce((c,E)=>E.insert?c+M.default.length(E):E.delete?c-E.delete:c,0)}length(){return this.reduce((c,E)=>c+M.default.length(E),0)}slice(c=0,E=1/0){const L=[],_=new f.default(this.ops);let H=0;for(;H<E&&_.hasNext();){let Y;H<c?Y=_.next(c-H):(Y=_.next(E-H),L.push(Y)),H+=M.default.length(Y)}return new A(L)}compose(c){const E=new f.default(this.ops),L=new f.default(c.ops),_=[],H=L.peek();if(H!=null&&typeof H.retain=="number"&&H.attributes==null){let st=H.retain;for(;E.peekType()==="insert"&&E.peekLength()<=st;)st-=E.peekLength(),_.push(E.next());H.retain-st>0&&L.next(H.retain-st)}const Y=new A(_);for(;E.hasNext()||L.hasNext();)if(L.peekType()==="insert")Y.push(L.next());else if(E.peekType()==="delete")Y.push(E.next());else{const st=Math.min(E.peekLength(),L.peekLength()),K=E.next(st),p=L.next(st);if(p.retain){const j={};if(typeof K.retain=="number")j.retain=typeof p.retain=="number"?st:p.retain;else if(typeof p.retain=="number")K.retain==null?j.insert=K.insert:j.retain=K.retain;else{const I=K.retain==null?"insert":"retain",[G,it,ot]=l(K[I],p.retain),ft=A.getHandler(G);j[I]={[G]:ft.compose(it,ot,I==="retain")}}const W=v.default.compose(K.attributes,p.attributes,typeof K.retain=="number");if(W&&(j.attributes=W),Y.push(j),!L.hasNext()&&O(Y.ops[Y.ops.length-1],j)){const I=new A(E.rest());return Y.concat(I).chop()}}else typeof p.delete=="number"&&(typeof K.retain=="number"||typeof K.retain=="object"&&K.retain!==null)&&Y.push(p)}return Y.chop()}concat(c){const E=new A(this.ops.slice());return c.ops.length>0&&(E.push(c.ops[0]),E.ops=E.ops.concat(c.ops.slice(1))),E}diff(c,E){if(this.ops===c.ops)return new A;const L=[this,c].map(K=>K.map(p=>{if(p.insert!=null)return typeof p.insert=="string"?p.insert:q;throw new Error("diff() called "+(K===c?"on":"with")+" non-document")}).join("")),_=new A,H=h(L[0],L[1],E,!0),Y=new f.default(this.ops),st=new f.default(c.ops);return H.forEach(K=>{let p=K[1].length;for(;p>0;){let j=0;switch(K[0]){case h.INSERT:j=Math.min(st.peekLength(),p),_.push(st.next(j));break;case h.DELETE:j=Math.min(p,Y.peekLength()),Y.next(j),_.delete(j);break;case h.EQUAL:j=Math.min(Y.peekLength(),st.peekLength(),p);const W=Y.next(j),I=st.next(j);O(W.insert,I.insert)?_.retain(j,v.default.diff(W.attributes,I.attributes)):_.push(I).delete(j)}p-=j}}),_.chop()}eachLine(c,E=`
`){const L=new f.default(this.ops);let _=new A,H=0;for(;L.hasNext();){if(L.peekType()!=="insert")return;const Y=L.peek(),st=M.default.length(Y)-L.peekLength(),K=typeof Y.insert=="string"?Y.insert.indexOf(E,st)-st:-1;if(K<0)_.push(L.next());else if(K>0)_.push(L.next(K));else{if(c(_,L.next(1).attributes||{},H)===!1)return;H+=1,_=new A}}_.length()>0&&c(_,{},H)}invert(c){const E=new A;return this.reduce((L,_)=>{if(_.insert)E.delete(M.default.length(_));else{if(typeof _.retain=="number"&&_.attributes==null)return E.retain(_.retain),L+_.retain;if(_.delete||typeof _.retain=="number"){const H=_.delete||_.retain;return c.slice(L,L+H).forEach(Y=>{_.delete?E.push(Y):_.retain&&_.attributes&&E.retain(M.default.length(Y),v.default.invert(_.attributes,Y.attributes))}),L+H}if(typeof _.retain=="object"&&_.retain!==null){const H=c.slice(L,L+1),Y=new f.default(H.ops).next(),[st,K,p]=l(_.retain,Y.insert),j=A.getHandler(st);return E.retain({[st]:j.invert(K,p)},v.default.invert(_.attributes,Y.attributes)),L+1}}return L},0),E.chop()}transform(c,E=!1){if(E=!!E,typeof c=="number")return this.transformPosition(c,E);const L=c,_=new f.default(this.ops),H=new f.default(L.ops),Y=new A;for(;_.hasNext()||H.hasNext();)if(_.peekType()!=="insert"||!E&&H.peekType()==="insert")if(H.peekType()==="insert")Y.push(H.next());else{const st=Math.min(_.peekLength(),H.peekLength()),K=_.next(st),p=H.next(st);if(K.delete)continue;if(p.delete)Y.push(p);else{const j=K.retain,W=p.retain;let I=typeof W=="object"&&W!==null?W:st;if(typeof j=="object"&&j!==null&&typeof W=="object"&&W!==null){const G=Object.keys(j)[0];if(G===Object.keys(W)[0]){const it=A.getHandler(G);it&&(I={[G]:it.transform(j[G],W[G],E)})}}Y.retain(I,v.default.transform(K.attributes,p.attributes,E))}}else Y.retain(M.default.length(_.next()));return Y.chop()}transformPosition(c,E=!1){E=!!E;const L=new f.default(this.ops);let _=0;for(;L.hasNext()&&_<=c;){const H=L.peekLength(),Y=L.peekType();L.next(),Y!=="delete"?(Y==="insert"&&(_<c||!E)&&(c+=H),_+=H):c-=Math.min(H,c-_)}return c}}A.Op=M.default,A.OpIterator=f.default,A.AttributeMap=v.default,A.handlers={},R.default=A,X.exports=A,X.exports.default=A},4123:function(X,R){var t;Object.defineProperty(R,"__esModule",{value:!0}),function(h){h.length=function(w){return typeof w.delete=="number"?w.delete:typeof w.retain=="number"?w.retain:typeof w.retain=="object"&&w.retain!==null?1:typeof w.insert=="string"?w.insert.length:1}}(t||(t={})),R.default=t},7033:function(X,R,t){Object.defineProperty(R,"__esModule",{value:!0});const h=t(4123);R.default=class{constructor(w){this.ops=w,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(w){w||(w=1/0);const O=this.ops[this.index];if(O){const v=this.offset,M=h.default.length(O);if(w>=M-v?(w=M-v,this.index+=1,this.offset=0):this.offset+=w,typeof O.delete=="number")return{delete:w};{const f={};return O.attributes&&(f.attributes=O.attributes),typeof O.retain=="number"?f.retain=w:typeof O.retain=="object"&&O.retain!==null?f.retain=O.retain:typeof O.insert=="string"?f.insert=O.insert.substr(v,w):f.insert=O.insert,f}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?h.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const w=this.ops[this.index];return w?typeof w.delete=="number"?"delete":typeof w.retain=="number"||typeof w.retain=="object"&&w.retain!==null?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);{const w=this.offset,O=this.index,v=this.next(),M=this.ops.slice(this.index);return this.offset=w,this.index=O,[v].concat(M)}}return[]}}},8820:function(X,R,t){t.d(R,{A:function(){return M}});var h=t(8138),w=function(f,q){for(var l=f.length;l--;)if((0,h.A)(f[l][0],q))return l;return-1},O=Array.prototype.splice;function v(f){var q=-1,l=f==null?0:f.length;for(this.clear();++q<l;){var A=f[q];this.set(A[0],A[1])}}v.prototype.clear=function(){this.__data__=[],this.size=0},v.prototype.delete=function(f){var q=this.__data__,l=w(q,f);return!(l<0||(l==q.length-1?q.pop():O.call(q,l,1),--this.size,0))},v.prototype.get=function(f){var q=this.__data__,l=w(q,f);return l<0?void 0:q[l][1]},v.prototype.has=function(f){return w(this.__data__,f)>-1},v.prototype.set=function(f,q){var l=this.__data__,A=w(l,f);return A<0?(++this.size,l.push([f,q])):l[A][1]=q,this};var M=v},2461:function(X,R,t){var h=t(2281),w=t(5507),O=(0,h.A)(w.A,"Map");R.A=O},3558:function(X,R,t){t.d(R,{A:function(){return T}});var h=(0,t(2281).A)(Object,"create"),w=Object.prototype.hasOwnProperty,O=Object.prototype.hasOwnProperty;function v(c){var E=-1,L=c==null?0:c.length;for(this.clear();++E<L;){var _=c[E];this.set(_[0],_[1])}}v.prototype.clear=function(){this.__data__=h?h(null):{},this.size=0},v.prototype.delete=function(c){var E=this.has(c)&&delete this.__data__[c];return this.size-=E?1:0,E},v.prototype.get=function(c){var E=this.__data__;if(h){var L=E[c];return L==="__lodash_hash_undefined__"?void 0:L}return w.call(E,c)?E[c]:void 0},v.prototype.has=function(c){var E=this.__data__;return h?E[c]!==void 0:O.call(E,c)},v.prototype.set=function(c,E){var L=this.__data__;return this.size+=this.has(c)?0:1,L[c]=h&&E===void 0?"__lodash_hash_undefined__":E,this};var M=v,f=t(8820),q=t(2461),l=function(c,E){var L,_,H=c.__data__;return((_=typeof(L=E))=="string"||_=="number"||_=="symbol"||_=="boolean"?L!=="__proto__":L===null)?H[typeof E=="string"?"string":"hash"]:H.map};function A(c){var E=-1,L=c==null?0:c.length;for(this.clear();++E<L;){var _=c[E];this.set(_[0],_[1])}}A.prototype.clear=function(){this.size=0,this.__data__={hash:new M,map:new(q.A||f.A),string:new M}},A.prototype.delete=function(c){var E=l(this,c).delete(c);return this.size-=E?1:0,E},A.prototype.get=function(c){return l(this,c).get(c)},A.prototype.has=function(c){return l(this,c).has(c)},A.prototype.set=function(c,E){var L=l(this,c),_=L.size;return L.set(c,E),this.size+=L.size==_?0:1,this};var T=A},2673:function(X,R,t){t.d(R,{A:function(){return M}});var h=t(8820),w=t(2461),O=t(3558);function v(f){var q=this.__data__=new h.A(f);this.size=q.size}v.prototype.clear=function(){this.__data__=new h.A,this.size=0},v.prototype.delete=function(f){var q=this.__data__,l=q.delete(f);return this.size=q.size,l},v.prototype.get=function(f){return this.__data__.get(f)},v.prototype.has=function(f){return this.__data__.has(f)},v.prototype.set=function(f,q){var l=this.__data__;if(l instanceof h.A){var A=l.__data__;if(!w.A||A.length<199)return A.push([f,q]),this.size=++l.size,this;l=this.__data__=new O.A(A)}return l.set(f,q),this.size=l.size,this};var M=v},439:function(X,R,t){var h=t(5507).A.Symbol;R.A=h},7218:function(X,R,t){var h=t(5507).A.Uint8Array;R.A=h},6753:function(X,R,t){t.d(R,{A:function(){return q}});var h=t(8412),w=t(723),O=t(776),v=t(3767),M=t(5755),f=Object.prototype.hasOwnProperty,q=function(l,A){var T=(0,w.A)(l),c=!T&&(0,h.A)(l),E=!T&&!c&&(0,O.A)(l),L=!T&&!c&&!E&&(0,M.A)(l),_=T||c||E||L,H=_?function(K,p){for(var j=-1,W=Array(K);++j<K;)W[j]=p(j);return W}(l.length,String):[],Y=H.length;for(var st in l)!A&&!f.call(l,st)||_&&(st=="length"||E&&(st=="offset"||st=="parent")||L&&(st=="buffer"||st=="byteLength"||st=="byteOffset")||(0,v.A)(st,Y))||H.push(st);return H}},802:function(X,R){R.A=function(t,h){for(var w=-1,O=h.length,v=t.length;++w<O;)t[v+w]=h[w];return t}},6437:function(X,R,t){var h=t(6770),w=t(8138),O=Object.prototype.hasOwnProperty;R.A=function(v,M,f){var q=v[M];O.call(v,M)&&(0,w.A)(q,f)&&(f!==void 0||M in v)||(0,h.A)(v,M,f)}},6770:function(X,R,t){var h=t(7889);R.A=function(w,O,v){O=="__proto__"&&h.A?(0,h.A)(w,O,{configurable:!0,enumerable:!0,value:v,writable:!0}):w[O]=v}},1381:function(X,R,t){var h=t(802),w=t(723);R.A=function(O,v,M){var f=v(O);return(0,w.A)(O)?f:(0,h.A)(f,M(O))}},2159:function(X,R,t){t.d(R,{A:function(){return l}});var h=t(439),w=Object.prototype,O=w.hasOwnProperty,v=w.toString,M=h.A?h.A.toStringTag:void 0,f=Object.prototype.toString,q=h.A?h.A.toStringTag:void 0,l=function(A){return A==null?A===void 0?"[object Undefined]":"[object Null]":q&&q in Object(A)?function(T){var c=O.call(T,M),E=T[M];try{T[M]=void 0;var L=!0}catch{}var _=v.call(T);return L&&(c?T[M]=E:delete T[M]),_}(A):function(T){return f.call(T)}(A)}},5771:function(X,R){R.A=function(t){return function(h){return t(h)}}},2899:function(X,R,t){var h=t(7218);R.A=function(w){var O=new w.constructor(w.byteLength);return new h.A(O).set(new h.A(w)),O}},3812:function(X,R,t){var h=t(5507),w=Yt&&!Yt.nodeType&&Yt,O=w&&!0&&Qt&&!Qt.nodeType&&Qt,v=O&&O.exports===w?h.A.Buffer:void 0,M=v?v.allocUnsafe:void 0;R.A=function(f,q){if(q)return f.slice();var l=f.length,A=M?M(l):new f.constructor(l);return f.copy(A),A}},1827:function(X,R,t){var h=t(2899);R.A=function(w,O){var v=O?(0,h.A)(w.buffer):w.buffer;return new w.constructor(v,w.byteOffset,w.length)}},4405:function(X,R){R.A=function(t,h){var w=-1,O=t.length;for(h||(h=Array(O));++w<O;)h[w]=t[w];return h}},9601:function(X,R,t){var h=t(6437),w=t(6770);R.A=function(O,v,M,f){var q=!M;M||(M={});for(var l=-1,A=v.length;++l<A;){var T=v[l],c=f?f(M[T],O[T],T,M,O):void 0;c===void 0&&(c=O[T]),q?(0,w.A)(M,T,c):(0,h.A)(M,T,c)}return M}},7889:function(X,R,t){var h=t(2281),w=function(){try{var O=(0,h.A)(Object,"defineProperty");return O({},"",{}),O}catch{}}();R.A=w},9646:function(X,R){var t=typeof Pe=="object"&&Pe&&Pe.Object===Object&&Pe;R.A=t},2816:function(X,R,t){var h=t(1381),w=t(9844),O=t(3169);R.A=function(v){return(0,h.A)(v,O.A,w.A)}},2281:function(X,R,t){t.d(R,{A:function(){return _}});var h,w=t(7572),O=t(5507).A["__core-js_shared__"],v=(h=/[^.]+$/.exec(O&&O.keys&&O.keys.IE_PROTO||""))?"Symbol(src)_1."+h:"",M=t(659),f=t(1543),q=/^\[object .+?Constructor\]$/,l=Function.prototype,A=Object.prototype,T=l.toString,c=A.hasOwnProperty,E=RegExp("^"+T.call(c).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),L=function(H){return!(!(0,M.A)(H)||(Y=H,v&&v in Y))&&((0,w.A)(H)?E:q).test((0,f.A)(H));var Y},_=function(H,Y){var st=function(K,p){return K==null?void 0:K[p]}(H,Y);return L(st)?st:void 0}},8769:function(X,R,t){var h=(0,t(2217).A)(Object.getPrototypeOf,Object);R.A=h},9844:function(X,R,t){t.d(R,{A:function(){return v}});var h=t(6935),w=Object.prototype.propertyIsEnumerable,O=Object.getOwnPropertySymbols,v=O?function(M){return M==null?[]:(M=Object(M),function(f,q){for(var l=-1,A=f==null?0:f.length,T=0,c=[];++l<A;){var E=f[l];q(E,l,f)&&(c[T++]=E)}return c}(O(M),function(f){return w.call(M,f)}))}:h.A},7995:function(X,R,t){t.d(R,{A:function(){return W}});var h=t(2281),w=t(5507),O=(0,h.A)(w.A,"DataView"),v=t(2461),M=(0,h.A)(w.A,"Promise"),f=(0,h.A)(w.A,"Set"),q=(0,h.A)(w.A,"WeakMap"),l=t(2159),A=t(1543),T="[object Map]",c="[object Promise]",E="[object Set]",L="[object WeakMap]",_="[object DataView]",H=(0,A.A)(O),Y=(0,A.A)(v.A),st=(0,A.A)(M),K=(0,A.A)(f),p=(0,A.A)(q),j=l.A;(O&&j(new O(new ArrayBuffer(1)))!=_||v.A&&j(new v.A)!=T||M&&j(M.resolve())!=c||f&&j(new f)!=E||q&&j(new q)!=L)&&(j=function(I){var G=(0,l.A)(I),it=G=="[object Object]"?I.constructor:void 0,ot=it?(0,A.A)(it):"";if(ot)switch(ot){case H:return _;case Y:return T;case st:return c;case K:return E;case p:return L}return G});var W=j},1683:function(X,R,t){t.d(R,{A:function(){return f}});var h=t(659),w=Object.create,O=function(){function q(){}return function(l){if(!(0,h.A)(l))return{};if(w)return w(l);q.prototype=l;var A=new q;return q.prototype=void 0,A}}(),v=t(8769),M=t(501),f=function(q){return typeof q.constructor!="function"||(0,M.A)(q)?{}:O((0,v.A)(q))}},3767:function(X,R){var t=/^(?:0|[1-9]\d*)$/;R.A=function(h,w){var O=typeof h;return!!(w=w??9007199254740991)&&(O=="number"||O!="symbol"&&t.test(h))&&h>-1&&h%1==0&&h<w}},501:function(X,R){var t=Object.prototype;R.A=function(h){var w=h&&h.constructor;return h===(typeof w=="function"&&w.prototype||t)}},8795:function(X,R,t){var h=t(9646),w=Yt&&!Yt.nodeType&&Yt,O=w&&!0&&Qt&&!Qt.nodeType&&Qt,v=O&&O.exports===w&&h.A.process,M=function(){try{return O&&O.require&&O.require("util").types||v&&v.binding&&v.binding("util")}catch{}}();R.A=M},2217:function(X,R){R.A=function(t,h){return function(w){return t(h(w))}}},5507:function(X,R,t){var h=t(9646),w=typeof self=="object"&&self&&self.Object===Object&&self,O=h.A||w||Function("return this")();R.A=O},1543:function(X,R){var t=Function.prototype.toString;R.A=function(h){if(h!=null){try{return t.call(h)}catch{}try{return h+""}catch{}}return""}},3707:function(X,R,t){t.d(R,{A:function(){return y}});var h=t(2673),w=t(6437),O=t(9601),v=t(3169),M=t(2624),f=t(3812),q=t(4405),l=t(9844),A=t(802),T=t(8769),c=t(6935),E=Object.getOwnPropertySymbols?function(n){for(var i=[];n;)(0,A.A)(i,(0,l.A)(n)),n=(0,T.A)(n);return i}:c.A,L=t(2816),_=t(1381),H=function(n){return(0,_.A)(n,M.A,E)},Y=t(7995),st=Object.prototype.hasOwnProperty,K=t(2899),p=/\w*$/,j=t(439),W=j.A?j.A.prototype:void 0,I=W?W.valueOf:void 0,G=t(1827),it=function(n,i,x){var m,C,F,z=n.constructor;switch(i){case"[object ArrayBuffer]":return(0,K.A)(n);case"[object Boolean]":case"[object Date]":return new z(+n);case"[object DataView]":return function(Z,et){var nt=et?(0,K.A)(Z.buffer):Z.buffer;return new Z.constructor(nt,Z.byteOffset,Z.byteLength)}(n,x);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return(0,G.A)(n,x);case"[object Map]":case"[object Set]":return new z;case"[object Number]":case"[object String]":return new z(n);case"[object RegExp]":return(F=new(C=n).constructor(C.source,p.exec(C))).lastIndex=C.lastIndex,F;case"[object Symbol]":return m=n,I?Object(I.call(m)):{}}},ot=t(1683),ft=t(723),mt=t(776),tt=t(7948),Q=t(5771),lt=t(8795),b=lt.A&&lt.A.isMap,e=b?(0,Q.A)(b):function(n){return(0,tt.A)(n)&&(0,Y.A)(n)=="[object Map]"},r=t(659),s=lt.A&&lt.A.isSet,S=s?(0,Q.A)(s):function(n){return(0,tt.A)(n)&&(0,Y.A)(n)=="[object Set]"},d="[object Arguments]",u="[object Function]",N="[object Object]",k={};k[d]=k["[object Array]"]=k["[object ArrayBuffer]"]=k["[object DataView]"]=k["[object Boolean]"]=k["[object Date]"]=k["[object Float32Array]"]=k["[object Float64Array]"]=k["[object Int8Array]"]=k["[object Int16Array]"]=k["[object Int32Array]"]=k["[object Map]"]=k["[object Number]"]=k[N]=k["[object RegExp]"]=k["[object Set]"]=k["[object String]"]=k["[object Symbol]"]=k["[object Uint8Array]"]=k["[object Uint8ClampedArray]"]=k["[object Uint16Array]"]=k["[object Uint32Array]"]=!0,k["[object Error]"]=k[u]=k["[object WeakMap]"]=!1;var U=function n(i,x,m,C,F,z){var Z,et=1&x,nt=2&x,ct=4&x;if(m&&(Z=F?m(i,C,F,z):m(i)),Z!==void 0)return Z;if(!(0,r.A)(i))return i;var dt=(0,ft.A)(i);if(dt){if(Z=function(ut){var yt=ut.length,Et=new ut.constructor(yt);return yt&&typeof ut[0]=="string"&&st.call(ut,"index")&&(Et.index=ut.index,Et.input=ut.input),Et}(i),!et)return(0,q.A)(i,Z)}else{var ht=(0,Y.A)(i),pt=ht==u||ht=="[object GeneratorFunction]";if((0,mt.A)(i))return(0,f.A)(i,et);if(ht==N||ht==d||pt&&!F){if(Z=nt||pt?{}:(0,ot.A)(i),!et)return nt?function(ut,yt){return(0,O.A)(ut,E(ut),yt)}(i,function(ut,yt){return ut&&(0,O.A)(yt,(0,M.A)(yt),ut)}(Z,i)):function(ut,yt){return(0,O.A)(ut,(0,l.A)(ut),yt)}(i,function(ut,yt){return ut&&(0,O.A)(yt,(0,v.A)(yt),ut)}(Z,i))}else{if(!k[ht])return F?i:{};Z=it(i,ht,et)}}z||(z=new h.A);var xt=z.get(i);if(xt)return xt;z.set(i,Z),S(i)?i.forEach(function(ut){Z.add(n(ut,x,m,ut,i,z))}):e(i)&&i.forEach(function(ut,yt){Z.set(yt,n(ut,x,m,yt,i,z))});var Ot=ct?nt?H:L.A:nt?M.A:v.A,Tt=dt?void 0:Ot(i);return function(ut,yt){for(var Et=-1,jt=ut==null?0:ut.length;++Et<jt&&yt(ut[Et],Et,ut)!==!1;);}(Tt||i,function(ut,yt){Tt&&(ut=i[yt=ut]),(0,w.A)(Z,yt,n(ut,x,m,yt,i,z))}),Z},y=function(n){return U(n,5)}},8138:function(X,R){R.A=function(t,h){return t===h||t!=t&&h!=h}},8412:function(X,R,t){t.d(R,{A:function(){return l}});var h=t(2159),w=t(7948),O=function(A){return(0,w.A)(A)&&(0,h.A)(A)=="[object Arguments]"},v=Object.prototype,M=v.hasOwnProperty,f=v.propertyIsEnumerable,q=O(function(){return arguments}())?O:function(A){return(0,w.A)(A)&&M.call(A,"callee")&&!f.call(A,"callee")},l=q},723:function(X,R){var t=Array.isArray;R.A=t},3628:function(X,R,t){var h=t(7572),w=t(1628);R.A=function(O){return O!=null&&(0,w.A)(O.length)&&!(0,h.A)(O)}},776:function(X,R,t){t.d(R,{A:function(){return M}});var h=t(5507),w=Yt&&!Yt.nodeType&&Yt,O=w&&!0&&Qt&&!Qt.nodeType&&Qt,v=O&&O.exports===w?h.A.Buffer:void 0,M=(v?v.isBuffer:void 0)||function(){return!1}},5123:function(X,R,t){t.d(R,{A:function(){return mt}});var h=t(2673),w=t(3558);function O(tt){var Q=-1,lt=tt==null?0:tt.length;for(this.__data__=new w.A;++Q<lt;)this.add(tt[Q])}O.prototype.add=O.prototype.push=function(tt){return this.__data__.set(tt,"__lodash_hash_undefined__"),this},O.prototype.has=function(tt){return this.__data__.has(tt)};var v=O,M=function(tt,Q){for(var lt=-1,b=tt==null?0:tt.length;++lt<b;)if(Q(tt[lt],lt,tt))return!0;return!1},f=function(tt,Q,lt,b,e,r){var s=1&lt,S=tt.length,d=Q.length;if(S!=d&&!(s&&d>S))return!1;var u=r.get(tt),N=r.get(Q);if(u&&N)return u==Q&&N==tt;var k=-1,U=!0,y=2&lt?new v:void 0;for(r.set(tt,Q),r.set(Q,tt);++k<S;){var n=tt[k],i=Q[k];if(b)var x=s?b(i,n,k,Q,tt,r):b(n,i,k,tt,Q,r);if(x!==void 0){if(x)continue;U=!1;break}if(y){if(!M(Q,function(m,C){if(F=C,!y.has(F)&&(n===m||e(n,m,lt,b,r)))return y.push(C);var F})){U=!1;break}}else if(n!==i&&!e(n,i,lt,b,r)){U=!1;break}}return r.delete(tt),r.delete(Q),U},q=t(439),l=t(7218),A=t(8138),T=function(tt){var Q=-1,lt=Array(tt.size);return tt.forEach(function(b,e){lt[++Q]=[e,b]}),lt},c=function(tt){var Q=-1,lt=Array(tt.size);return tt.forEach(function(b){lt[++Q]=b}),lt},E=q.A?q.A.prototype:void 0,L=E?E.valueOf:void 0,_=t(2816),H=Object.prototype.hasOwnProperty,Y=t(7995),st=t(723),K=t(776),p=t(5755),j="[object Arguments]",W="[object Array]",I="[object Object]",G=Object.prototype.hasOwnProperty,it=function(tt,Q,lt,b,e,r){var s=(0,st.A)(tt),S=(0,st.A)(Q),d=s?W:(0,Y.A)(tt),u=S?W:(0,Y.A)(Q),N=(d=d==j?I:d)==I,k=(u=u==j?I:u)==I,U=d==u;if(U&&(0,K.A)(tt)){if(!(0,K.A)(Q))return!1;s=!0,N=!1}if(U&&!N)return r||(r=new h.A),s||(0,p.A)(tt)?f(tt,Q,lt,b,e,r):function(m,C,F,z,Z,et,nt){switch(F){case"[object DataView]":if(m.byteLength!=C.byteLength||m.byteOffset!=C.byteOffset)return!1;m=m.buffer,C=C.buffer;case"[object ArrayBuffer]":return!(m.byteLength!=C.byteLength||!et(new l.A(m),new l.A(C)));case"[object Boolean]":case"[object Date]":case"[object Number]":return(0,A.A)(+m,+C);case"[object Error]":return m.name==C.name&&m.message==C.message;case"[object RegExp]":case"[object String]":return m==C+"";case"[object Map]":var ct=T;case"[object Set]":var dt=1&z;if(ct||(ct=c),m.size!=C.size&&!dt)return!1;var ht=nt.get(m);if(ht)return ht==C;z|=2,nt.set(m,C);var pt=f(ct(m),ct(C),z,Z,et,nt);return nt.delete(m),pt;case"[object Symbol]":if(L)return L.call(m)==L.call(C)}return!1}(tt,Q,d,lt,b,e,r);if(!(1&lt)){var y=N&&G.call(tt,"__wrapped__"),n=k&&G.call(Q,"__wrapped__");if(y||n){var i=y?tt.value():tt,x=n?Q.value():Q;return r||(r=new h.A),e(i,x,lt,b,r)}}return!!U&&(r||(r=new h.A),function(m,C,F,z,Z,et){var nt=1&F,ct=(0,_.A)(m),dt=ct.length;if(dt!=(0,_.A)(C).length&&!nt)return!1;for(var ht=dt;ht--;){var pt=ct[ht];if(!(nt?pt in C:H.call(C,pt)))return!1}var xt=et.get(m),Ot=et.get(C);if(xt&&Ot)return xt==C&&Ot==m;var Tt=!0;et.set(m,C),et.set(C,m);for(var ut=nt;++ht<dt;){var yt=m[pt=ct[ht]],Et=C[pt];if(z)var jt=nt?z(Et,yt,pt,C,m,et):z(yt,Et,pt,m,C,et);if(!(jt===void 0?yt===Et||Z(yt,Et,F,z,et):jt)){Tt=!1;break}ut||(ut=pt=="constructor")}if(Tt&&!ut){var wt=m.constructor,St=C.constructor;wt==St||!("constructor"in m)||!("constructor"in C)||typeof wt=="function"&&wt instanceof wt&&typeof St=="function"&&St instanceof St||(Tt=!1)}return et.delete(m),et.delete(C),Tt}(tt,Q,lt,b,e,r))},ot=t(7948),ft=function tt(Q,lt,b,e,r){return Q===lt||(Q==null||lt==null||!(0,ot.A)(Q)&&!(0,ot.A)(lt)?Q!=Q&&lt!=lt:it(Q,lt,b,e,tt,r))},mt=function(tt,Q){return ft(tt,Q)}},7572:function(X,R,t){var h=t(2159),w=t(659);R.A=function(O){if(!(0,w.A)(O))return!1;var v=(0,h.A)(O);return v=="[object Function]"||v=="[object GeneratorFunction]"||v=="[object AsyncFunction]"||v=="[object Proxy]"}},1628:function(X,R){R.A=function(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=9007199254740991}},659:function(X,R){R.A=function(t){var h=typeof t;return t!=null&&(h=="object"||h=="function")}},7948:function(X,R){R.A=function(t){return t!=null&&typeof t=="object"}},5755:function(X,R,t){t.d(R,{A:function(){return l}});var h=t(2159),w=t(1628),O=t(7948),v={};v["[object Float32Array]"]=v["[object Float64Array]"]=v["[object Int8Array]"]=v["[object Int16Array]"]=v["[object Int32Array]"]=v["[object Uint8Array]"]=v["[object Uint8ClampedArray]"]=v["[object Uint16Array]"]=v["[object Uint32Array]"]=!0,v["[object Arguments]"]=v["[object Array]"]=v["[object ArrayBuffer]"]=v["[object Boolean]"]=v["[object DataView]"]=v["[object Date]"]=v["[object Error]"]=v["[object Function]"]=v["[object Map]"]=v["[object Number]"]=v["[object Object]"]=v["[object RegExp]"]=v["[object Set]"]=v["[object String]"]=v["[object WeakMap]"]=!1;var M=t(5771),f=t(8795),q=f.A&&f.A.isTypedArray,l=q?(0,M.A)(q):function(A){return(0,O.A)(A)&&(0,w.A)(A.length)&&!!v[(0,h.A)(A)]}},3169:function(X,R,t){t.d(R,{A:function(){return f}});var h=t(6753),w=t(501),O=(0,t(2217).A)(Object.keys,Object),v=Object.prototype.hasOwnProperty,M=t(3628),f=function(q){return(0,M.A)(q)?(0,h.A)(q):function(l){if(!(0,w.A)(l))return O(l);var A=[];for(var T in Object(l))v.call(l,T)&&T!="constructor"&&A.push(T);return A}(q)}},2624:function(X,R,t){t.d(R,{A:function(){return q}});var h=t(6753),w=t(659),O=t(501),v=Object.prototype.hasOwnProperty,M=function(l){if(!(0,w.A)(l))return function(E){var L=[];if(E!=null)for(var _ in Object(E))L.push(_);return L}(l);var A=(0,O.A)(l),T=[];for(var c in l)(c!="constructor"||!A&&v.call(l,c))&&T.push(c);return T},f=t(3628),q=function(l){return(0,f.A)(l)?(0,h.A)(l,!0):M(l)}},8347:function(X,R,t){t.d(R,{A:function(){return n}});var h,w,O,v,M=t(2673),f=t(6770),q=t(8138),l=function(i,x,m){(m!==void 0&&!(0,q.A)(i[x],m)||m===void 0&&!(x in i))&&(0,f.A)(i,x,m)},A=function(i,x,m){for(var C=-1,F=Object(i),z=m(i),Z=z.length;Z--;){var et=z[++C];if(x(F[et],et,F)===!1)break}return i},T=t(3812),c=t(1827),E=t(4405),L=t(1683),_=t(8412),H=t(723),Y=t(3628),st=t(7948),K=t(776),p=t(7572),j=t(659),W=t(2159),I=t(8769),G=Function.prototype,it=Object.prototype,ot=G.toString,ft=it.hasOwnProperty,mt=ot.call(Object),tt=t(5755),Q=function(i,x){if((x!=="constructor"||typeof i[x]!="function")&&x!="__proto__")return i[x]},lt=t(9601),b=t(2624),e=function(i,x,m,C,F,z,Z){var et,nt=Q(i,m),ct=Q(x,m),dt=Z.get(ct);if(dt)l(i,m,dt);else{var ht=z?z(nt,ct,m+"",i,x,Z):void 0,pt=ht===void 0;if(pt){var xt=(0,H.A)(ct),Ot=!xt&&(0,K.A)(ct),Tt=!xt&&!Ot&&(0,tt.A)(ct);ht=ct,xt||Ot||Tt?(0,H.A)(nt)?ht=nt:(et=nt,(0,st.A)(et)&&(0,Y.A)(et)?ht=(0,E.A)(nt):Ot?(pt=!1,ht=(0,T.A)(ct,!0)):Tt?(pt=!1,ht=(0,c.A)(ct,!0)):ht=[]):function(ut){if(!(0,st.A)(ut)||(0,W.A)(ut)!="[object Object]")return!1;var yt=(0,I.A)(ut);if(yt===null)return!0;var Et=ft.call(yt,"constructor")&&yt.constructor;return typeof Et=="function"&&Et instanceof Et&&ot.call(Et)==mt}(ct)||(0,_.A)(ct)?(ht=nt,(0,_.A)(nt)?ht=function(ut){return(0,lt.A)(ut,(0,b.A)(ut))}(nt):(0,j.A)(nt)&&!(0,p.A)(nt)||(ht=(0,L.A)(ct))):pt=!1}pt&&(Z.set(ct,ht),F(ht,ct,C,z,Z),Z.delete(ct)),l(i,m,ht)}},r=function i(x,m,C,F,z){x!==m&&A(m,function(Z,et){if(z||(z=new M.A),(0,j.A)(Z))e(x,m,et,C,i,F,z);else{var nt=F?F(Q(x,et),Z,et+"",x,m,z):void 0;nt===void 0&&(nt=Z),l(x,et,nt)}},b.A)},s=function(i){return i},S=Math.max,d=t(7889),u=d.A?function(i,x){return(0,d.A)(i,"toString",{configurable:!0,enumerable:!1,value:(m=x,function(){return m}),writable:!0});var m}:s,N=Date.now,k=(h=u,w=0,O=0,function(){var i=N(),x=16-(i-O);if(O=i,x>0){if(++w>=800)return arguments[0]}else w=0;return h.apply(void 0,arguments)}),U=function(i,x){return k(function(m,C,F){return C=S(C===void 0?m.length-1:C,0),function(){for(var z=arguments,Z=-1,et=S(z.length-C,0),nt=Array(et);++Z<et;)nt[Z]=z[C+Z];Z=-1;for(var ct=Array(C+1);++Z<C;)ct[Z]=z[Z];return ct[C]=F(nt),function(dt,ht,pt){switch(pt.length){case 0:return dt.call(ht);case 1:return dt.call(ht,pt[0]);case 2:return dt.call(ht,pt[0],pt[1]);case 3:return dt.call(ht,pt[0],pt[1],pt[2])}return dt.apply(ht,pt)}(m,this,ct)}}(i,x,s),i+"")},y=t(3767),n=(v=function(i,x,m){r(i,x,m)},U(function(i,x){var m=-1,C=x.length,F=C>1?x[C-1]:void 0,z=C>2?x[2]:void 0;for(F=v.length>3&&typeof F=="function"?(C--,F):void 0,z&&function(et,nt,ct){if(!(0,j.A)(ct))return!1;var dt=typeof nt;return!!(dt=="number"?(0,Y.A)(ct)&&(0,y.A)(nt,ct.length):dt=="string"&&nt in ct)&&(0,q.A)(ct[nt],et)}(x[0],x[1],z)&&(F=C<3?void 0:F,C=1),i=Object(i);++m<C;){var Z=x[m];Z&&v(i,Z,m)}return i}))},6935:function(X,R){R.A=function(){return[]}},6003:function(X,R,t){t.r(R),t.d(R,{Attributor:function(){return w},AttributorStore:function(){return T},BlockBlot:function(){return I},ClassAttributor:function(){return q},ContainerBlot:function(){return it},EmbedBlot:function(){return ot},InlineBlot:function(){return j},LeafBlot:function(){return _},ParentBlot:function(){return K},Registry:function(){return M},Scope:function(){return h},ScrollBlot:function(){return tt},StyleAttributor:function(){return A},TextBlot:function(){return lt}});var h=(b=>(b[b.TYPE=3]="TYPE",b[b.LEVEL=12]="LEVEL",b[b.ATTRIBUTE=13]="ATTRIBUTE",b[b.BLOT=14]="BLOT",b[b.INLINE=7]="INLINE",b[b.BLOCK=11]="BLOCK",b[b.BLOCK_BLOT=10]="BLOCK_BLOT",b[b.INLINE_BLOT=6]="INLINE_BLOT",b[b.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",b[b.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",b[b.ANY=15]="ANY",b))(h||{});class w{constructor(e,r,s={}){this.attrName=e,this.keyName=r;const S=h.TYPE&h.ATTRIBUTE;this.scope=s.scope!=null?s.scope&h.LEVEL|S:h.ATTRIBUTE,s.whitelist!=null&&(this.whitelist=s.whitelist)}static keys(e){return Array.from(e.attributes).map(r=>r.name)}add(e,r){return!!this.canAdd(e,r)&&(e.setAttribute(this.keyName,r),!0)}canAdd(e,r){return this.whitelist==null||(typeof r=="string"?this.whitelist.indexOf(r.replace(/["']/g,""))>-1:this.whitelist.indexOf(r)>-1)}remove(e){e.removeAttribute(this.keyName)}value(e){const r=e.getAttribute(this.keyName);return this.canAdd(e,r)&&r?r:""}}class O extends Error{constructor(e){super(e="[Parchment] "+e),this.message=e,this.name=this.constructor.name}}const v=class Ve{constructor(){this.attributes={},this.classes={},this.tags={},this.types={}}static find(e,r=!1){if(e==null)return null;if(this.blots.has(e))return this.blots.get(e)||null;if(r){let s=null;try{s=e.parentNode}catch{return null}return this.find(s,r)}return null}create(e,r,s){const S=this.query(r);if(S==null)throw new O(`Unable to create ${r} blot`);const d=S,u=r instanceof Node||r.nodeType===Node.TEXT_NODE?r:d.create(s),N=new d(e,u,s);return Ve.blots.set(N.domNode,N),N}find(e,r=!1){return Ve.find(e,r)}query(e,r=h.ANY){let s;return typeof e=="string"?s=this.types[e]||this.attributes[e]:e instanceof Text||e.nodeType===Node.TEXT_NODE?s=this.types.text:typeof e=="number"?e&h.LEVEL&h.BLOCK?s=this.types.block:e&h.LEVEL&h.INLINE&&(s=this.types.inline):e instanceof Element&&((e.getAttribute("class")||"").split(/\s+/).some(S=>(s=this.classes[S],!!s)),s=s||this.tags[e.tagName]),s==null?null:"scope"in s&&r&h.LEVEL&s.scope&&r&h.TYPE&s.scope?s:null}register(...e){return e.map(r=>{const s="blotName"in r,S="attrName"in r;if(!s&&!S)throw new O("Invalid definition");if(s&&r.blotName==="abstract")throw new O("Cannot register abstract class");const d=s?r.blotName:S?r.attrName:void 0;return this.types[d]=r,S?typeof r.keyName=="string"&&(this.attributes[r.keyName]=r):s&&(r.className&&(this.classes[r.className]=r),r.tagName&&(Array.isArray(r.tagName)?r.tagName=r.tagName.map(u=>u.toUpperCase()):r.tagName=r.tagName.toUpperCase(),(Array.isArray(r.tagName)?r.tagName:[r.tagName]).forEach(u=>{(this.tags[u]==null||r.className==null)&&(this.tags[u]=r)}))),r})}};v.blots=new WeakMap;let M=v;function f(b,e){return(b.getAttribute("class")||"").split(/\s+/).filter(r=>r.indexOf(`${e}-`)===0)}const q=class extends w{static keys(b){return(b.getAttribute("class")||"").split(/\s+/).map(e=>e.split("-").slice(0,-1).join("-"))}add(b,e){return!!this.canAdd(b,e)&&(this.remove(b),b.classList.add(`${this.keyName}-${e}`),!0)}remove(b){f(b,this.keyName).forEach(e=>{b.classList.remove(e)}),b.classList.length===0&&b.removeAttribute("class")}value(b){const e=(f(b,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(b,e)?e:""}};function l(b){const e=b.split("-"),r=e.slice(1).map(s=>s[0].toUpperCase()+s.slice(1)).join("");return e[0]+r}const A=class extends w{static keys(b){return(b.getAttribute("style")||"").split(";").map(e=>e.split(":")[0].trim())}add(b,e){return!!this.canAdd(b,e)&&(b.style[l(this.keyName)]=e,!0)}remove(b){b.style[l(this.keyName)]="",b.getAttribute("style")||b.removeAttribute("style")}value(b){const e=b.style[l(this.keyName)];return this.canAdd(b,e)?e:""}},T=class{constructor(b){this.attributes={},this.domNode=b,this.build()}attribute(b,e){e?b.add(this.domNode,e)&&(b.value(this.domNode)!=null?this.attributes[b.attrName]=b:delete this.attributes[b.attrName]):(b.remove(this.domNode),delete this.attributes[b.attrName])}build(){this.attributes={};const b=M.find(this.domNode);if(b==null)return;const e=w.keys(this.domNode),r=q.keys(this.domNode),s=A.keys(this.domNode);e.concat(r).concat(s).forEach(S=>{const d=b.scroll.query(S,h.ATTRIBUTE);d instanceof w&&(this.attributes[d.attrName]=d)})}copy(b){Object.keys(this.attributes).forEach(e=>{const r=this.attributes[e].value(this.domNode);b.format(e,r)})}move(b){this.copy(b),Object.keys(this.attributes).forEach(e=>{this.attributes[e].remove(this.domNode)}),this.attributes={}}values(){return Object.keys(this.attributes).reduce((b,e)=>(b[e]=this.attributes[e].value(this.domNode),b),{})}},c=class{constructor(b,e){this.scroll=b,this.domNode=e,M.blots.set(e,this),this.prev=null,this.next=null}static create(b){if(this.tagName==null)throw new O("Blot definition missing tagName");let e,r;return Array.isArray(this.tagName)?(typeof b=="string"?(r=b.toUpperCase(),parseInt(r,10).toString()===r&&(r=parseInt(r,10))):typeof b=="number"&&(r=b),e=typeof r=="number"?document.createElement(this.tagName[r-1]):r&&this.tagName.indexOf(r)>-1?document.createElement(r):document.createElement(this.tagName[0])):e=document.createElement(this.tagName),this.className&&e.classList.add(this.className),e}get statics(){return this.constructor}attach(){}clone(){const b=this.domNode.cloneNode(!1);return this.scroll.create(b)}detach(){this.parent!=null&&this.parent.removeChild(this),M.blots.delete(this.domNode)}deleteAt(b,e){this.isolate(b,e).remove()}formatAt(b,e,r,s){const S=this.isolate(b,e);if(this.scroll.query(r,h.BLOT)!=null&&s)S.wrap(r,s);else if(this.scroll.query(r,h.ATTRIBUTE)!=null){const d=this.scroll.create(this.statics.scope);S.wrap(d),d.format(r,s)}}insertAt(b,e,r){const s=r==null?this.scroll.create("text",e):this.scroll.create(e,r),S=this.split(b);this.parent.insertBefore(s,S||void 0)}isolate(b,e){const r=this.split(b);if(r==null)throw new Error("Attempt to isolate at end");return r.split(e),r}length(){return 1}offset(b=this.parent){return this.parent==null||this===b?0:this.parent.children.offset(this)+this.parent.offset(b)}optimize(b){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)}remove(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()}replaceWith(b,e){const r=typeof b=="string"?this.scroll.create(b,e):b;return this.parent!=null&&(this.parent.insertBefore(r,this.next||void 0),this.remove()),r}split(b,e){return b===0?this:this.next}update(b,e){}wrap(b,e){const r=typeof b=="string"?this.scroll.create(b,e):b;if(this.parent!=null&&this.parent.insertBefore(r,this.next||void 0),typeof r.appendChild!="function")throw new O(`Cannot wrap ${b}`);return r.appendChild(this),r}};c.blotName="abstract";let E=c;const L=class extends E{static value(b){return!0}index(b,e){return this.domNode===b||this.domNode.compareDocumentPosition(b)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(e,1):-1}position(b,e){let r=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return b>0&&(r+=1),[this.parent.domNode,r]}value(){return{[this.statics.blotName]:this.statics.value(this.domNode)||!0}}};L.scope=h.INLINE_BLOT;const _=L;class H{constructor(){this.head=null,this.tail=null,this.length=0}append(...e){if(this.insertBefore(e[0],null),e.length>1){const r=e.slice(1);this.append(...r)}}at(e){const r=this.iterator();let s=r();for(;s&&e>0;)e-=1,s=r();return s}contains(e){const r=this.iterator();let s=r();for(;s;){if(s===e)return!0;s=r()}return!1}indexOf(e){const r=this.iterator();let s=r(),S=0;for(;s;){if(s===e)return S;S+=1,s=r()}return-1}insertBefore(e,r){e!=null&&(this.remove(e),e.next=r,r!=null?(e.prev=r.prev,r.prev!=null&&(r.prev.next=e),r.prev=e,r===this.head&&(this.head=e)):this.tail!=null?(this.tail.next=e,e.prev=this.tail,this.tail=e):(e.prev=null,this.head=this.tail=e),this.length+=1)}offset(e){let r=0,s=this.head;for(;s!=null;){if(s===e)return r;r+=s.length(),s=s.next}return-1}remove(e){this.contains(e)&&(e.prev!=null&&(e.prev.next=e.next),e.next!=null&&(e.next.prev=e.prev),e===this.head&&(this.head=e.next),e===this.tail&&(this.tail=e.prev),this.length-=1)}iterator(e=this.head){return()=>{const r=e;return e!=null&&(e=e.next),r}}find(e,r=!1){const s=this.iterator();let S=s();for(;S;){const d=S.length();if(e<d||r&&e===d&&(S.next==null||S.next.length()!==0))return[S,e];e-=d,S=s()}return[null,0]}forEach(e){const r=this.iterator();let s=r();for(;s;)e(s),s=r()}forEachAt(e,r,s){if(r<=0)return;const[S,d]=this.find(e);let u=e-d;const N=this.iterator(S);let k=N();for(;k&&u<e+r;){const U=k.length();e>u?s(k,e-u,Math.min(r,u+U-e)):s(k,0,Math.min(U,e+r-u)),u+=U,k=N()}}map(e){return this.reduce((r,s)=>(r.push(e(s)),r),[])}reduce(e,r){const s=this.iterator();let S=s();for(;S;)r=e(r,S),S=s();return r}}function Y(b,e){const r=e.find(b);if(r)return r;try{return e.create(b)}catch{const s=e.create(h.INLINE);return Array.from(b.childNodes).forEach(S=>{s.domNode.appendChild(S)}),b.parentNode&&b.parentNode.replaceChild(s.domNode,b),s.attach(),s}}const st=class qe extends E{constructor(e,r){super(e,r),this.uiNode=null,this.build()}appendChild(e){this.insertBefore(e)}attach(){super.attach(),this.children.forEach(e=>{e.attach()})}attachUI(e){this.uiNode!=null&&this.uiNode.remove(),this.uiNode=e,qe.uiClass&&this.uiNode.classList.add(qe.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)}build(){this.children=new H,Array.from(this.domNode.childNodes).filter(e=>e!==this.uiNode).reverse().forEach(e=>{try{const r=Y(e,this.scroll);this.insertBefore(r,this.children.head||void 0)}catch(r){if(r instanceof O)return;throw r}})}deleteAt(e,r){if(e===0&&r===this.length())return this.remove();this.children.forEachAt(e,r,(s,S,d)=>{s.deleteAt(S,d)})}descendant(e,r=0){const[s,S]=this.children.find(r);return e.blotName==null&&e(s)||e.blotName!=null&&s instanceof e?[s,S]:s instanceof qe?s.descendant(e,S):[null,-1]}descendants(e,r=0,s=Number.MAX_VALUE){let S=[],d=s;return this.children.forEachAt(r,s,(u,N,k)=>{(e.blotName==null&&e(u)||e.blotName!=null&&u instanceof e)&&S.push(u),u instanceof qe&&(S=S.concat(u.descendants(e,N,d))),d-=k}),S}detach(){this.children.forEach(e=>{e.detach()}),super.detach()}enforceAllowedChildren(){let e=!1;this.children.forEach(r=>{e||this.statics.allowedChildren.some(s=>r instanceof s)||(r.statics.scope===h.BLOCK_BLOT?(r.next!=null&&this.splitAfter(r),r.prev!=null&&this.splitAfter(r.prev),r.parent.unwrap(),e=!0):r instanceof qe?r.unwrap():r.remove())})}formatAt(e,r,s,S){this.children.forEachAt(e,r,(d,u,N)=>{d.formatAt(u,N,s,S)})}insertAt(e,r,s){const[S,d]=this.children.find(e);if(S)S.insertAt(d,r,s);else{const u=s==null?this.scroll.create("text",r):this.scroll.create(r,s);this.appendChild(u)}}insertBefore(e,r){e.parent!=null&&e.parent.children.remove(e);let s=null;this.children.insertBefore(e,r||null),e.parent=this,r!=null&&(s=r.domNode),(this.domNode.parentNode!==e.domNode||this.domNode.nextSibling!==s)&&this.domNode.insertBefore(e.domNode,s),e.attach()}length(){return this.children.reduce((e,r)=>e+r.length(),0)}moveChildren(e,r){this.children.forEach(s=>{e.insertBefore(s,r)})}optimize(e){if(super.optimize(e),this.enforceAllowedChildren(),this.uiNode!=null&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),this.children.length===0)if(this.statics.defaultChild!=null){const r=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(r)}else this.remove()}path(e,r=!1){const[s,S]=this.children.find(e,r),d=[[this,e]];return s instanceof qe?d.concat(s.path(S,r)):(s!=null&&d.push([s,S]),d)}removeChild(e){this.children.remove(e)}replaceWith(e,r){const s=typeof e=="string"?this.scroll.create(e,r):e;return s instanceof qe&&this.moveChildren(s),super.replaceWith(s)}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const s=this.clone();return this.parent&&this.parent.insertBefore(s,this.next||void 0),this.children.forEachAt(e,this.length(),(S,d,u)=>{const N=S.split(d,r);N!=null&&s.appendChild(N)}),s}splitAfter(e){const r=this.clone();for(;e.next!=null;)r.appendChild(e.next);return this.parent&&this.parent.insertBefore(r,this.next||void 0),r}unwrap(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()}update(e,r){const s=[],S=[];e.forEach(d=>{d.target===this.domNode&&d.type==="childList"&&(s.push(...d.addedNodes),S.push(...d.removedNodes))}),S.forEach(d=>{if(d.parentNode!=null&&d.tagName!=="IFRAME"&&document.body.compareDocumentPosition(d)&Node.DOCUMENT_POSITION_CONTAINED_BY)return;const u=this.scroll.find(d);u!=null&&(u.domNode.parentNode==null||u.domNode.parentNode===this.domNode)&&u.detach()}),s.filter(d=>d.parentNode===this.domNode&&d!==this.uiNode).sort((d,u)=>d===u?0:d.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1).forEach(d=>{let u=null;d.nextSibling!=null&&(u=this.scroll.find(d.nextSibling));const N=Y(d,this.scroll);(N.next!==u||N.next==null)&&(N.parent!=null&&N.parent.removeChild(this),this.insertBefore(N,u||void 0))}),this.enforceAllowedChildren()}};st.uiClass="";const K=st,p=class Oe extends K{static create(e){return super.create(e)}static formats(e,r){const s=r.query(Oe.blotName);if(s==null||e.tagName!==s.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new T(this.domNode)}format(e,r){if(e!==this.statics.blotName||r){const s=this.scroll.query(e,h.INLINE);if(s==null)return;s instanceof w?this.attributes.attribute(s,r):r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r)}else this.children.forEach(s=>{s instanceof Oe||(s=s.wrap(Oe.blotName,!0)),this.attributes.copy(s)}),this.unwrap()}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,s,S){this.formats()[s]!=null||this.scroll.query(s,h.ATTRIBUTE)?this.isolate(e,r).format(s,S):super.formatAt(e,r,s,S)}optimize(e){super.optimize(e);const r=this.formats();if(Object.keys(r).length===0)return this.unwrap();const s=this.next;s instanceof Oe&&s.prev===this&&function(S,d){if(Object.keys(S).length!==Object.keys(d).length)return!1;for(const u in S)if(S[u]!==d[u])return!1;return!0}(r,s.formats())&&(s.moveChildren(this),s.remove())}replaceWith(e,r){const s=super.replaceWith(e,r);return this.attributes.copy(s),s}update(e,r){super.update(e,r),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}wrap(e,r){const s=super.wrap(e,r);return s instanceof Oe&&this.attributes.move(s),s}};p.allowedChildren=[p,_],p.blotName="inline",p.scope=h.INLINE_BLOT,p.tagName="SPAN";const j=p,W=class Ke extends K{static create(e){return super.create(e)}static formats(e,r){const s=r.query(Ke.blotName);if(s==null||e.tagName!==s.tagName){if(typeof this.tagName=="string")return!0;if(Array.isArray(this.tagName))return e.tagName.toLowerCase()}}constructor(e,r){super(e,r),this.attributes=new T(this.domNode)}format(e,r){const s=this.scroll.query(e,h.BLOCK);s!=null&&(s instanceof w?this.attributes.attribute(s,r):e!==this.statics.blotName||r?r&&(e!==this.statics.blotName||this.formats()[e]!==r)&&this.replaceWith(e,r):this.replaceWith(Ke.blotName))}formats(){const e=this.attributes.values(),r=this.statics.formats(this.domNode,this.scroll);return r!=null&&(e[this.statics.blotName]=r),e}formatAt(e,r,s,S){this.scroll.query(s,h.BLOCK)!=null?this.format(s,S):super.formatAt(e,r,s,S)}insertAt(e,r,s){if(s==null||this.scroll.query(r,h.INLINE)!=null)super.insertAt(e,r,s);else{const S=this.split(e);if(S==null)throw new Error("Attempt to insertAt after block boundaries");{const d=this.scroll.create(r,s);S.parent.insertBefore(d,S)}}}replaceWith(e,r){const s=super.replaceWith(e,r);return this.attributes.copy(s),s}update(e,r){super.update(e,r),e.some(s=>s.target===this.domNode&&s.type==="attributes")&&this.attributes.build()}};W.blotName="block",W.scope=h.BLOCK_BLOT,W.tagName="P",W.allowedChildren=[j,W,_];const I=W,G=class extends K{checkMerge(){return this.next!==null&&this.next.statics.blotName===this.statics.blotName}deleteAt(b,e){super.deleteAt(b,e),this.enforceAllowedChildren()}formatAt(b,e,r,s){super.formatAt(b,e,r,s),this.enforceAllowedChildren()}insertAt(b,e,r){super.insertAt(b,e,r),this.enforceAllowedChildren()}optimize(b){super.optimize(b),this.children.length>0&&this.next!=null&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())}};G.blotName="container",G.scope=h.BLOCK_BLOT;const it=G,ot=class extends _{static formats(b,e){}format(b,e){super.formatAt(0,this.length(),b,e)}formatAt(b,e,r,s){b===0&&e===this.length()?this.format(r,s):super.formatAt(b,e,r,s)}formats(){return this.statics.formats(this.domNode,this.scroll)}},ft={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},mt=class extends K{constructor(b,e){super(null,e),this.registry=b,this.scroll=this,this.build(),this.observer=new MutationObserver(r=>{this.update(r)}),this.observer.observe(this.domNode,ft),this.attach()}create(b,e){return this.registry.create(this,b,e)}find(b,e=!1){const r=this.registry.find(b,e);return r?r.scroll===this?r:e?this.find(r.scroll.domNode.parentNode,!0):null:null}query(b,e=h.ANY){return this.registry.query(b,e)}register(...b){return this.registry.register(...b)}build(){this.scroll!=null&&super.build()}detach(){super.detach(),this.observer.disconnect()}deleteAt(b,e){this.update(),b===0&&e===this.length()?this.children.forEach(r=>{r.remove()}):super.deleteAt(b,e)}formatAt(b,e,r,s){this.update(),super.formatAt(b,e,r,s)}insertAt(b,e,r){this.update(),super.insertAt(b,e,r)}optimize(b=[],e={}){super.optimize(e);const r=e.mutationsMap||new WeakMap;let s=Array.from(this.observer.takeRecords());for(;s.length>0;)b.push(s.pop());const S=(N,k=!0)=>{N==null||N===this||N.domNode.parentNode!=null&&(r.has(N.domNode)||r.set(N.domNode,[]),k&&S(N.parent))},d=N=>{r.has(N.domNode)&&(N instanceof K&&N.children.forEach(d),r.delete(N.domNode),N.optimize(e))};let u=b;for(let N=0;u.length>0;N+=1){if(N>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(k=>{const U=this.find(k.target,!0);U!=null&&(U.domNode===k.target&&(k.type==="childList"?(S(this.find(k.previousSibling,!1)),Array.from(k.addedNodes).forEach(y=>{const n=this.find(y,!1);S(n,!1),n instanceof K&&n.children.forEach(i=>{S(i,!1)})})):k.type==="attributes"&&S(U.prev)),S(U))}),this.children.forEach(d),u=Array.from(this.observer.takeRecords()),s=u.slice();s.length>0;)b.push(s.pop())}}update(b,e={}){b=b||this.observer.takeRecords();const r=new WeakMap;b.map(s=>{const S=this.find(s.target,!0);return S==null?null:r.has(S.domNode)?(r.get(S.domNode).push(s),null):(r.set(S.domNode,[s]),S)}).forEach(s=>{s!=null&&s!==this&&r.has(s.domNode)&&s.update(r.get(s.domNode)||[],e)}),e.mutationsMap=r,r.has(this.domNode)&&super.update(r.get(this.domNode),e),this.optimize(b,e)}};mt.blotName="scroll",mt.defaultChild=I,mt.allowedChildren=[I,it],mt.scope=h.BLOCK_BLOT,mt.tagName="DIV";const tt=mt,Q=class Xe extends _{static create(e){return document.createTextNode(e)}static value(e){return e.data}constructor(e,r){super(e,r),this.text=this.statics.value(this.domNode)}deleteAt(e,r){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+r)}index(e,r){return this.domNode===e?r:-1}insertAt(e,r,s){s==null?(this.text=this.text.slice(0,e)+r+this.text.slice(e),this.domNode.data=this.text):super.insertAt(e,r,s)}length(){return this.text.length}optimize(e){super.optimize(e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof Xe&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())}position(e,r=!1){return[this.domNode,e]}split(e,r=!1){if(!r){if(e===0)return this;if(e===this.length())return this.next}const s=this.scroll.create(this.domNode.splitText(e));return this.parent.insertBefore(s,this.next||void 0),this.text=this.statics.value(this.domNode),s}update(e,r){e.some(s=>s.type==="characterData"&&s.target===this.domNode)&&(this.text=this.statics.value(this.domNode))}value(){return this.text}};Q.blotName="text",Q.scope=h.INLINE_BLOT;const lt=Q}},Ce={};function _t(X){var R=Ce[X];if(R!==void 0)return R.exports;var t=Ce[X]={id:X,loaded:!1,exports:{}};return ye[X](t,t.exports,_t),t.loaded=!0,t.exports}_t.n=function(X){var R=X&&X.__esModule?function(){return X.default}:function(){return X};return _t.d(R,{a:R}),R},_t.d=function(X,R){for(var t in R)_t.o(R,t)&&!_t.o(X,t)&&Object.defineProperty(X,t,{enumerable:!0,get:R[t]})},_t.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),_t.o=function(X,R){return Object.prototype.hasOwnProperty.call(X,R)},_t.r=function(X){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(X,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(X,"__esModule",{value:!0})},_t.nmd=function(X){return X.paths=[],X.children||(X.children=[]),X};var We={};return function(){var ee,le;_t.d(We,{default:function(){return Ne}});var X=_t(3729),R=_t(8276),t=_t(7912),h=_t(6003);class w extends h.ClassAttributor{add(o,a){let D=0;if(a==="+1"||a==="-1"){const J=this.value(o)||0;D=a==="+1"?J+1:J-1}else typeof a=="number"&&(D=a);return D===0?(this.remove(o),!0):super.add(o,D.toString())}canAdd(o,a){return super.canAdd(o,a)||super.canAdd(o,parseInt(a,10))}value(o){return parseInt(super.value(o),10)||void 0}}var O=new w("indent","ql-indent",{scope:h.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]}),v=_t(9698);class M extends v.Ay{}gt(M,"blotName","blockquote"),gt(M,"tagName","blockquote");var f=M;class q extends v.Ay{static formats(o){return this.tagName.indexOf(o.tagName)+1}}gt(q,"blotName","header"),gt(q,"tagName",["H1","H2","H3","H4","H5","H6"]);var l=q,A=_t(580),T=_t(6142);class c extends A.A{}c.blotName="list-container",c.tagName="OL";class E extends v.Ay{static create(o){const a=super.create();return a.setAttribute("data-list",o),a}static formats(o){return o.getAttribute("data-list")||void 0}static register(){T.Ay.register(c)}constructor(o,a){super(o,a);const D=a.ownerDocument.createElement("span"),J=rt=>{if(!o.isEnabled())return;const bt=this.statics.formats(a,o);bt==="checked"?(this.format("list","unchecked"),rt.preventDefault()):bt==="unchecked"&&(this.format("list","checked"),rt.preventDefault())};D.addEventListener("mousedown",J),D.addEventListener("touchstart",J),this.attachUI(D)}format(o,a){o===this.statics.blotName&&a?this.domNode.setAttribute("data-list",a):super.format(o,a)}}E.blotName="list",E.tagName="LI",c.allowedChildren=[E],E.requiredContainer=c;var L=_t(9541),_=_t(8638),H=_t(6772),Y=_t(664),st=_t(4850);class K extends st.A{static create(){return super.create()}static formats(){return!0}optimize(o){super.optimize(o),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}gt(K,"blotName","bold"),gt(K,"tagName",["STRONG","B"]);var p=K;class j extends st.A{static create(o){const a=super.create(o);return a.setAttribute("href",this.sanitize(o)),a.setAttribute("rel","noopener noreferrer"),a.setAttribute("target","_blank"),a}static formats(o){return o.getAttribute("href")}static sanitize(o){return W(o,this.PROTOCOL_WHITELIST)?o:this.SANITIZED_URL}format(o,a){o===this.statics.blotName&&a?this.domNode.setAttribute("href",this.constructor.sanitize(a)):super.format(o,a)}}gt(j,"blotName","link"),gt(j,"tagName","A"),gt(j,"SANITIZED_URL","about:blank"),gt(j,"PROTOCOL_WHITELIST",["http","https","mailto","tel","sms"]);function W($,o){const a=document.createElement("a");a.href=$;const D=a.href.slice(0,a.href.indexOf(":"));return o.indexOf(D)>-1}class I extends st.A{static create(o){return o==="super"?document.createElement("sup"):o==="sub"?document.createElement("sub"):super.create(o)}static formats(o){return o.tagName==="SUB"?"sub":o.tagName==="SUP"?"super":void 0}}gt(I,"blotName","script"),gt(I,"tagName",["SUB","SUP"]);var G=I;class it extends st.A{}gt(it,"blotName","underline"),gt(it,"tagName","U");var ot=it,ft=_t(746);class mt extends ft.A{static create(o){if(window.katex==null)throw new Error("Formula module requires KaTeX.");const a=super.create(o);return typeof o=="string"&&(window.katex.render(o,a,{throwOnError:!1,errorColor:"#f00"}),a.setAttribute("data-value",o)),a}static value(o){return o.getAttribute("data-value")}html(){const{formula:o}=this.value();return`<span>${o}</span>`}}gt(mt,"blotName","formula"),gt(mt,"className","ql-formula"),gt(mt,"tagName","SPAN");var tt=mt;const Q=["alt","height","width"];class lt extends h.EmbedBlot{static create(o){const a=super.create(o);return typeof o=="string"&&a.setAttribute("src",this.sanitize(o)),a}static formats(o){return Q.reduce((a,D)=>(o.hasAttribute(D)&&(a[D]=o.getAttribute(D)),a),{})}static match(o){return/\.(jpe?g|gif|png)$/.test(o)||/^data:image\/.+;base64/.test(o)}static sanitize(o){return W(o,["http","https","data"])?o:"//:0"}static value(o){return o.getAttribute("src")}format(o,a){Q.indexOf(o)>-1?a?this.domNode.setAttribute(o,a):this.domNode.removeAttribute(o):super.format(o,a)}}gt(lt,"blotName","image"),gt(lt,"tagName","IMG");var b=lt;const e=["height","width"];class r extends v.zo{static create(o){const a=super.create(o);return a.setAttribute("frameborder","0"),a.setAttribute("allowfullscreen","true"),a.setAttribute("src",this.sanitize(o)),a}static formats(o){return e.reduce((a,D)=>(o.hasAttribute(D)&&(a[D]=o.getAttribute(D)),a),{})}static sanitize(o){return j.sanitize(o)}static value(o){return o.getAttribute("src")}format(o,a){e.indexOf(o)>-1?a?this.domNode.setAttribute(o,a):this.domNode.removeAttribute(o):super.format(o,a)}html(){const{video:o}=this.value();return`<a href="${o}">${o}</a>`}}gt(r,"blotName","video"),gt(r,"className","ql-video"),gt(r,"tagName","IFRAME");var s=r,S=_t(9404),d=_t(5232),u=_t.n(d),N=_t(4266),k=_t(3036),U=_t(4541),y=_t(5508),n=_t(584);const i=new h.ClassAttributor("code-token","hljs",{scope:h.Scope.INLINE});class x extends st.A{static formats(o,a){for(;o!=null&&o!==a.domNode;){if(o.classList&&o.classList.contains(S.Ay.className))return super.formats(o,a);o=o.parentNode}}constructor(o,a,D){super(o,a,D),i.add(this.domNode,D)}format(o,a){o!==x.blotName?super.format(o,a):a?i.add(this.domNode,a):(i.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}optimize(){super.optimize(...arguments),i.value(this.domNode)||this.unwrap()}}x.blotName="code-token",x.className="ql-token";class m extends S.Ay{static create(o){const a=super.create(o);return typeof o=="string"&&a.setAttribute("data-language",o),a}static formats(o){return o.getAttribute("data-language")||"plain"}static register(){}format(o,a){o===this.statics.blotName&&a?this.domNode.setAttribute("data-language",a):super.format(o,a)}replaceWith(o,a){return this.formatAt(0,this.length(),x.blotName,!1),super.replaceWith(o,a)}}class C extends S.EJ{attach(){super.attach(),this.forceNext=!1,this.scroll.emitMount(this)}format(o,a){o===m.blotName&&(this.forceNext=!0,this.children.forEach(D=>{D.format(o,a)}))}formatAt(o,a,D,J){D===m.blotName&&(this.forceNext=!0),super.formatAt(o,a,D,J)}highlight(o){let a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.children.head==null)return;const D=`${Array.from(this.domNode.childNodes).filter(rt=>rt!==this.uiNode).map(rt=>rt.textContent).join(`
`)}
`,J=m.formats(this.children.head.domNode);if(a||this.forceNext||this.cachedText!==D){if(D.trim().length>0||this.cachedText==null){const rt=this.children.reduce((qt,Ht)=>qt.concat((0,v.mG)(Ht,!1)),new(u())),bt=o(D,J);rt.diff(bt).reduce((qt,Ht)=>{let{retain:Xt,attributes:$t}=Ht;return Xt?($t&&Object.keys($t).forEach(Jt=>{[m.blotName,x.blotName].includes(Jt)&&this.formatAt(qt,Xt,Jt,$t[Jt])}),qt+Xt):qt},0)}this.cachedText=D,this.forceNext=!1}}html(o,a){const[D]=this.children.find(o);return`<pre data-language="${D?m.formats(D.domNode):"plain"}">
${(0,y.X)(this.code(o,a))}
</pre>`}optimize(o){if(super.optimize(o),this.parent!=null&&this.children.head!=null&&this.uiNode!=null){const a=m.formats(this.children.head.domNode);a!==this.uiNode.value&&(this.uiNode.value=a)}}}C.allowedChildren=[m],m.requiredContainer=C,m.allowedChildren=[x,U.A,y.A,k.A];class F extends N.A{static register(){T.Ay.register(x,!0),T.Ay.register(m,!0),T.Ay.register(C,!0)}constructor(o,a){if(super(o,a),this.options.hljs==null)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");this.languages=this.options.languages.reduce((D,J)=>{let{key:rt}=J;return D[rt]=!0,D},{}),this.highlightBlot=this.highlightBlot.bind(this),this.initListener(),this.initTimer()}initListener(){this.quill.on(T.Ay.events.SCROLL_BLOT_MOUNT,o=>{if(!(o instanceof C))return;const a=this.quill.root.ownerDocument.createElement("select");this.options.languages.forEach(D=>{let{key:J,label:rt}=D;const bt=a.ownerDocument.createElement("option");bt.textContent=rt,bt.setAttribute("value",J),a.appendChild(bt)}),a.addEventListener("change",()=>{o.format(m.blotName,a.value),this.quill.root.focus(),this.highlight(o,!0)}),o.uiNode==null&&(o.attachUI(a),o.children.head&&(a.value=m.formats(o.children.head.domNode)))})}initTimer(){let o=null;this.quill.on(T.Ay.events.SCROLL_OPTIMIZE,()=>{o&&clearTimeout(o),o=setTimeout(()=>{this.highlight(),o=null},this.options.interval)})}highlight(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,a=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(this.quill.selection.composing)return;this.quill.update(T.Ay.sources.USER);const D=this.quill.getSelection();(o==null?this.quill.scroll.descendants(C):[o]).forEach(J=>{J.highlight(this.highlightBlot,a)}),this.quill.update(T.Ay.sources.SILENT),D!=null&&this.quill.setSelection(D,T.Ay.sources.SILENT)}highlightBlot(o){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"plain";if(a=this.languages[a]?a:"plain",a==="plain")return(0,y.X)(o).split(`
`).reduce((J,rt,bt)=>(bt!==0&&J.insert(`
`,{[S.Ay.blotName]:a}),J.insert(rt)),new(u()));const D=this.quill.root.ownerDocument.createElement("div");return D.classList.add(S.Ay.className),D.innerHTML=((J,rt,bt)=>{if(typeof J.versionString=="string"){const qt=J.versionString.split(".")[0];if(parseInt(qt,10)>=11)return J.highlight(bt,{language:rt}).value}return J.highlight(rt,bt).value})(this.options.hljs,a,o),(0,n.hV)(this.quill.scroll,D,[(J,rt)=>{const bt=i.value(J);return bt?rt.compose(new(u())().retain(rt.length(),{[x.blotName]:bt})):rt}],[(J,rt)=>J.data.split(`
`).reduce((bt,qt,Ht)=>(Ht!==0&&bt.insert(`
`,{[S.Ay.blotName]:a}),bt.insert(qt)),rt)],new WeakMap)}}F.DEFAULTS={hljs:window.hljs,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"JavaScript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]};const oe=class oe extends v.Ay{static create(o){const a=super.create();return o?a.setAttribute("data-row",o):a.setAttribute("data-row",ct()),a}static formats(o){if(o.hasAttribute("data-row"))return o.getAttribute("data-row")}cellOffset(){return this.parent?this.parent.children.indexOf(this):-1}format(o,a){o===oe.blotName&&a?this.domNode.setAttribute("data-row",a):super.format(o,a)}row(){return this.parent}rowOffset(){return this.row()?this.row().rowOffset():-1}table(){return this.row()&&this.row().table()}};gt(oe,"blotName","table"),gt(oe,"tagName","TD");let z=oe;class Z extends A.A{checkMerge(){if(super.checkMerge()&&this.next.children.head!=null){const o=this.children.head.formats(),a=this.children.tail.formats(),D=this.next.children.head.formats(),J=this.next.children.tail.formats();return o.table===a.table&&o.table===D.table&&o.table===J.table}return!1}optimize(o){super.optimize(o),this.children.forEach(a=>{if(a.next==null)return;const D=a.formats(),J=a.next.formats();if(D.table!==J.table){const rt=this.splitAfter(a);rt&&rt.optimize(),this.prev&&this.prev.optimize()}})}rowOffset(){return this.parent?this.parent.children.indexOf(this):-1}table(){return this.parent&&this.parent.parent}}gt(Z,"blotName","table-row"),gt(Z,"tagName","TR");class et extends A.A{}gt(et,"blotName","table-body"),gt(et,"tagName","TBODY");class nt extends A.A{balanceCells(){const o=this.descendants(Z),a=o.reduce((D,J)=>Math.max(J.children.length,D),0);o.forEach(D=>{new Array(a-D.children.length).fill(0).forEach(()=>{let J;D.children.head!=null&&(J=z.formats(D.children.head.domNode));const rt=this.scroll.create(z.blotName,J);D.appendChild(rt),rt.optimize()})})}cells(o){return this.rows().map(a=>a.children.at(o))}deleteColumn(o){const[a]=this.descendant(et);a!=null&&a.children.head!=null&&a.children.forEach(D=>{const J=D.children.at(o);J!=null&&J.remove()})}insertColumn(o){const[a]=this.descendant(et);a!=null&&a.children.head!=null&&a.children.forEach(D=>{const J=D.children.at(o),rt=z.formats(D.children.head.domNode),bt=this.scroll.create(z.blotName,rt);D.insertBefore(bt,J)})}insertRow(o){const[a]=this.descendant(et);if(a==null||a.children.head==null)return;const D=ct(),J=this.scroll.create(Z.blotName);a.children.head.children.forEach(()=>{const bt=this.scroll.create(z.blotName,D);J.appendChild(bt)});const rt=a.children.at(o);a.insertBefore(J,rt)}rows(){const o=this.children.head;return o==null?[]:o.children.map(a=>a)}}gt(nt,"blotName","table-container"),gt(nt,"tagName","TABLE");function ct(){return`row-${Math.random().toString(36).slice(2,6)}`}nt.allowedChildren=[et],et.requiredContainer=nt,et.allowedChildren=[Z],Z.requiredContainer=et,Z.allowedChildren=[z],z.requiredContainer=Z;class dt extends N.A{static register(){T.Ay.register(z),T.Ay.register(Z),T.Ay.register(et),T.Ay.register(nt)}constructor(){super(...arguments),this.listenBalanceCells()}balanceTables(){this.quill.scroll.descendants(nt).forEach(o=>{o.balanceCells()})}deleteColumn(){const[o,,a]=this.getTable();a!=null&&(o.deleteColumn(a.cellOffset()),this.quill.update(T.Ay.sources.USER))}deleteRow(){const[,o]=this.getTable();o!=null&&(o.remove(),this.quill.update(T.Ay.sources.USER))}deleteTable(){const[o]=this.getTable();if(o==null)return;const a=o.offset();o.remove(),this.quill.update(T.Ay.sources.USER),this.quill.setSelection(a,T.Ay.sources.SILENT)}getTable(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.quill.getSelection();if(o==null)return[null,null,null,-1];const[a,D]=this.quill.getLine(o.index);if(a==null||a.statics.blotName!==z.blotName)return[null,null,null,-1];const J=a.parent;return[J.parent.parent,J,a,D]}insertColumn(o){const a=this.quill.getSelection();if(!a)return;const[D,J,rt]=this.getTable(a);if(rt==null)return;const bt=rt.cellOffset();D.insertColumn(bt+o),this.quill.update(T.Ay.sources.USER);let qt=J.rowOffset();o===0&&(qt+=1),this.quill.setSelection(a.index+qt,a.length,T.Ay.sources.SILENT)}insertColumnLeft(){this.insertColumn(0)}insertColumnRight(){this.insertColumn(1)}insertRow(o){const a=this.quill.getSelection();if(!a)return;const[D,J,rt]=this.getTable(a);if(rt==null)return;const bt=J.rowOffset();D.insertRow(bt+o),this.quill.update(T.Ay.sources.USER),o>0?this.quill.setSelection(a,T.Ay.sources.SILENT):this.quill.setSelection(a.index+J.children.length,a.length,T.Ay.sources.SILENT)}insertRowAbove(){this.insertRow(0)}insertRowBelow(){this.insertRow(1)}insertTable(o,a){const D=this.quill.getSelection();if(D==null)return;const J=new Array(o).fill(0).reduce(rt=>{const bt=new Array(a).fill(`
`).join("");return rt.insert(bt,{table:ct()})},new(u())().retain(D.index));this.quill.updateContents(J,T.Ay.sources.USER),this.quill.setSelection(D.index,T.Ay.sources.SILENT),this.balanceTables()}listenBalanceCells(){this.quill.on(T.Ay.events.SCROLL_OPTIMIZE,o=>{o.some(a=>!!["TD","TR","TBODY","TABLE"].includes(a.target.tagName)&&(this.quill.once(T.Ay.events.TEXT_CHANGE,(D,J,rt)=>{rt===T.Ay.sources.USER&&this.balanceTables()}),!0))})}}var ht=dt;const pt=(0,_t(6078).A)("quill:toolbar");class xt extends N.A{constructor(o,a){var D,J;if(super(o,a),Array.isArray(this.options.container)){const rt=document.createElement("div");rt.setAttribute("role","toolbar"),function(bt,qt){Array.isArray(qt[0])||(qt=[qt]),qt.forEach(Ht=>{const Xt=document.createElement("span");Xt.classList.add("ql-formats"),Ht.forEach($t=>{if(typeof $t=="string")Ot(Xt,$t);else{const Jt=Object.keys($t)[0],P=$t[Jt];Array.isArray(P)?function(g,B,V){const at=document.createElement("select");at.classList.add(`ql-${B}`),V.forEach(kt=>{const vt=document.createElement("option");kt!==!1?vt.setAttribute("value",String(kt)):vt.setAttribute("selected","selected"),at.appendChild(vt)}),g.appendChild(at)}(Xt,Jt,P):Ot(Xt,Jt,P)}}),bt.appendChild(Xt)})}(rt,this.options.container),(J=(D=o.container)==null?void 0:D.parentNode)==null||J.insertBefore(rt,o.container),this.container=rt}else typeof this.options.container=="string"?this.container=document.querySelector(this.options.container):this.container=this.options.container;this.container instanceof HTMLElement?(this.container.classList.add("ql-toolbar"),this.controls=[],this.handlers={},this.options.handlers&&Object.keys(this.options.handlers).forEach(rt=>{var qt;const bt=(qt=this.options.handlers)==null?void 0:qt[rt];bt&&this.addHandler(rt,bt)}),Array.from(this.container.querySelectorAll("button, select")).forEach(rt=>{this.attach(rt)}),this.quill.on(T.Ay.events.EDITOR_CHANGE,()=>{const[rt]=this.quill.selection.getRange();this.update(rt)})):pt.error("Container required for toolbar",this.options)}addHandler(o,a){this.handlers[o]=a}attach(o){let a=Array.from(o.classList).find(J=>J.indexOf("ql-")===0);if(!a)return;if(a=a.slice(3),o.tagName==="BUTTON"&&o.setAttribute("type","button"),this.handlers[a]==null&&this.quill.scroll.query(a)==null)return void pt.warn("ignoring attaching to nonexistent format",a,o);const D=o.tagName==="SELECT"?"change":"click";o.addEventListener(D,J=>{let rt;if(o.tagName==="SELECT"){if(o.selectedIndex<0)return;const qt=o.options[o.selectedIndex];rt=!qt.hasAttribute("selected")&&(qt.value||!1)}else rt=!o.classList.contains("ql-active")&&(o.value||!o.hasAttribute("value")),J.preventDefault();this.quill.focus();const[bt]=this.quill.selection.getRange();if(this.handlers[a]!=null)this.handlers[a].call(this,rt);else if(this.quill.scroll.query(a).prototype instanceof h.EmbedBlot){if(rt=prompt(`Enter ${a}`),!rt)return;this.quill.updateContents(new(u())().retain(bt.index).delete(bt.length).insert({[a]:rt}),T.Ay.sources.USER)}else this.quill.format(a,rt,T.Ay.sources.USER);this.update(bt)}),this.controls.push([a,o])}update(o){const a=o==null?{}:this.quill.getFormat(o);this.controls.forEach(D=>{const[J,rt]=D;if(rt.tagName==="SELECT"){let bt=null;if(o==null)bt=null;else if(a[J]==null)bt=rt.querySelector("option[selected]");else if(!Array.isArray(a[J])){let qt=a[J];typeof qt=="string"&&(qt=qt.replace(/"/g,'\\"')),bt=rt.querySelector(`option[value="${qt}"]`)}bt==null?(rt.value="",rt.selectedIndex=-1):bt.selected=!0}else if(o==null)rt.classList.remove("ql-active"),rt.setAttribute("aria-pressed","false");else if(rt.hasAttribute("value")){const bt=a[J],qt=bt===rt.getAttribute("value")||bt!=null&&bt.toString()===rt.getAttribute("value")||bt==null&&!rt.getAttribute("value");rt.classList.toggle("ql-active",qt),rt.setAttribute("aria-pressed",qt.toString())}else{const bt=a[J]!=null;rt.classList.toggle("ql-active",bt),rt.setAttribute("aria-pressed",bt.toString())}})}}function Ot($,o,a){const D=document.createElement("button");D.setAttribute("type","button"),D.classList.add(`ql-${o}`),D.setAttribute("aria-pressed","false"),a!=null?(D.value=a,D.setAttribute("aria-label",`${o}: ${a}`)):D.setAttribute("aria-label",o),$.appendChild(D)}xt.DEFAULTS={},xt.DEFAULTS={container:null,handlers:{clean(){const $=this.quill.getSelection();if($!=null)if($.length===0){const o=this.quill.getFormat();Object.keys(o).forEach(a=>{this.quill.scroll.query(a,h.Scope.INLINE)!=null&&this.quill.format(a,!1,T.Ay.sources.USER)})}else this.quill.removeFormat($.index,$.length,T.Ay.sources.USER)},direction($){const{align:o}=this.quill.getFormat();$==="rtl"&&o==null?this.quill.format("align","right",T.Ay.sources.USER):$||o!=="right"||this.quill.format("align",!1,T.Ay.sources.USER),this.quill.format("direction",$,T.Ay.sources.USER)},indent($){const o=this.quill.getSelection(),a=this.quill.getFormat(o),D=parseInt(a.indent||0,10);if($==="+1"||$==="-1"){let J=$==="+1"?1:-1;a.direction==="rtl"&&(J*=-1),this.quill.format("indent",D+J,T.Ay.sources.USER)}},link($){$===!0&&($=prompt("Enter link URL:")),this.quill.format("link",$,T.Ay.sources.USER)},list($){const o=this.quill.getSelection(),a=this.quill.getFormat(o);$==="check"?a.list==="checked"||a.list==="unchecked"?this.quill.format("list",!1,T.Ay.sources.USER):this.quill.format("list","unchecked",T.Ay.sources.USER):this.quill.format("list",$,T.Ay.sources.USER)}}};const Tt='<svg viewbox="0 0 18 18"><polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"/><polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"/><line class="ql-stroke" x1="10" x2="8" y1="5" y2="13"/></svg>';var ut={align:{"":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="13" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="9" y1="4" y2="4"/></svg>',center:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="14" x2="4" y1="14" y2="14"/><line class="ql-stroke" x1="12" x2="6" y1="4" y2="4"/></svg>',right:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="5" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="9" y1="4" y2="4"/></svg>',justify:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="15" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="15" x2="3" y1="14" y2="14"/><line class="ql-stroke" x1="15" x2="3" y1="4" y2="4"/></svg>'},background:'<svg viewbox="0 0 18 18"><g class="ql-fill ql-color-label"><polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"/><rect height="1" width="1" x="4" y="4"/><polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"/><rect height="1" width="1" x="2" y="6"/><rect height="1" width="1" x="3" y="5"/><rect height="1" width="1" x="4" y="7"/><polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"/><rect height="1" width="1" x="2" y="12"/><rect height="1" width="1" x="2" y="9"/><rect height="1" width="1" x="2" y="15"/><polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"/><rect height="1" width="1" x="3" y="8"/><path d="M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z"/><path d="M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z"/><path d="M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z"/><rect height="1" width="1" x="12" y="2"/><rect height="1" width="1" x="11" y="3"/><path d="M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z"/><rect height="1" width="1" x="2" y="3"/><rect height="1" width="1" x="6" y="2"/><rect height="1" width="1" x="3" y="2"/><rect height="1" width="1" x="5" y="3"/><rect height="1" width="1" x="9" y="2"/><rect height="1" width="1" x="15" y="14"/><polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"/><rect height="1" width="1" x="13" y="7"/><rect height="1" width="1" x="15" y="5"/><rect height="1" width="1" x="14" y="6"/><rect height="1" width="1" x="15" y="8"/><rect height="1" width="1" x="14" y="9"/><path d="M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z"/><rect height="1" width="1" x="14" y="3"/><polygon points="12 6.868 12 6 11.62 6 12 6.868"/><rect height="1" width="1" x="15" y="2"/><rect height="1" width="1" x="12" y="5"/><rect height="1" width="1" x="13" y="4"/><polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"/><rect height="1" width="1" x="9" y="14"/><rect height="1" width="1" x="8" y="15"/><path d="M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z"/><rect height="1" width="1" x="5" y="15"/><path d="M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z"/><rect height="1" width="1" x="11" y="15"/><path d="M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z"/><rect height="1" width="1" x="14" y="15"/><rect height="1" width="1" x="15" y="11"/></g><polyline class="ql-stroke" points="5.5 13 9 5 12.5 13"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="11" y2="11"/></svg>',blockquote:'<svg viewbox="0 0 18 18"><rect class="ql-fill ql-stroke" height="3" width="3" x="4" y="5"/><rect class="ql-fill ql-stroke" height="3" width="3" x="11" y="5"/><path class="ql-even ql-fill ql-stroke" d="M7,8c0,4.031-3,5-3,5"/><path class="ql-even ql-fill ql-stroke" d="M14,8c0,4.031-3,5-3,5"/></svg>',bold:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z"/><path class="ql-stroke" d="M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z"/></svg>',clean:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="5" x2="13" y1="3" y2="3"/><line class="ql-stroke" x1="6" x2="9.35" y1="12" y2="3"/><line class="ql-stroke" x1="11" x2="15" y1="11" y2="15"/><line class="ql-stroke" x1="15" x2="11" y1="11" y2="15"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="7" x="2" y="14"/></svg>',code:Tt,"code-block":Tt,color:'<svg viewbox="0 0 18 18"><line class="ql-color-label ql-stroke ql-transparent" x1="3" x2="15" y1="15" y2="15"/><polyline class="ql-stroke" points="5.5 11 9 3 12.5 11"/><line class="ql-stroke" x1="11.63" x2="6.38" y1="9" y2="9"/></svg>',direction:{"":'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"/><line class="ql-stroke ql-fill" x1="15" x2="11" y1="4" y2="4"/><path class="ql-fill" d="M11,3a3,3,0,0,0,0,6h1V3H11Z"/><rect class="ql-fill" height="11" width="1" x="11" y="4"/><rect class="ql-fill" height="11" width="1" x="13" y="4"/></svg>',rtl:'<svg viewbox="0 0 18 18"><polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"/><line class="ql-stroke ql-fill" x1="9" x2="5" y1="4" y2="4"/><path class="ql-fill" d="M5,3A3,3,0,0,0,5,9H6V3H5Z"/><rect class="ql-fill" height="11" width="1" x="5" y="4"/><rect class="ql-fill" height="11" width="1" x="7" y="4"/></svg>'},formula:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z"/><rect class="ql-fill" height="1.6" rx="0.8" ry="0.8" width="5" x="5.15" y="6.2"/><path class="ql-fill" d="M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z"/></svg>',header:{1:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z"/></svg>',2:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',3:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.65186,12.30664a2.6742,2.6742,0,0,1-2.915,2.68457,3.96592,3.96592,0,0,1-2.25537-.6709.56007.56007,0,0,1-.13232-.83594L11.64648,13c.209-.34082.48389-.36328.82471-.1543a2.32654,2.32654,0,0,0,1.12256.33008c.71484,0,1.12207-.35156,1.12207-.78125,0-.61523-.61621-.86816-1.46338-.86816H13.2085a.65159.65159,0,0,1-.68213-.41895l-.05518-.10937a.67114.67114,0,0,1,.14307-.78125l.71533-.86914a8.55289,8.55289,0,0,1,.68213-.7373V8.58887a3.93913,3.93913,0,0,1-.748.05469H11.9873a.54085.54085,0,0,1-.605-.60547V7.59863a.54085.54085,0,0,1,.605-.60547h3.75146a.53773.53773,0,0,1,.60547.59375v.17676a1.03723,1.03723,0,0,1-.27539.748L14.74854,10.0293A2.31132,2.31132,0,0,1,16.65186,12.30664ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',4:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm7.05371,7.96582v.38477c0,.39648-.165.60547-.46191.60547h-.47314v1.29785a.54085.54085,0,0,1-.605.60547h-.69336a.54085.54085,0,0,1-.605-.60547V12.95605H11.333a.5412.5412,0,0,1-.60547-.60547v-.15332a1.199,1.199,0,0,1,.22021-.748l2.56348-4.05957a.7819.7819,0,0,1,.72607-.39648h1.27637a.54085.54085,0,0,1,.605.60547v3.7627h.33008A.54055.54055,0,0,1,17.05371,11.96582ZM14.28125,8.7207h-.022a4.18969,4.18969,0,0,1-.38525.81348l-1.188,1.80469v.02246h1.5293V9.60059A7.04058,7.04058,0,0,1,14.28125,8.7207Z"/></svg>',5:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M16.74023,12.18555a2.75131,2.75131,0,0,1-2.91553,2.80566,3.908,3.908,0,0,1-2.25537-.68164.54809.54809,0,0,1-.13184-.8252L11.73438,13c.209-.34082.48389-.36328.8252-.1543a2.23757,2.23757,0,0,0,1.1001.33008,1.01827,1.01827,0,0,0,1.1001-.96777c0-.61621-.53906-.97949-1.25439-.97949a2.15554,2.15554,0,0,0-.64893.09961,1.15209,1.15209,0,0,1-.814.01074l-.12109-.04395a.64116.64116,0,0,1-.45117-.71484l.231-3.00391a.56666.56666,0,0,1,.62744-.583H15.541a.54085.54085,0,0,1,.605.60547v.43945a.54085.54085,0,0,1-.605.60547H13.41748l-.04395.72559a1.29306,1.29306,0,0,1-.04395.30859h.022a2.39776,2.39776,0,0,1,.57227-.07715A2.53266,2.53266,0,0,1,16.74023,12.18555ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z"/></svg>',6:'<svg viewBox="0 0 18 18"><path class="ql-fill" d="M14.51758,9.64453a1.85627,1.85627,0,0,0-1.24316.38477H13.252a1.73532,1.73532,0,0,1,1.72754-1.4082,2.66491,2.66491,0,0,1,.5498.06641c.35254.05469.57227.01074.70508-.40723l.16406-.5166a.53393.53393,0,0,0-.373-.75977,4.83723,4.83723,0,0,0-1.17773-.14258c-2.43164,0-3.7627,2.17773-3.7627,4.43359,0,2.47559,1.60645,3.69629,3.19043,3.69629A2.70585,2.70585,0,0,0,16.96,12.19727,2.43861,2.43861,0,0,0,14.51758,9.64453Zm-.23047,3.58691c-.67187,0-1.22168-.81445-1.22168-1.45215,0-.47363.30762-.583.72559-.583.96875,0,1.27734.59375,1.27734,1.12207A.82182.82182,0,0,1,14.28711,13.23145ZM10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Z"/></svg>'},italic:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="13" y1="4" y2="4"/><line class="ql-stroke" x1="5" x2="11" y1="14" y2="14"/><line class="ql-stroke" x1="8" x2="10" y1="14" y2="4"/></svg>',image:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="10" width="12" x="3" y="4"/><circle class="ql-fill" cx="6" cy="7" r="1"/><polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"/></svg>',indent:{"+1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"/></svg>',"-1":'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="3" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="5 7 5 11 3 9 5 7"/></svg>'},link:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="11" y1="7" y2="11"/><path class="ql-even ql-stroke" d="M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z"/><path class="ql-even ql-stroke" d="M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z"/></svg>',list:{bullet:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="6" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="6" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="6" x2="15" y1="14" y2="14"/><line class="ql-stroke" x1="3" x2="3" y1="4" y2="4"/><line class="ql-stroke" x1="3" x2="3" y1="9" y2="9"/><line class="ql-stroke" x1="3" x2="3" y1="14" y2="14"/></svg>',check:'<svg class="" viewbox="0 0 18 18"><line class="ql-stroke" x1="9" x2="15" y1="4" y2="4"/><polyline class="ql-stroke" points="3 4 4 5 6 3"/><line class="ql-stroke" x1="9" x2="15" y1="14" y2="14"/><polyline class="ql-stroke" points="3 14 4 15 6 13"/><line class="ql-stroke" x1="9" x2="15" y1="9" y2="9"/><polyline class="ql-stroke" points="3 9 4 10 6 8"/></svg>',ordered:'<svg viewbox="0 0 18 18"><line class="ql-stroke" x1="7" x2="15" y1="4" y2="4"/><line class="ql-stroke" x1="7" x2="15" y1="9" y2="9"/><line class="ql-stroke" x1="7" x2="15" y1="14" y2="14"/><line class="ql-stroke ql-thin" x1="2.5" x2="4.5" y1="5.5" y2="5.5"/><path class="ql-fill" d="M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z"/><path class="ql-stroke ql-thin" d="M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156"/><path class="ql-stroke ql-thin" d="M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109"/></svg>'},script:{sub:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z"/><path class="ql-fill" d="M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z"/></svg>',super:'<svg viewbox="0 0 18 18"><path class="ql-fill" d="M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z"/><path class="ql-fill" d="M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z"/></svg>'},strike:'<svg viewbox="0 0 18 18"><line class="ql-stroke ql-thin" x1="15.5" x2="2.5" y1="8.5" y2="9.5"/><path class="ql-fill" d="M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z"/><path class="ql-fill" d="M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z"/></svg>',table:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="2" width="3" x="5" y="5"/><rect class="ql-fill" height="2" width="4" x="9" y="5"/><g class="ql-fill ql-transparent"><rect height="2" width="3" x="5" y="8"/><rect height="2" width="4" x="9" y="8"/><rect height="2" width="3" x="5" y="11"/><rect height="2" width="4" x="9" y="11"/></g></svg>',underline:'<svg viewbox="0 0 18 18"><path class="ql-stroke" d="M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3"/><rect class="ql-fill" height="1" rx="0.5" ry="0.5" width="12" x="3" y="15"/></svg>',video:'<svg viewbox="0 0 18 18"><rect class="ql-stroke" height="12" width="12" x="3" y="3"/><rect class="ql-fill" height="12" width="1" x="5" y="3"/><rect class="ql-fill" height="12" width="1" x="12" y="3"/><rect class="ql-fill" height="2" width="8" x="5" y="8"/><rect class="ql-fill" height="1" width="3" x="3" y="5"/><rect class="ql-fill" height="1" width="3" x="3" y="7"/><rect class="ql-fill" height="1" width="3" x="3" y="10"/><rect class="ql-fill" height="1" width="3" x="3" y="12"/><rect class="ql-fill" height="1" width="3" x="12" y="5"/><rect class="ql-fill" height="1" width="3" x="12" y="7"/><rect class="ql-fill" height="1" width="3" x="12" y="10"/><rect class="ql-fill" height="1" width="3" x="12" y="12"/></svg>'};let yt=0;function Et($,o){$.setAttribute(o,`${$.getAttribute(o)!=="true"}`)}var jt=class{constructor($){this.select=$,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",()=>{this.togglePicker()}),this.label.addEventListener("keydown",o=>{switch(o.key){case"Enter":this.togglePicker();break;case"Escape":this.escape(),o.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}togglePicker(){this.container.classList.toggle("ql-expanded"),Et(this.label,"aria-expanded"),Et(this.options,"aria-hidden")}buildItem($){const o=document.createElement("span");o.tabIndex="0",o.setAttribute("role","button"),o.classList.add("ql-picker-item");const a=$.getAttribute("value");return a&&o.setAttribute("data-value",a),$.textContent&&o.setAttribute("data-label",$.textContent),o.addEventListener("click",()=>{this.selectItem(o,!0)}),o.addEventListener("keydown",D=>{switch(D.key){case"Enter":this.selectItem(o,!0),D.preventDefault();break;case"Escape":this.escape(),D.preventDefault()}}),o}buildLabel(){const $=document.createElement("span");return $.classList.add("ql-picker-label"),$.innerHTML='<svg viewbox="0 0 18 18"><polygon class="ql-stroke" points="7 11 9 13 11 11 7 11"/><polygon class="ql-stroke" points="7 7 9 5 11 7 7 7"/></svg>',$.tabIndex="0",$.setAttribute("role","button"),$.setAttribute("aria-expanded","false"),this.container.appendChild($),$}buildOptions(){const $=document.createElement("span");$.classList.add("ql-picker-options"),$.setAttribute("aria-hidden","true"),$.tabIndex="-1",$.id=`ql-picker-options-${yt}`,yt+=1,this.label.setAttribute("aria-controls",$.id),this.options=$,Array.from(this.select.options).forEach(o=>{const a=this.buildItem(o);$.appendChild(a),o.selected===!0&&this.selectItem(a)}),this.container.appendChild($)}buildPicker(){Array.from(this.select.attributes).forEach($=>{this.container.setAttribute($.name,$.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}escape(){this.close(),setTimeout(()=>this.label.focus(),1)}close(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}selectItem($){let o=arguments.length>1&&arguments[1]!==void 0&&arguments[1];const a=this.container.querySelector(".ql-selected");$!==a&&(a!=null&&a.classList.remove("ql-selected"),$!=null&&($.classList.add("ql-selected"),this.select.selectedIndex=Array.from($.parentNode.children).indexOf($),$.hasAttribute("data-value")?this.label.setAttribute("data-value",$.getAttribute("data-value")):this.label.removeAttribute("data-value"),$.hasAttribute("data-label")?this.label.setAttribute("data-label",$.getAttribute("data-label")):this.label.removeAttribute("data-label"),o&&(this.select.dispatchEvent(new Event("change")),this.close())))}update(){let $;if(this.select.selectedIndex>-1){const a=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];$=this.select.options[this.select.selectedIndex],this.selectItem(a)}else this.selectItem(null);const o=$!=null&&$!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",o)}},wt=class extends jt{constructor($,o){super($),this.label.innerHTML=o,this.container.classList.add("ql-color-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).slice(0,7).forEach(a=>{a.classList.add("ql-primary")})}buildItem($){const o=super.buildItem($);return o.style.backgroundColor=$.getAttribute("value")||"",o}selectItem($,o){super.selectItem($,o);const a=this.label.querySelector(".ql-color-label"),D=$&&$.getAttribute("data-value")||"";a&&(a.tagName==="line"?a.style.stroke=D:a.style.fill=D)}},St=class extends jt{constructor($,o){super($),this.container.classList.add("ql-icon-picker"),Array.from(this.container.querySelectorAll(".ql-picker-item")).forEach(a=>{a.innerHTML=o[a.getAttribute("data-value")||""]}),this.defaultItem=this.container.querySelector(".ql-selected"),this.selectItem(this.defaultItem)}selectItem($,o){super.selectItem($,o);const a=$||this.defaultItem;if(a!=null){if(this.label.innerHTML===a.innerHTML)return;this.label.innerHTML=a.innerHTML}}},It=class{constructor($,o){this.quill=$,this.boundsContainer=o||document.body,this.root=$.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,(a=>{const{overflowY:D}=getComputedStyle(a,null);return D!=="visible"&&D!=="clip"})(this.quill.root)&&this.quill.root.addEventListener("scroll",()=>{this.root.style.marginTop=-1*this.quill.root.scrollTop+"px"}),this.hide()}hide(){this.root.classList.add("ql-hidden")}position($){const o=$.left+$.width/2-this.root.offsetWidth/2,a=$.bottom+this.quill.root.scrollTop;this.root.style.left=`${o}px`,this.root.style.top=`${a}px`,this.root.classList.remove("ql-flip");const D=this.boundsContainer.getBoundingClientRect(),J=this.root.getBoundingClientRect();let rt=0;if(J.right>D.right&&(rt=D.right-J.right,this.root.style.left=`${o+rt}px`),J.left<D.left&&(rt=D.left-J.left,this.root.style.left=`${o+rt}px`),J.bottom>D.bottom){const bt=J.bottom-J.top,qt=$.bottom-$.top+bt;this.root.style.top=a-qt+"px",this.root.classList.add("ql-flip")}return rt}show(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}},zt=_t(8347),Ct=_t(5374),ve=_t(9609);const ke=[!1,"center","right","justify"],ge=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],Te=[!1,"serif","monospace"],_e=["1","2","3",!1],Se=["small",!1,"large","huge"];class he extends ve.A{constructor(o,a){super(o,a);const D=J=>{document.body.contains(o.root)?(this.tooltip==null||this.tooltip.root.contains(J.target)||document.activeElement===this.tooltip.textbox||this.quill.hasFocus()||this.tooltip.hide(),this.pickers!=null&&this.pickers.forEach(rt=>{rt.container.contains(J.target)||rt.close()})):document.body.removeEventListener("click",D)};o.emitter.listenDOM("click",document.body,D)}addModule(o){const a=super.addModule(o);return o==="toolbar"&&this.extendToolbar(a),a}buildButtons(o,a){Array.from(o).forEach(D=>{(D.getAttribute("class")||"").split(/\s+/).forEach(J=>{if(J.startsWith("ql-")&&(J=J.slice(3),a[J]!=null))if(J==="direction")D.innerHTML=a[J][""]+a[J].rtl;else if(typeof a[J]=="string")D.innerHTML=a[J];else{const rt=D.value||"";rt!=null&&a[J][rt]&&(D.innerHTML=a[J][rt])}})})}buildPickers(o,a){this.pickers=Array.from(o).map(D=>{if(D.classList.contains("ql-align")&&(D.querySelector("option")==null&&Gt(D,ke),typeof a.align=="object"))return new St(D,a.align);if(D.classList.contains("ql-background")||D.classList.contains("ql-color")){const J=D.classList.contains("ql-background")?"background":"color";return D.querySelector("option")==null&&Gt(D,ge,J==="background"?"#ffffff":"#000000"),new wt(D,a[J])}return D.querySelector("option")==null&&(D.classList.contains("ql-font")?Gt(D,Te):D.classList.contains("ql-header")?Gt(D,_e):D.classList.contains("ql-size")&&Gt(D,Se)),new jt(D)}),this.quill.on(Ct.A.events.EDITOR_CHANGE,()=>{this.pickers.forEach(D=>{D.update()})})}}he.DEFAULTS=(0,zt.A)({},ve.A.DEFAULTS,{modules:{toolbar:{handlers:{formula(){this.quill.theme.tooltip.edit("formula")},image(){let $=this.container.querySelector("input.ql-image[type=file]");$==null&&($=document.createElement("input"),$.setAttribute("type","file"),$.setAttribute("accept",this.quill.uploader.options.mimetypes.join(", ")),$.classList.add("ql-image"),$.addEventListener("change",()=>{const o=this.quill.getSelection(!0);this.quill.uploader.upload(o,$.files),$.value=""}),this.container.appendChild($)),$.click()},video(){this.quill.theme.tooltip.edit("video")}}}}});class ce extends It{constructor(o,a){super(o,a),this.textbox=this.root.querySelector('input[type="text"]'),this.listen()}listen(){this.textbox.addEventListener("keydown",o=>{o.key==="Enter"?(this.save(),o.preventDefault()):o.key==="Escape"&&(this.cancel(),o.preventDefault())})}cancel(){this.hide(),this.restoreFocus()}edit(){let o=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),this.textbox==null)return;a!=null?this.textbox.value=a:o!==this.root.getAttribute("data-mode")&&(this.textbox.value="");const D=this.quill.getBounds(this.quill.selection.savedRange);D!=null&&this.position(D),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute(`data-${o}`)||""),this.root.setAttribute("data-mode",o)}restoreFocus(){this.quill.focus({preventScroll:!0})}save(){let{value:o}=this.textbox;switch(this.root.getAttribute("data-mode")){case"link":{const{scrollTop:a}=this.quill.root;this.linkRange?(this.quill.formatText(this.linkRange,"link",o,Ct.A.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",o,Ct.A.sources.USER)),this.quill.root.scrollTop=a;break}case"video":o=function(a){let D=a.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||a.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return D?`${D[1]||"https"}://www.youtube.com/embed/${D[2]}?showinfo=0`:(D=a.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?`${D[1]||"https"}://player.vimeo.com/video/${D[2]}/`:a}(o);case"formula":{if(!o)break;const a=this.quill.getSelection(!0);if(a!=null){const D=a.index+a.length;this.quill.insertEmbed(D,this.root.getAttribute("data-mode"),o,Ct.A.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(D+1," ",Ct.A.sources.USER),this.quill.setSelection(D+2,Ct.A.sources.USER)}break}}this.textbox.value="",this.hide()}}function Gt($,o){let a=arguments.length>2&&arguments[2]!==void 0&&arguments[2];o.forEach(D=>{const J=document.createElement("option");D===a?J.setAttribute("selected","selected"):J.setAttribute("value",String(D)),$.appendChild(J)})}var ie=_t(8298);const ne=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]];class Ft extends ce{constructor(o,a){super(o,a),this.quill.on(Ct.A.events.EDITOR_CHANGE,(D,J,rt,bt)=>{if(D===Ct.A.events.SELECTION_CHANGE)if(J!=null&&J.length>0&&bt===Ct.A.sources.USER){this.show(),this.root.style.left="0px",this.root.style.width="",this.root.style.width=`${this.root.offsetWidth}px`;const qt=this.quill.getLines(J.index,J.length);if(qt.length===1){const Ht=this.quill.getBounds(J);Ht!=null&&this.position(Ht)}else{const Ht=qt[qt.length-1],Xt=this.quill.getIndex(Ht),$t=Math.min(Ht.length()-1,J.index+J.length-Xt),Jt=this.quill.getBounds(new ie.Q(Xt,$t));Jt!=null&&this.position(Jt)}}else document.activeElement!==this.textbox&&this.quill.hasFocus()&&this.hide()})}listen(){super.listen(),this.root.querySelector(".ql-close").addEventListener("click",()=>{this.root.classList.remove("ql-editing")}),this.quill.on(Ct.A.events.SCROLL_OPTIMIZE,()=>{setTimeout(()=>{if(this.root.classList.contains("ql-hidden"))return;const o=this.quill.getSelection();if(o!=null){const a=this.quill.getBounds(o);a!=null&&this.position(a)}},1)})}cancel(){this.show()}position(o){const a=super.position(o),D=this.root.querySelector(".ql-tooltip-arrow");return D.style.marginLeft="",a!==0&&(D.style.marginLeft=-1*a-D.offsetWidth/2+"px"),a}}gt(Ft,"TEMPLATE",['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""));class re extends he{constructor(o,a){a.modules.toolbar!=null&&a.modules.toolbar.container==null&&(a.modules.toolbar.container=ne),super(o,a),this.quill.container.classList.add("ql-bubble")}extendToolbar(o){this.tooltip=new Ft(this.quill,this.options.bounds),o.container!=null&&(this.tooltip.root.appendChild(o.container),this.buildButtons(o.container.querySelectorAll("button"),ut),this.buildPickers(o.container.querySelectorAll("select"),ut))}}re.DEFAULTS=(0,zt.A)({},he.DEFAULTS,{modules:{toolbar:{handlers:{link($){$?this.quill.theme.tooltip.edit():this.quill.format("link",!1,T.Ay.sources.USER)}}}}});const se=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]];class Ae extends ce{constructor(){super(...arguments);gt(this,"preview",this.root.querySelector("a.ql-preview"))}listen(){super.listen(),this.root.querySelector("a.ql-action").addEventListener("click",a=>{this.root.classList.contains("ql-editing")?this.save():this.edit("link",this.preview.textContent),a.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",a=>{if(this.linkRange!=null){const D=this.linkRange;this.restoreFocus(),this.quill.formatText(D,"link",!1,Ct.A.sources.USER),delete this.linkRange}a.preventDefault(),this.hide()}),this.quill.on(Ct.A.events.SELECTION_CHANGE,(a,D,J)=>{if(a!=null){if(a.length===0&&J===Ct.A.sources.USER){const[rt,bt]=this.quill.scroll.descendant(j,a.index);if(rt!=null){this.linkRange=new ie.Q(a.index-bt,rt.length());const qt=j.formats(rt.domNode);this.preview.textContent=qt,this.preview.setAttribute("href",qt),this.show();const Ht=this.quill.getBounds(this.linkRange);return void(Ht!=null&&this.position(Ht))}}else delete this.linkRange;this.hide()}})}show(){super.show(),this.root.removeAttribute("data-mode")}}gt(Ae,"TEMPLATE",['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""));class fe extends he{constructor(o,a){a.modules.toolbar!=null&&a.modules.toolbar.container==null&&(a.modules.toolbar.container=se),super(o,a),this.quill.container.classList.add("ql-snow")}extendToolbar(o){o.container!=null&&(o.container.classList.add("ql-snow"),this.buildButtons(o.container.querySelectorAll("button"),ut),this.buildPickers(o.container.querySelectorAll("select"),ut),this.tooltip=new Ae(this.quill,this.options.bounds),o.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"k",shortKey:!0},(a,D)=>{o.handlers.link.call(o,!D.format.link)}))}}fe.DEFAULTS=(0,zt.A)({},he.DEFAULTS,{modules:{toolbar:{handlers:{link($){if($){const o=this.quill.getSelection();if(o==null||o.length===0)return;let a=this.quill.getText(o);/^\S+@\S+\.\S+$/.test(a)&&a.indexOf("mailto:")!==0&&(a=`mailto:${a}`);const{tooltip:D}=this.quill.theme;D.edit("link",a)}else this.quill.format("link",!1,T.Ay.sources.USER)}}}}});var xe=fe;X.default.register({"attributors/attribute/direction":t.Mc,"attributors/class/align":R.qh,"attributors/class/background":L.l,"attributors/class/color":_.g3,"attributors/class/direction":t.sY,"attributors/class/font":H.q,"attributors/class/size":Y.U,"attributors/style/align":R.Hu,"attributors/style/background":L.s,"attributors/style/color":_.JM,"attributors/style/direction":t.VL,"attributors/style/font":H.z,"attributors/style/size":Y.r},!0),X.default.register({"formats/align":R.qh,"formats/direction":t.sY,"formats/indent":O,"formats/background":L.s,"formats/color":_.JM,"formats/font":H.q,"formats/size":Y.U,"formats/blockquote":f,"formats/code-block":S.Ay,"formats/header":l,"formats/list":E,"formats/bold":p,"formats/code":S.Cy,"formats/italic":(ee=class extends p{},gt(ee,"blotName","italic"),gt(ee,"tagName",["EM","I"]),ee),"formats/link":j,"formats/script":G,"formats/strike":(le=class extends p{},gt(le,"blotName","strike"),gt(le,"tagName",["S","STRIKE"]),le),"formats/underline":ot,"formats/formula":tt,"formats/image":b,"formats/video":s,"modules/syntax":F,"modules/table":ht,"modules/toolbar":xt,"themes/bubble":re,"themes/snow":xe,"ui/icons":ut,"ui/picker":jt,"ui/icon-picker":St,"ui/color-picker":wt,"ui/tooltip":It},!0);var Ne=X.default}(),We.default}()})})(ze,ze.exports);var tn=ze.exports;const en=Je(tn);try{window.Quill=en}catch{}
